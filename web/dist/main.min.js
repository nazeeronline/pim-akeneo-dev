webpackJsonp([0],[function(t,e,i){var n;(function(){var i=this,r=i._,o=Array.prototype,a=Object.prototype,s=Function.prototype,l=o.push,c=o.slice,u=a.toString,d=a.hasOwnProperty,p=Array.isArray,h=Object.keys,f=s.bind,m=Object.create,g=function(){},v=function(t){return t instanceof v?t:this instanceof v?void(this._wrapped=t):new v(t)};void 0!==t&&t.exports&&(e=t.exports=v),e._=v,v.VERSION="1.8.3";var b=function(t,e,i){if(void 0===e)return t;switch(null==i?3:i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)};case 4:return function(i,n,r,o){return t.call(e,i,n,r,o)}}return function(){return t.apply(e,arguments)}},y=function(t,e,i){return null==t?v.identity:v.isFunction(t)?b(t,e,i):v.isObject(t)?v.matcher(t):v.property(t)};v.iteratee=function(t,e){return y(t,e,1/0)};var _=function(t,e){return function(i){var n=arguments.length;if(n<2||null==i)return i;for(var r=1;r<n;r++)for(var o=arguments[r],a=t(o),s=a.length,l=0;l<s;l++){var c=a[l];e&&void 0!==i[c]||(i[c]=o[c])}return i}},k=function(t){if(!v.isObject(t))return{};if(m)return m(t);g.prototype=t;var e=new g;return g.prototype=null,e},x=function(t){return function(e){return null==e?void 0:e[t]}},A=Math.pow(2,53)-1,C=x("length"),w=function(t){var e=C(t);return"number"==typeof e&&e>=0&&e<=A};function T(t){return function(e,i,n,r){i=b(i,r,4);var o=!w(e)&&v.keys(e),a=(o||e).length,s=t>0?0:a-1;return arguments.length<3&&(n=e[o?o[s]:s],s+=t),function(e,i,n,r,o,a){for(;o>=0&&o<a;o+=t){var s=r?r[o]:o;n=i(n,e[s],s,e)}return n}(e,i,n,o,s,a)}}v.each=v.forEach=function(t,e,i){var n,r;if(e=b(e,i),w(t))for(n=0,r=t.length;n<r;n++)e(t[n],n,t);else{var o=v.keys(t);for(n=0,r=o.length;n<r;n++)e(t[o[n]],o[n],t)}return t},v.map=v.collect=function(t,e,i){e=y(e,i);for(var n=!w(t)&&v.keys(t),r=(n||t).length,o=Array(r),a=0;a<r;a++){var s=n?n[a]:a;o[a]=e(t[s],s,t)}return o},v.reduce=v.foldl=v.inject=T(1),v.reduceRight=v.foldr=T(-1),v.find=v.detect=function(t,e,i){var n;if(void 0!==(n=w(t)?v.findIndex(t,e,i):v.findKey(t,e,i))&&-1!==n)return t[n]},v.filter=v.select=function(t,e,i){var n=[];return e=y(e,i),v.each(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n},v.reject=function(t,e,i){return v.filter(t,v.negate(y(e)),i)},v.every=v.all=function(t,e,i){e=y(e,i);for(var n=!w(t)&&v.keys(t),r=(n||t).length,o=0;o<r;o++){var a=n?n[o]:o;if(!e(t[a],a,t))return!1}return!0},v.some=v.any=function(t,e,i){e=y(e,i);for(var n=!w(t)&&v.keys(t),r=(n||t).length,o=0;o<r;o++){var a=n?n[o]:o;if(e(t[a],a,t))return!0}return!1},v.contains=v.includes=v.include=function(t,e,i,n){return w(t)||(t=v.values(t)),("number"!=typeof i||n)&&(i=0),v.indexOf(t,e,i)>=0},v.invoke=function(t,e){var i=c.call(arguments,2),n=v.isFunction(e);return v.map(t,function(t){var r=n?e:t[e];return null==r?r:r.apply(t,i)})},v.pluck=function(t,e){return v.map(t,v.property(e))},v.where=function(t,e){return v.filter(t,v.matcher(e))},v.findWhere=function(t,e){return v.find(t,v.matcher(e))},v.max=function(t,e,i){var n,r,o=-1/0,a=-1/0;if(null==e&&null!=t)for(var s=0,l=(t=w(t)?t:v.values(t)).length;s<l;s++)(n=t[s])>o&&(o=n);else e=y(e,i),v.each(t,function(t,i,n){((r=e(t,i,n))>a||r===-1/0&&o===-1/0)&&(o=t,a=r)});return o},v.min=function(t,e,i){var n,r,o=1/0,a=1/0;if(null==e&&null!=t)for(var s=0,l=(t=w(t)?t:v.values(t)).length;s<l;s++)(n=t[s])<o&&(o=n);else e=y(e,i),v.each(t,function(t,i,n){((r=e(t,i,n))<a||r===1/0&&o===1/0)&&(o=t,a=r)});return o},v.shuffle=function(t){for(var e,i=w(t)?t:v.values(t),n=i.length,r=Array(n),o=0;o<n;o++)(e=v.random(0,o))!==o&&(r[o]=r[e]),r[e]=i[o];return r},v.sample=function(t,e,i){return null==e||i?(w(t)||(t=v.values(t)),t[v.random(t.length-1)]):v.shuffle(t).slice(0,Math.max(0,e))},v.sortBy=function(t,e,i){return e=y(e,i),v.pluck(v.map(t,function(t,i,n){return{value:t,index:i,criteria:e(t,i,n)}}).sort(function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(i<n||void 0===n)return-1}return t.index-e.index}),"value")};var S=function(t){return function(e,i,n){var r={};return i=y(i,n),v.each(e,function(n,o){var a=i(n,o,e);t(r,n,a)}),r}};v.groupBy=S(function(t,e,i){v.has(t,i)?t[i].push(e):t[i]=[e]}),v.indexBy=S(function(t,e,i){t[i]=e}),v.countBy=S(function(t,e,i){v.has(t,i)?t[i]++:t[i]=1}),v.toArray=function(t){return t?v.isArray(t)?c.call(t):w(t)?v.map(t,v.identity):v.values(t):[]},v.size=function(t){return null==t?0:w(t)?t.length:v.keys(t).length},v.partition=function(t,e,i){e=y(e,i);var n=[],r=[];return v.each(t,function(t,i,o){(e(t,i,o)?n:r).push(t)}),[n,r]},v.first=v.head=v.take=function(t,e,i){if(null!=t)return null==e||i?t[0]:v.initial(t,t.length-e)},v.initial=function(t,e,i){return c.call(t,0,Math.max(0,t.length-(null==e||i?1:e)))},v.last=function(t,e,i){if(null!=t)return null==e||i?t[t.length-1]:v.rest(t,Math.max(0,t.length-e))},v.rest=v.tail=v.drop=function(t,e,i){return c.call(t,null==e||i?1:e)},v.compact=function(t){return v.filter(t,v.identity)};var F=function(t,e,i,n){for(var r=[],o=0,a=n||0,s=C(t);a<s;a++){var l=t[a];if(w(l)&&(v.isArray(l)||v.isArguments(l))){e||(l=F(l,e,i));var c=0,u=l.length;for(r.length+=u;c<u;)r[o++]=l[c++]}else i||(r[o++]=l)}return r};function E(t){return function(e,i,n){i=y(i,n);for(var r=C(e),o=t>0?0:r-1;o>=0&&o<r;o+=t)if(i(e[o],o,e))return o;return-1}}function L(t,e,i){return function(n,r,o){var a=0,s=C(n);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(i&&o&&s)return n[o=i(n,r)]===r?o:-1;if(r!=r)return(o=e(c.call(n,a,s),v.isNaN))>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&o<s;o+=t)if(n[o]===r)return o;return-1}}v.flatten=function(t,e){return F(t,e,!1)},v.without=function(t){return v.difference(t,c.call(arguments,1))},v.uniq=v.unique=function(t,e,i,n){v.isBoolean(e)||(n=i,i=e,e=!1),null!=i&&(i=y(i,n));for(var r=[],o=[],a=0,s=C(t);a<s;a++){var l=t[a],c=i?i(l,a,t):l;e?(a&&o===c||r.push(l),o=c):i?v.contains(o,c)||(o.push(c),r.push(l)):v.contains(r,l)||r.push(l)}return r},v.union=function(){return v.uniq(F(arguments,!0,!0))},v.intersection=function(t){for(var e=[],i=arguments.length,n=0,r=C(t);n<r;n++){var o=t[n];if(!v.contains(e,o)){for(var a=1;a<i&&v.contains(arguments[a],o);a++);a===i&&e.push(o)}}return e},v.difference=function(t){var e=F(arguments,!0,!0,1);return v.filter(t,function(t){return!v.contains(e,t)})},v.zip=function(){return v.unzip(arguments)},v.unzip=function(t){for(var e=t&&v.max(t,C).length||0,i=Array(e),n=0;n<e;n++)i[n]=v.pluck(t,n);return i},v.object=function(t,e){for(var i={},n=0,r=C(t);n<r;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i},v.findIndex=E(1),v.findLastIndex=E(-1),v.sortedIndex=function(t,e,i,n){for(var r=(i=y(i,n,1))(e),o=0,a=C(t);o<a;){var s=Math.floor((o+a)/2);i(t[s])<r?o=s+1:a=s}return o},v.indexOf=L(1,v.findIndex,v.sortedIndex),v.lastIndexOf=L(-1,v.findLastIndex),v.range=function(t,e,i){null==e&&(e=t||0,t=0),i=i||1;for(var n=Math.max(Math.ceil((e-t)/i),0),r=Array(n),o=0;o<n;o++,t+=i)r[o]=t;return r};var D=function(t,e,i,n,r){if(!(n instanceof e))return t.apply(i,r);var o=k(t.prototype),a=t.apply(o,r);return v.isObject(a)?a:o};v.bind=function(t,e){if(f&&t.bind===f)return f.apply(t,c.call(arguments,1));if(!v.isFunction(t))throw new TypeError("Bind must be called on a function");var i=c.call(arguments,2),n=function(){return D(t,n,e,this,i.concat(c.call(arguments)))};return n},v.partial=function(t){var e=c.call(arguments,1),i=function(){for(var n=0,r=e.length,o=Array(r),a=0;a<r;a++)o[a]=e[a]===v?arguments[n++]:e[a];for(;n<arguments.length;)o.push(arguments[n++]);return D(t,i,this,this,o)};return i},v.bindAll=function(t){var e,i,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(e=1;e<n;e++)t[i=arguments[e]]=v.bind(t[i],t);return t},v.memoize=function(t,e){var i=function(n){var r=i.cache,o=""+(e?e.apply(this,arguments):n);return v.has(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return i.cache={},i},v.delay=function(t,e){var i=c.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},v.defer=v.partial(v.delay,v,1),v.throttle=function(t,e,i){var n,r,o,a=null,s=0;i||(i={});var l=function(){s=!1===i.leading?0:v.now(),a=null,o=t.apply(n,r),a||(n=r=null)};return function(){var c=v.now();s||!1!==i.leading||(s=c);var u=e-(c-s);return n=this,r=arguments,u<=0||u>e?(a&&(clearTimeout(a),a=null),s=c,o=t.apply(n,r),a||(n=r=null)):a||!1===i.trailing||(a=setTimeout(l,u)),o}},v.debounce=function(t,e,i){var n,r,o,a,s,l=function(){var c=v.now()-a;c<e&&c>=0?n=setTimeout(l,e-c):(n=null,i||(s=t.apply(o,r),n||(o=r=null)))};return function(){o=this,r=arguments,a=v.now();var c=i&&!n;return n||(n=setTimeout(l,e)),c&&(s=t.apply(o,r),o=r=null),s}},v.wrap=function(t,e){return v.partial(e,t)},v.negate=function(t){return function(){return!t.apply(this,arguments)}},v.compose=function(){var t=arguments,e=t.length-1;return function(){for(var i=e,n=t[e].apply(this,arguments);i--;)n=t[i].call(this,n);return n}},v.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},v.before=function(t,e){var i;return function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=null),i}},v.once=v.partial(v.before,2);var P=!{toString:null}.propertyIsEnumerable("toString"),N=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function M(t,e){var i=N.length,n=t.constructor,r=v.isFunction(n)&&n.prototype||a,o="constructor";for(v.has(t,o)&&!v.contains(e,o)&&e.push(o);i--;)(o=N[i])in t&&t[o]!==r[o]&&!v.contains(e,o)&&e.push(o)}v.keys=function(t){if(!v.isObject(t))return[];if(h)return h(t);var e=[];for(var i in t)v.has(t,i)&&e.push(i);return P&&M(t,e),e},v.allKeys=function(t){if(!v.isObject(t))return[];var e=[];for(var i in t)e.push(i);return P&&M(t,e),e},v.values=function(t){for(var e=v.keys(t),i=e.length,n=Array(i),r=0;r<i;r++)n[r]=t[e[r]];return n},v.mapObject=function(t,e,i){e=y(e,i);for(var n,r=v.keys(t),o=r.length,a={},s=0;s<o;s++)a[n=r[s]]=e(t[n],n,t);return a},v.pairs=function(t){for(var e=v.keys(t),i=e.length,n=Array(i),r=0;r<i;r++)n[r]=[e[r],t[e[r]]];return n},v.invert=function(t){for(var e={},i=v.keys(t),n=0,r=i.length;n<r;n++)e[t[i[n]]]=i[n];return e},v.functions=v.methods=function(t){var e=[];for(var i in t)v.isFunction(t[i])&&e.push(i);return e.sort()},v.extend=_(v.allKeys),v.extendOwn=v.assign=_(v.keys),v.findKey=function(t,e,i){e=y(e,i);for(var n,r=v.keys(t),o=0,a=r.length;o<a;o++)if(e(t[n=r[o]],n,t))return n},v.pick=function(t,e,i){var n,r,o={},a=t;if(null==a)return o;v.isFunction(e)?(r=v.allKeys(a),n=b(e,i)):(r=F(arguments,!1,!1,1),n=function(t,e,i){return e in i},a=Object(a));for(var s=0,l=r.length;s<l;s++){var c=r[s],u=a[c];n(u,c,a)&&(o[c]=u)}return o},v.omit=function(t,e,i){if(v.isFunction(e))e=v.negate(e);else{var n=v.map(F(arguments,!1,!1,1),String);e=function(t,e){return!v.contains(n,e)}}return v.pick(t,e,i)},v.defaults=_(v.allKeys,!0),v.create=function(t,e){var i=k(t);return e&&v.extendOwn(i,e),i},v.clone=function(t){return v.isObject(t)?v.isArray(t)?t.slice():v.extend({},t):t},v.tap=function(t,e){return e(t),t},v.isMatch=function(t,e){var i=v.keys(e),n=i.length;if(null==t)return!n;for(var r=Object(t),o=0;o<n;o++){var a=i[o];if(e[a]!==r[a]||!(a in r))return!1}return!0};var I=function(t,e,i,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof v&&(t=t._wrapped),e instanceof v&&(e=e._wrapped);var r=u.call(t);if(r!==u.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var o="[object Array]"===r;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!(v.isFunction(a)&&a instanceof a&&v.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}i=i||[],n=n||[];for(var l=i.length;l--;)if(i[l]===t)return n[l]===e;if(i.push(t),n.push(e),o){if((l=t.length)!==e.length)return!1;for(;l--;)if(!I(t[l],e[l],i,n))return!1}else{var c,d=v.keys(t);if(l=d.length,v.keys(e).length!==l)return!1;for(;l--;)if(c=d[l],!v.has(e,c)||!I(t[c],e[c],i,n))return!1}return i.pop(),n.pop(),!0};v.isEqual=function(t,e){return I(t,e)},v.isEmpty=function(t){return null==t||(w(t)&&(v.isArray(t)||v.isString(t)||v.isArguments(t))?0===t.length:0===v.keys(t).length)},v.isElement=function(t){return!(!t||1!==t.nodeType)},v.isArray=p||function(t){return"[object Array]"===u.call(t)},v.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){v["is"+t]=function(e){return u.call(e)==="[object "+t+"]"}}),v.isArguments(arguments)||(v.isArguments=function(t){return v.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(v.isFunction=function(t){return"function"==typeof t||!1}),v.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},v.isNaN=function(t){return v.isNumber(t)&&t!==+t},v.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===u.call(t)},v.isNull=function(t){return null===t},v.isUndefined=function(t){return void 0===t},v.has=function(t,e){return null!=t&&d.call(t,e)},v.noConflict=function(){return i._=r,this},v.identity=function(t){return t},v.constant=function(t){return function(){return t}},v.noop=function(){},v.property=x,v.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},v.matcher=v.matches=function(t){return t=v.extendOwn({},t),function(e){return v.isMatch(e,t)}},v.times=function(t,e,i){var n=Array(Math.max(0,t));e=b(e,i,1);for(var r=0;r<t;r++)n[r]=e(r);return n},v.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},v.now=Date.now||function(){return(new Date).getTime()};var R={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},O=v.invert(R),V=function(t){var e=function(e){return t[e]},i="(?:"+v.keys(t).join("|")+")",n=RegExp(i),r=RegExp(i,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(r,e):t}};v.escape=V(R),v.unescape=V(O),v.result=function(t,e,i){var n=null==t?void 0:t[e];return void 0===n&&(n=i),v.isFunction(n)?n.call(t):n};var B=0;v.uniqueId=function(t){var e=++B+"";return t?t+e:e},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var j=/(.)^/,$={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},U=/\\|'|\r|\n|\u2028|\u2029/g,z=function(t){return"\\"+$[t]};v.template=function(t,e,i){!e&&i&&(e=i),e=v.defaults({},e,v.templateSettings);var n=RegExp([(e.escape||j).source,(e.interpolate||j).source,(e.evaluate||j).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(n,function(e,i,n,a,s){return o+=t.slice(r,s).replace(U,z),r=s+e.length,i?o+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var s=function(t){return a.call(this,t,v)},l=e.variable||"obj";return s.source="function("+l+"){\n"+o+"}",s},v.chain=function(t){var e=v(t);return e._chain=!0,e};var q=function(t,e){return t._chain?v(e).chain():e};v.mixin=function(t){v.each(v.functions(t),function(e){var i=v[e]=t[e];v.prototype[e]=function(){var t=[this._wrapped];return l.apply(t,arguments),q(this,i.apply(v,t))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];v.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),"shift"!==t&&"splice"!==t||0!==i.length||delete i[0],q(this,i)}}),v.each(["concat","join","slice"],function(t){var e=o[t];v.prototype[t]=function(){return q(this,e.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},void 0===(n=function(){return v}.apply(e,[]))||(t.exports=n)}).call(this)},function(t,e,i){(function(e){t.exports=e.jQuery=i(832)}).call(e,i(90))},function(t,e,i){"use strict";var n,r;n=[t,i(0),i(135),i(256)],void 0===(r=function(t,e,i){var n={},r=!1,o=i.add,a=i.get,s=i.fromJSON;return i.placeHolderPrefix="{{ ",i.placeHolderSuffix=" }}",i.add=function(t){n[t]=1,o.apply(i,arguments)},i.get=function(t){return function(t){if(r){var o=i.defaultDomains;o=e.union([void 0],e.isArray(o)?o:[o]),e.some(o,function(e){return n.hasOwnProperty(e?e+":"+t:t)})||console.error("Untranslated: %s",t)}}(t),a.apply(i,arguments)},i.fromJSON=function(t){return"string"==typeof t&&(t=JSON.parse(t)),r=t.debug||!1,s.call(i,t)},e.mixin({__:e.bind(i.get,i)}),e.__}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=i(0),s=i(1),l=i(8),c=i(9),u=function(t){function e(e){var i=t.call(this,e)||this;return i.parent=null,i.preUpdateEventName="pim_enrich:form:entity:pre_update",i.postUpdateEventName="pim_enrich:form:entity:post_update",i.code="form",i.extensions={},i.zones={},i.targetZone="",i.configured=!1,i}return r(e,t),e.prototype.configure=function(){var t=this;null===this.parent&&(this.model=new l.Model);var e=Object.values(this.extensions).map(function(t){return t.configure()});return s.when.apply(s,e).then(function(){t.configured=!0})},e.prototype.addExtension=function(t,e,i,n){if(e.setParent(this),e.code=t,e.targetZone=i,e.position=n,void 0===this.extensions||null===this.extensions)throw"this.extensions have to be defined. Please ensure you called parent initialize() method.";this.extensions[t]=e},e.prototype.getExtension=function(t){var e=a.findKey(this.extensions,function(e){var i=e.code.length-t.length;return i>=0&&i===e.code.indexOf(t,i)});return this.extensions[e]},e.prototype.setParent=function(t){this.parent=t},e.prototype.getParent=function(){return this.parent},e.prototype.getRoot=function(){for(var t=this,e=this.getParent();null!==e;)t=e,e=e.getParent();return t},e.prototype.setData=function(t,e){void 0===e&&(e={}),e.silent||this.getRoot().trigger(this.preUpdateEventName,t),this.getRoot().model.set(t,e),e.silent||this.getRoot().trigger(this.postUpdateEventName,t)},e.prototype.getFormData=function(){return this.getRoot().model.toJSON()},e.prototype.getFormModel=function(){return this.getRoot().model},e.prototype.shutdown=function(){this.doShutdown(),Object.values(this.extensions).forEach(function(t){return t.shutdown()})},e.prototype.doShutdown=function(){this.stopListening(),this.undelegateEvents(),this.$el.removeData().unbind(),this.remove(),l.View.prototype.remove.call(this)},e.prototype.render=function(){return this.configured?this.renderExtensions():this},e.prototype.renderExtensions=function(){var t=this;return void 0===this.el?this:(this.initializeDropZones(),Object.values(this.extensions).forEach(function(e){t.renderExtension(e)}),this)},e.prototype.renderExtension=function(t){var e=this.getZone(t.targetZone);if(null===e)throw new Error('Can not render extension "'+t.code+'" in "'+this.code+'": zone "'+t.targetZone+'" does not exist');e.appendChild(t.el),t.render()},e.prototype.initializeDropZones=function(){this.zones=this.$("[data-drop-zone]").toArray().reduce(function(t,e){var i;return o({},t,((i={})[e.dataset.dropZone]=e,i))},{}),this.zones.self=this.el},e.prototype.getZone=function(t){return t in this.zones||(this.zones[t]=this.el.querySelector('[data-drop-zone="'+t+'"]')),this.zones[t]?this.zones[t]:null},e.prototype.triggerExtensions=function(){var t=Object.values(arguments);Object.values(this.extensions).forEach(function(e){e.trigger.apply(e,t),e.triggerExtensions.apply(e,t)})},e.prototype.onExtensions=function(t,e){var i=this;Object.values(this.extensions).forEach(function(n){i.listenTo(n,t,e)})},e.prototype.getFormCode=function(){return this.getRoot().code},e.prototype.forwardMediatorEvents=function(t){var e=this;Object.keys(t).forEach(function(i){var n=t[i];e.listenTo(c,n,function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.trigger.apply(e,[i].concat(t))})})},e}(l.View);t.exports=u},function(t,e,i){var n=i(15),r=i(49),o=i(38),a=i(39),s=i(50),l=function(t,e,i){var c,u,d,p,h=t&l.F,f=t&l.G,m=t&l.S,g=t&l.P,v=t&l.B,b=f?n:m?n[e]||(n[e]={}):(n[e]||{}).prototype,y=f?r:r[e]||(r[e]={}),_=y.prototype||(y.prototype={});for(c in f&&(i=e),i)d=((u=!h&&b&&void 0!==b[c])?b:i)[c],p=v&&u?s(d,n):g&&"function"==typeof d?s(Function.call,d):d,b&&a(b,c,d,t&l.U),y[c]!=d&&o(y,c,p),g&&_[c]!=d&&(_[c]=d)};n.core=r,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e,i){var n,r,o={"ui-locale":{module:"pim/base-fetcher",options:{urls:{list:"pim_localization_locale_index"}}},"datagrid-view":{module:"pim/datagrid-view-fetcher",options:{urls:{list:"pim_datagrid_view_rest_index",get:"pim_datagrid_view_rest_get",columns:"pim_datagrid_view_rest_default_columns",userDefaultView:"pim_datagrid_view_rest_default_user_view"}}},user:{module:"pim/base-fetcher",options:{urls:{get:"pim_user_user_rest_get"}}},"user-group":{module:"pim/base-fetcher",options:{urls:{list:"pim_user_user_group_rest_index"}}},"user-role":{module:"pim/base-fetcher",options:{urls:{list:"pim_user_user_role_rest_index"}}},"reference-data-configuration":{module:"pim/base-fetcher",options:{urls:{list:"pim_reference_data_configuration_rest_get"}}},default:"pim/base-fetcher","association-type":{module:"pim/base-fetcher",options:{urls:{list:"pim_enrich_associationtype_rest_index",get:"pim_enrich_associationtype_rest_get"}}},"group-type":{module:"pim/base-fetcher",options:{urls:{list:"pim_enrich_grouptype_rest_index",get:"pim_enrich_grouptype_rest_get"}}},"attribute-group":{module:"pim/attribute-group-fetcher",options:{urls:{search:"pim_enrich_attributegroup_rest_search",list:"pim_enrich_attributegroup_rest_index",get:"pim_enrich_attributegroup_rest_get"}}},attribute:{module:"pim/attribute-fetcher",options:{identifier_type:"pim_catalog_identifier",urls:{list:"pim_enrich_attribute_rest_index",get:"pim_enrich_attribute_rest_get"}}},"attribute-type":{module:"pim/base-fetcher",options:{urls:{list:"pim_enrich_attribute_type_index"}}},family:{module:"pim/family-fetcher",options:{urls:{list:"pim_enrich_family_rest_index",get:"pim_enrich_family_rest_get",available_axes:"pim_enrich_family_rest_get_available_axes"}}},"family-variant":{module:"pim/base-fetcher",options:{urls:{get:"pim_enrich_family_variant_rest_get"}}},channel:{module:"pim/base-fetcher",options:{urls:{list:"pim_enrich_channel_rest_index",get:"pim_enrich_channel_rest_get"}}},locale:{module:"pim/locale-fetcher",options:{urls:{list:"pim_enrich_locale_rest_index"}}},measure:{module:"pim/base-fetcher",options:{urls:{list:"pim_enrich_measures_rest_index"}}},currency:{module:"pim/base-fetcher",options:{urls:{list:"pim_enrich_currency_rest_index"}}},group:{module:"pim/base-fetcher",options:{urls:{list:"pim_enrich_group_rest_index",get:"pim_enrich_group_rest_get"}}},"sequential-edit":{module:"pim/base-fetcher",options:{urls:{list:"pim_enrich_mass_edit_action_sequential_edit_get"}}},"product-model-history":{module:"pim/base-fetcher",options:{urls:{get:"pim_enrich_product_model_history_rest_get"}}},"product-history":{module:"pim/base-fetcher",options:{urls:{get:"pim_enrich_product_history_rest_get"}}},product:{module:"pim/product-fetcher",options:{urls:{get:"pim_enrich_product_rest_get",list:"pim_enrich_product_rest_index"}}},"product-model":{module:"pim/product-model-fetcher",options:{urls:{get:"pim_enrich_product_model_rest_get",children:"pim_enrich_product_model_rest_children_list",list:"pim_enrich_product_model_rest_index"}}},"product-model-by-code":{module:"pim/base-fetcher",options:{urls:{get:"pim_enrich_product_model_rest_get_by_code"}}},category:{module:"pim/base-fetcher",options:{urls:{list:"pim_enrich_category_rest_list",get:"pim_enrich_category_rest_get"}}},"job-instance-export":{module:"pim/base-fetcher",options:{urls:{get:"pim_enrich_job_instance_rest_export_get"}}},"job-instance-import":{module:"pim/base-fetcher",options:{urls:{get:"pim_enrich_job_instance_rest_import_get"}}},formats:{module:"pim/base-fetcher",options:{urls:{list:"pim_localization_format_index"}}},"job-execution":{module:"pim/base-fetcher",options:{urls:{get:"pim_enrich_job_execution_rest_get"}}}};n=[i(1),i(0),i(63),i(31)],void 0===(r=function(t,e,i,n){return{fetchers:{},initializePromise:null,initialize:function(){if(null===this.initializePromise){var i=o,r=t.Deferred(),a={};for(var s in e.each(i,function(t,i){(t=e.isString(t)?{module:t}:t).options=t.options||{},a[i]=t}),i){var l=i[s].module||"pim/base-fetcher",c=n(l);a[s].loadedModule=new c(a[s].options),a[s].options=i[s].options}this.fetchers=a,r.resolve(),this.initializePromise=r.promise()}return this.initializePromise},getFetcher:function(t){return(this.fetchers[t]||this.fetchers.default).loadedModule},clear:function(t,e){return this.getFetcher(t).clear(e)},clearAll:function(){e.each(this.fetchers,function(t){t.loadedModule.clear()})}}}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(8),i(0),i(7)],void 0===(r=((t,e,i,n)=>{var r={};return i.extend({initialize:()=>t.get(n.generate("pim_user_user_rest_get_current")).then(t=>{(r=t).uiLocale=r.user_default_locale,r.catalogLocale=r.catalog_default_locale,r.catalogScope=r.catalog_default_scope}),get:t=>r[t],set:function(t,e,i){i=i||{},r[t]=e,i.silent||this.trigger("change:"+t)}},e.Events)}).apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";i(253),i(254);var n=n||window.Routing;n.generateHash=((t,e)=>`#${n.generate(t,e)}`),t.exports=n},function(t,e,i){(function(e){t.exports=e.Backbone=i(835)}).call(e,i(90))},function(t,e,i){"use strict";var n,r;n=[i(0),i(8)],void 0===(r=function(t,e){return t.extend({clear:function(e){this._events=t.omit(this._events,function(t,i){return 0===i.indexOf(e)}),t.each(this._events,t.bind(function(i,n){var r=[];t.each(i,function(i){t.isString(i.context)&&0===i.context.indexOf(e)||r.push(i)}),this._events[n]=r},this))}},e.Events)}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.getFlag=function(t,e){if(void 0===e&&(e=!0),!t)return"";var i=t.split("_"),n=i[0],r=i[1];return 3===i.length&&(r=i[2]),function(t,e,i){return'\n<span class="flag-language">\n  <i class="flag flag-'+t+'"></i>'+(i?'\n  <span class="language">'+e+"</span>":"")+"\n</span>"}(r.toLowerCase(),n,e)},e.getLabel=function(t,e,i){return t[e]?t[e]:"["+i+"]"}},function(t,e,i){var n,r,o="pim_dashboard_index";n=[i(1),i(0),i(2),i(8),i(7),i(261),i(20),i(262),i(9),i(137),i(26),i(178)],void 0===(r=function(t,e,i,n,r,a,s,l,c,u,d){return new(n.Router.extend({DEFAULT_ROUTE:"oro_default",routes:{"":"index","*path":"defaultRoute"},indexRoute:null,loadingMask:null,currentController:null,initialize:function(){this.loadingMask=new s,this.loadingMask.render().$el.appendTo(t(".hash-loading-mask")),e.bindAll(this,"showLoadingMask","hideLoadingMask"),this.indexRoute=o,this.listenTo(c,"route_complete",this._processLinks)},index:function(){return this.defaultRoute(this.generate(this.indexRoute))},defaultRoute:function(e){0!==e.indexOf("/")&&(e="/"+e),-1!==e.indexOf("|")&&(e=e.substring(0,e.indexOf("|")));var n=this.match(e);return!1===n?this.notFound():this.DEFAULT_ROUTE===n.name?this.index():(this.showLoadingMask(),this.triggerStart(n),void l.get(n.name).done(function(r){this.currentController&&this.currentController.remove(),t("#container").empty();var o=t('<div class="view"/>').appendTo(t("#container"));return r.aclResourceId&&!d.isGranted(r.aclResourceId)?(this.hideLoadingMask(),this.displayErrorPage(i("error.forbidden"),"403")):(r.el=o,this.currentController=new r.class(r),this.currentController.setActive(!0),void this.currentController.renderRoute(n,e).done(function(){this.triggerComplete(n)}.bind(this)).fail(this.handleError.bind(this)).always(this.hideLoadingMask))}.bind(this)))},notFound:function(){this.displayErrorPage("Page not found",404)},handleError:function(t){switch(void 0!==t&&this.displayErrorPage("An error occured"),t.status){case 401:window.location=this.generate("pim_user_security_login");break;default:this.errorPage(t)}},errorPage:function(t){this.displayErrorPage(t.statusText,t.status)},displayErrorPage:function(e,i){new u(e,i).setElement(t("#container")).render()},triggerStart:function(t){this.trigger("route:"+t.name,t.params),this.trigger("route_start",t.name,t.params),this.trigger("route_start:"+t.name,t.params),c.trigger("route_start",t.name,t.params),c.trigger("route_start:"+t.name,t.params)},triggerComplete:function(t){this.trigger("route_complete",t.name,t.params),this.trigger("route_complete:"+t.name,t.params),c.trigger("route_complete",t.name,t.params),c.trigger("route_complete:"+t.name,t.params)},showLoadingMask:function(){this.loadingMask.show()},hideLoadingMask:function(){this.loadingMask.hide()},generate:function(){return r.generate.apply(r,arguments)},match:function(){return a.match.apply(a,arguments)},redirect:function(t,e){return!(this.currentController&&!this.currentController.canLeave())&&(t=0===t.indexOf("#")?t:"#"+t,void n.history.navigate(t,e))},redirectToRoute:function(t,e,i){return this.redirect(r.generate(t,e),i)},reloadPage:function(){var t=window.location.hash;this.redirect(t,{trigger:!0})},_processLinks:function(){e.each(t("a[route]"),function(t){var e=t.getAttribute("route"),i=t.getAttribute("route-params");if(i)try{i=JSON.parse(i.replace(/'/g,'"'))}catch(t){i=null}t.setAttribute("href","#"+r.generate(e,i))})}}))}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(259)],void 0===(r=function(t,e,i){return{queue:[],defaults:{container:"#flash-messages .flash-messages-holder",delay:!1,template:e.template(i),flash:!0},notify:function(t,e,i){this.showMessage(t,e,i)},enqueueMessage:function(){this.queue.push(arguments)},showQueuedMessages:function(){for(;this.queue.length;){var t=this.queue.shift();this.showMessage.apply(this,t)}},showMessage:function(i,n,r){var o=e.extend({},this.defaults,r||{}),a=o.delay||o.flash&&5e3,s=t(o.template({type:i,message:n,messageTitle:"",delay:a,icon:this.getIcon(i),closeIcon:this.getCloseIcon(i)})).appendTo(o.container);if(s.offset(),s.addClass("AknFlash--visible"),a)var l=a,c=setInterval(function(){s.find(".flash-timer:first").html(Math.max(Math.floor(l/1e3),0)),0>=(l-=500)&&s.removeClass("AknFlash--visible"),-500>=l&&s.addClass("AknFlash--crushed"),-1500>=l&&(s.remove(),clearInterval(c))},500)},getIcon:function(t){return e.result({info:"icon-infos.svg",success:"icon-check.svg",error:"icon-warning-redlight.svg",warning:"icon-warning-orangelight.svg"},t,"icon-infos.svg")},getCloseIcon:function(t){return e.result({info:"icon-delete-bluedark.svg",success:"icon-delete-greendark.svg",error:"icon-delete-reddark.svg",warning:"icon-delete-orangedark.svg"},t,"icon-delete-bluedark.svg")}}}.apply(e,n))||(t.exports=r)},function(t,e,i){var n=i(18);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(175),i(31)],void 0===(r=function(t,e,i,n){var r=function(t){return i.getFormMeta(t).then(e=>{if(void 0===e)throw new Error(`\nThe extension "${t}" was not found. Are you sure you registered it properly?\nCheck your form_extension files and be sure to clear your prod cache before proceeding\n                    `);return e})},o=function(e){return i.getFormExtensions(e).then(i=>{var a=n(e.module);if(void 0===a)throw new Error(`\nThe module "${e.module}" is undefined.\nMost of the time it's because it's not well registered in your requirejs.yml file.\nHere is the documentation to fix this problem\nhttps://docs.akeneo.com/latest/design_pim/overview.html#register-it`);if("function"!=typeof a)throw new Error(`\n                        The module "${e.module}" must return a function.\n                        It returns: ${typeof a}`);var s=new a(e);s.code=e.code;var l=i.filter(t=>null!==t.module),c=l.map(t=>r(t.code).then(o).then(function(e){return t.loadedModule=e,t}));return t.when.apply(t,c).then(function(){return l.forEach(t=>{s.addExtension(t.code,t.loadedModule,t.targetZone,t.position)}),s})})};return{getFormMeta:r,buildForm:o,build:function(t){return r(t).then(o).then(function(t){var e=t.configure();if(void 0===e||"function"!=typeof e.then)throw new Error(`\nThe method configure for the module "${t.code}" must return a promise.\nIf you get this error, it often means that you forgot to return:\nBaseForm.prototype.configure.apply(this, arguments)\n(See details here: https://docs.akeneo.com/latest/design_pim/overview.html#useful-methods)\n                            `);return e.then(function(){return t})})}}}.apply(e,n))||(t.exports=r)},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},,function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(8),i(2),i(11),i(73)],void 0===(r=function(t,e,i,n,r){var o={getIllustrationClass:function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").toLowerCase().split(" ").join("-")},alert:function(t,e,r){var o=new i.BootstrapModal({type:n(r)||"",allowCancel:!1,title:e,content:t,okText:n("pim_common.ok"),buttonClass:"AknButton--action",illustrationClass:this.getIllustrationClass(r)});o.$el.addClass("modal--fullPage"),o.open()},redirect:function(n,o,a,s){if(e.isUndefined(i.BootstrapModal))window.alert(n);else{var l=new i.BootstrapModal({allowCancel:!0,title:o,content:n,okText:a});l.on("ok",function(){r.redirect(s)}),t(".modal-body a",l.el).on("click",function(){l.close()}),l.open()}},confirm:function(e,r,o,a,s,l,c){var u=t.Deferred(),d=new i.BootstrapModal({type:n(a||""),title:n(r),innerDescription:n(e),content:"",okText:n(l)||n("pim_common.ok"),cancelText:n("pim_common.cancel"),buttonClass:s||"AknButton--action",allowCancel:!0,illustrationClass:c||this.getIllustrationClass(a)});return d.$el.addClass("modal--fullPage"),d.on("ok",function(){u.resolve(),(o||t.noop)()}),d.on("cancel",function(){this.close(),this.remove(),u.reject()}),d.open(),u.promise()},confirmDelete:function(t,e,i,r,a){return o.confirm.apply(this,[t,e,i,r,"AknButton--important",n(a)||n("Delete"),"delete"])}};return o}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(8),i(2)],void 0===(r=function(t,e,i){return i.View.extend({displayed:!1,className:"AknLoadingMask loading-mask",show:function(){return this.$el.show(),this.displayed=!0,this},hide:function(){return this.$el.hide(),this.displayed=!1,this},render:function(){return this.hide(),this}})}.apply(e,n))||(t.exports=r)},function(t,e,i){var n=i(119)("wks"),r=i(78),o=i(15).Symbol,a="function"==typeof o;(t.exports=function(t){return n[t]||(n[t]=a&&o[t]||(a?o:r)("Symbol."+t))}).store=n},function(t,e,i){var n=i(52),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},function(t,e,i){"use strict";var n;void 0===(n=function(){return{accessProperty:function(t,e,i){i=i||null;var n=e.split(".");return void 0===t[n[0]]?i:1===n.length?t[n[0]]:this.accessProperty(t[n[0]],n.slice(1).join("."),i)},updateProperty:function(t,e,i){var n=e.split(".");return t[n[0]]=1===n.length?i:this.updateProperty(t[n[0]],n.slice(1).join("."),i),t}}}.apply(e,[]))||(t.exports=n)},function(t,e,i){t.exports=!i(16)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,i){var n=i(13),r=i(217),o=i(54),a=Object.defineProperty;e.f=i(24)?Object.defineProperty:function(t,e,i){if(n(t),e=o(e,!0),n(i),r)try{return a(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){"use strict";var n,r;n=[i(1),i(7)],void 0===(r=((t,e)=>{var i={};return{initialize:()=>t.get(e.generate("pim_user_security_rest_get")).then(t=>i=t),get:t=>i[t],isGranted:t=>!0===i[t]}}).apply(e,n))||(t.exports=r)},function(t,e,i){var n=i(55);t.exports=function(t){return Object(n(t))}},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(96),i(6),i(17)],void 0===(r=function(t,e,i,n){return{resultsPerPage:20,defaultOptions:{allowClear:!1,formatSearching:function(){return e.__("pim_common.select2.search")},formatNoMatches:function(){return e.__("pim_common.select2.no_match")},formatLoadMore:function(){return e.__("pim_common.select2.load_more")}},init:function(i,n){var r=this;return i.find("input.select2:not(.select2-offscreen)").each(function(){var i=r.initOptions(i),n=t(this),o=e.map(e.compact(n.val().split(",")),t.trim),a=e.map(e.compact(n.attr("data-tags").split(",")),t.trim);n.select2(t.extend(!0,i,{tags:e.union(a,o).sort(),tokenSeparators:[","," "]}))}),i.find("select.select2:not(.select2-offscreen)").each(function(){var e=r.initOptions(e),i=t(this),n=i.children('[value=""]');n.length&&n.html()&&(i.attr("data-placeholder",n.html()),n.html("")),i.select2(t.extend(!0,e,{allowClear:!0}))}),i.find("input.pim-ajax-entity:not(.select2-offscreen)").each(function(){r.initSelect.call(r,t(this))}),i.hasClass("select-field")&&(n=r.initOptions(n),i.select2("destroy").select2(n)),i},initSelect:function(r,o){o=this.initOptions(o);var a,s=this;r.attr("data-multiple")&&(o.multiple=!0),o.multiple||(!r.attr("data-required")&&(o.allowClear=!0),o.placeholder=" "),o.minimumInputLength=r.attr("data-min-input-length"),o.query=function(o){var l=1;o.context&&o.context.page&&(l=o.context.page),window.clearTimeout(a),a=window.setTimeout(function(){t.ajax({url:r.attr("data-url"),data:{search:o.term,options:{limit:s.resultsPerPage,page:l,locale:n.get("catalogLocale")}},dataType:"json",type:"GET",success:function(t){e.isUndefined(t.results)&&(t.results=i.format(t)),o.callback({results:t.results,more:t.results.length===s.resultsPerPage,context:{page:l+1}})}})},400)},o.initSelection=function(e,i){i(t.parseJSON(r.attr("data-choices")))},r.select2(o)},getSelectOptions:function(t){return t},getAjaxParameters:function(){return{}},hasCachableResults:function(){return!0},matchLocalResults:function(i,n){var r=e.filter(i.results,function(e){return t.fn.select2.defaults.matcher(n,e.text)});return e.extend({},i,{results:r})},initOptions:function(e){var i=t.extend(!0,{},this.defaultOptions);return t.extend(!0,i,e)}}}.apply(e,n))||(t.exports=r)},,function(t,e,i){"use strict";var n,r;n=[i(2),i(108),i(137)],void 0===(r=function(t,e,i){return e.extend({formPromise:null,renderRoute:function(e,n){return this.formPromise=this.renderForm(e,n).fail(e=>{var n=e&&e.responseJSON?e.responseJSON.message:t("pim_enrich.entity.fallback.generic_error"),r=e&&e.status?e.status:500;new i(n,r).setElement(this.$el).render()}),this.formPromise},renderForm:function(){throw new i("Method renderForm is abstract and must be implemented!")},remove:function(){null===this.formPromise||(this.formPromise.then(t=>{t&&"function"==typeof t.shutdown&&t.shutdown()}),e.prototype.remove.apply(this,arguments))}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(255)],void 0===(r=function(t){return function(e){return t(e)}}.apply(e,n))||(t.exports=r)},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,i){"use strict";var n,r;n=[i(11),i(2)],void 0===(r=function(t,e){var i={},n=(t,i)=>{document.title=e("pim_title."+t,i)};return t.on("route_complete",t=>{n(t,i)}),{set:t=>{i=t},render:n}}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(3),i(23),i(329),i(330)],void 0===(r=function(t,e,i,n,r,o,a){return n.extend({className:"AknFieldContainer",containerTemplate:e.template(a),config:{},elements:{},fieldName:null,errors:[],readOnly:!1,initialize(t){if(this.config=t.config,void 0===this.config.fieldName)throw new Error("This view must be configured with a field name.");this.fieldName=this.config.fieldName,this.readOnly=this.config.readOnly||!1,this.errors=[],n.prototype.initialize.apply(this,arguments)},configure(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:bad_request",this.onBadRequest.bind(this)),this.listenTo(this.getRoot(),"pim_enrich:form:entity:post_save",this.render.bind(this)),n.prototype.configure.apply(this,arguments)},onBadRequest(t){this.errors=this.getFieldErrors(t.response),this.render(),this.errors.length&&this.getRoot().trigger("pim_enrich:form:form-tabs:change",this.getTabCode())},getFieldErrors(t){return t.filter(t=>{var e=this.fieldName.split("."),i=e[e.length-1];if(void 0===t.path)return i===t.attribute||void 0===i;var n=t.path.split(/\[|\]/).filter(t=>""!==t);return i===t.path||i===t.attribute||JSON.stringify(e)===JSON.stringify(n)})},getTabCode(){for(var t=this.getParent();!(t instanceof o);)if(null===(t=t.getParent()))return null;return parent.code},render(){return this.isVisible()?(this.getTemplateContext().then(function(t){this.$el.html(this.containerTemplate(t)),this.$(".field-input").replaceWith(this.renderInput(t)),this.postRender(t),this.renderExtensions(),this.delegateEvents()}.bind(this)),this):void this.$el.empty()},getTemplateContext(){var e=this.config.templateParams||{};return t.Deferred().resolve(Object.assign({},{fieldLabel:this.getLabel(),requiredLabel:this.getRequiredLabel(),fieldName:this.fieldName,fieldId:this.getFieldId(),errors:this.errors,readOnly:this.isReadOnly(),required:this.config.required||!1,__:i},e)).promise()},renderInput(){throw new Error("Please implement the renderInput() method in your concrete field class.")},postRender(){},getLabel(){return void 0===this.config.label?"["+this.fieldName+"]":i(this.config.label)},getRequiredLabel(){return void 0===this.config.requiredLabel?i("pim_common.required_label"):i(this.config.requiredLabel)},isVisible:()=>!0,isReadOnly(){return this.readOnly},setReadOnly(t){this.readOnly=!!t},updateModel(t){var e=this.getFormData();r.updateProperty(e,this.fieldName,t),this.setData(e)},getModelValue(){var t=r.accessProperty(this.getFormData(),this.fieldName);return null===t?void 0:t},getFieldId:()=>Math.random().toString(10).substring(2)})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(3),i(341),i(11),i(20),i(12),i(19)],void 0===(r=function(t,e,i,n,r,o,a,s){return i.extend({tagName:"button",className:"AknDropdown-menuLink delete",template:t.template(n),events:{click:"delete"},remover:{remove:function(){throw"Remove function should be implemented in remover"}},initialize:function(e){this.config=t.extend({},{trans:{title:"pim_enrich.entity.fallback.module.delete.item",content:"pim_common.confirm_deletion",success:"pim_enrich.entity.fallback.flash.delete.success",fail:"pim_enrich.entity.fallback.flash.delete.error",subTitle:"",buttonText:"pim_common.delete"},redirect:"oro_default"},e.config)},render:function(){return this.$el.html(this.template({__:e})),this.delegateEvents(),this},delete:function(){return s.confirmDelete(e(this.config.trans.title),e(this.config.trans.content),this.doDelete.bind(this),e(this.config.trans.subTitle),e(this.config.trans.buttonText))},doDelete:function(){var t=this.config,i=new o;i.render().$el.appendTo(this.getRoot().$el).show(),this.remover.remove(this.getIdentifier()).done(function(){a.notify("success",e(this.config.trans.success)),r.redirectToRoute(this.config.redirect)}.bind(this)).fail(function(i){var n=i.responseJSON&&i.responseJSON.message?i.responseJSON.message:e(t.trans.fail);a.notify("error",n)}.bind(this)).always(function(){i.hide().$el.remove()})},getIdentifier:function(){return this.getFormData().code}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(9)],void 0===(r=function(t,e){return{remove:function(i){return t.ajax({type:"DELETE",url:this.getUrl(i)}).then(function(t){return e.trigger("pim_enrich:form:entity:post_remove",i),t}.bind(this))},getUrl:function(){throw new Error("This method need to be implemented")}}}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(5),i(134),i(31)],void 0===(r=function(t,e,i,n,r){var o={},a={},s={},l=function(e){var i=t.Deferred();return s[e.field_type]?(i.resolve(s[e.field_type]),i.promise()):(n.getAttributeFields().done(function(t){var n=t[e.field_type];if(!n)throw new Error('No field defined for attribute type "'+e.field_type+'"');var o=r(n);s[e.field_type]=o,i.resolve(o)}),i.promise())};return{getField:function(e){var n=t.Deferred();return o[e]?(n.resolve(o[e]),n.promise()):(i.getFetcher("attribute").fetch(e).done(function(t){l(t).done(function(i){o[e]=new i(t),n.resolve(o[e])})}),n.promise())},getNotReadyFields:function(){return Object.values(o).filter(t=>!t.isReady())},getFields:function(){return o},addVisibleField:function(t){a[t]=o[t]},getVisibleFields:function(){return a},clearFields:function(){o={},this.clearVisibleFields()},clearVisibleFields:function(){a={}}}}.apply(e,n))||(t.exports=r)},function(t,e,i){var n=i(25),r=i(77);t.exports=i(24)?function(t,e,i){return n.f(t,e,r(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var n=i(15),r=i(38),o=i(42),a=i(78)("src"),s=Function.toString,l=(""+s).split("toString");i(49).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,i,s){var c="function"==typeof i;c&&(o(i,"name")||r(i,"name",e)),t[e]!==i&&(c&&(o(i,a)||r(i,a,t[e]?""+t[e]:l.join(String(e)))),t===n?t[e]=i:s?t[e]?t[e]=i:r(t,e,i):(delete t[e],r(t,e,i)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(t,e,i){var n=i(4),r=i(16),o=i(55),a=/"/g,s=function(t,e,i,n){var r=String(o(t)),s="<"+e;return""!==i&&(s+=" "+i+'="'+String(n).replace(a,"&quot;")+'"'),s+">"+r+"</"+e+">"};t.exports=function(t,e){var i={};i[t]=e(s),n(n.P+n.F*r(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",i)}},function(t,e,i){"use strict";var n,r;n=[i(1),i(8),i(0),i(345),i(66),i(10),i(9)],void 0===(r=function(t,e,i,n,r,o,a){var s=e.Model.extend({values:[]});return e.View.extend({tagName:"div",className:"AknComparableFields field-container",options:{},attributes:function(){return{"data-attribute":this.options?this.options.code:null}},attribute:null,context:{},model:s,template:i.template(n),elements:{},editable:!0,ready:!0,valid:!0,locked:!1,initialize:function(t){return this.attribute=t,this.model=new s({values:[]}),this.elements={},this.context={},this},render:function(){this.setEditable(!this.locked),this.setValid(!0),this.elements={};var e=[];return a.trigger("pim_enrich:form:field:extension:add",{field:this,promises:e}),t.when.apply(t,e).then(this.getTemplateContext.bind(this)).then(function(t){this.$el.html(this.template(t)),this.$(".original-field .field-input").append(this.renderInput(t)),this.renderElements(),this.postRender(),this.delegateEvents()}.bind(this)),this},renderElements:function(){i.each(this.elements,function(t,e){var n="field-input"===e?this.$(".original-field .field-input"):this.$("."+e+"-elements-container");n.empty(),i.each(t,function(t){"function"==typeof t.render?n.append(t.render().$el):n.append(t)}.bind(this))}.bind(this))},renderInput:function(){throw new Error("You should implement your field template")},postRender:function(){},renderCopyInput:function(e){return this.getTemplateContext().then(function(i){if(void 0===e)return null;var n=t.extend(!0,{},i);return n.value=e,n.context.locale=e.locale,n.context.scope=e.scope,n.editMode="view",this.renderInput(n)}.bind(this))},getTemplateContext:function(){var e=t.Deferred();return e.resolve({type:this.attribute.field_type,label:this.getLabel(),value:this.getCurrentValue(),fieldId:"field-"+Math.random().toString(10).substring(2),context:this.context,attribute:this.attribute,info:this.elements,editMode:this.getEditMode(),i18n:o,locale:this.attribute.localizable?this.context.locale:null,scope:this.attribute.scopable?this.context.scope:null}),e.promise()},updateModel:function(){this.valid=!0},setValues:function(t){(i.isUndefined(t)||0===t.length)&&console.error("Value array is empty"),this.model.set("values",t)},setContext:function(t){this.context=t},addElement:function(t,e,i){this.elements[t]||(this.elements[t]={}),this.elements[t][e]=i},removeElement:function(t,e){this.elements[t]&&this.elements[t][e]&&(delete this.elements[t][e],i.isEmpty(this.elements[t])&&delete this.elements[t])},setValid:function(t){this.valid=t},isValid:function(){return this.valid},setFocus:function(){this.$("input:first").focus()},setEditable:function(t){this.editable=t},setLocked:function(t){this.locked=t},isEditable:function(){return this.editable},setReady:function(t){this.ready=t},isReady:function(){return this.ready},getEditMode:function(){return this.editable?"edit":"view"},canBeSeen:function(){return!0},getCurrentValue:function(){return r.getValue(this.model.get("values"),this.attribute,this.context.locale,this.context.scope)},setCurrentValue:function(t){var e=this.getCurrentValue();void 0===e||(e.data=t,a.trigger("pim_enrich:form:entity:update_state"))},getLabel:function(){return o.getLabel(this.attribute.labels,this.context.uiLocale,this.attribute.code)}})}.apply(e,n))||(t.exports=r)},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){var n=i(104),r=i(55);t.exports=function(t){return n(r(t))}},function(t,e,i){var n=i(105),r=i(77),o=i(43),a=i(54),s=i(42),l=i(217),c=Object.getOwnPropertyDescriptor;e.f=i(24)?c:function(t,e){if(t=o(t),e=a(e,!0),l)try{return c(t,e)}catch(t){}if(s(t,e))return r(!n.f.call(t,e),t[e])}},function(t,e,i){var n=i(42),r=i(27),o=i(150)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),n(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,i){"use strict";var n,r;n=[i(0),i(9)],void 0===(r=function(t,e){var i="undefined"!=typeof Storage&&sessionStorage,n=function(t,e){if(i)return sessionStorage.getItem(t+"."+e)},r=function(t,e){var i=n(t,e),r={};return null==i?i:(i.split("&").forEach(function(t){if(t){var e=t.split("="),i=decodeURIComponent(e[0]),n=i.indexOf("[");if(-1==n)r[i]=decodeURIComponent(e[1]);else{var o=i.indexOf("]"),a=i.substring(n+1,o);i=i.substring(0,n),r[i]||(r[i]=[]),a?r[i][a]=e[1]:r[i].push(e[1])}}}),r)},o=function(t,r,o){if(i){var a=n(t,r);a!==o&&(sessionStorage.setItem(t+"."+r,o),null===a?e.trigger("grid:"+t+":state_set",{item:r,newValue:o}):e.trigger("grid:"+t+":state_changed",{item:r,oldValue:a,newValue:o}))}},a=function(t,r){if(i){var o=n(t,r);null!==o&&(sessionStorage.removeItem(t+"."+r),e.trigger("grid:"+t+":state_reset",{item:r,oldValue:o}))}};return{get:function(e,i){if(t.isArray(i)){var r={};return t.each(i,function(t){r[t]=n(e,t)}),r}return n.apply(this,arguments)},getParsed:function(e,i){if(t.isArray(i)){var n={};return t.each(i,function(t){n[t]=r(e,t)}),n}return r.apply(this,arguments)},set:function(e,i){return t.isObject(i)?t.each(i,function(t,i){o(e,i,t)}):o.apply(this,arguments),this},remove:function(e,i){return t.isArray(i)?t.each(i,function(t){a(e,t)}):a.apply(this,arguments),this},refreshFiltersFromUrl:function(e){var i=this.get(e,"filters"),n=location.hash;if(-1!==n.indexOf("|g/")){var r=n.split("|g/").pop();if(!i)return void this.set(e,{filters:r});var o=i.split("&"),a=r.split("&");t.isEqual(a.sort(),o.sort())||this.set(e,{filters:r})}}}}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(29),i(284)],void 0===(r=function(t,e){return t.StringCell.extend({formatter:new e,enterEditMode:function(e){return this.column.get("editable")&&e.stopPropagation(),t.StringCell.prototype.enterEditMode.apply(this,arguments)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(7)],void 0===(r=function(t,e,i){return{getMediaShowUrl:function(t,e){var n=encodeURIComponent(t);return i.generate("pim_enrich_media_show",{filename:n,filter:e})},getMediaDownloadUrl:function(t){var e=encodeURIComponent(t);return i.generate("pim_enrich_media_download",{filename:e})}}}.apply(e,n))||(t.exports=r)},function(t,e){var i=t.exports={version:"2.6.3"};"number"==typeof __e&&(__e=i)},function(t,e,i){var n=i(32);t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},function(t,e,i){"use strict";var n=i(16);t.exports=function(t,e){return!!t&&n(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,i){var n=i(18);t.exports=function(t,e){if(!n(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!n(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,i){var n=i(4),r=i(49),o=i(16);t.exports=function(t,e){var i=(r.Object||{})[t]||Object[t],a={};a[t]=e(i),n(n.S+n.F*o(function(){i(1)}),"Object",a)}},function(t,e,i){var n=i(50),r=i(104),o=i(27),a=i(22),s=i(166);t.exports=function(t,e){var i=1==t,l=2==t,c=3==t,u=4==t,d=6==t,p=5==t||d,h=e||s;return function(e,s,f){for(var m,g,v=o(e),b=r(v),y=n(s,f,3),_=a(b.length),k=0,x=i?h(e,_):l?h(e,0):void 0;_>k;k++)if((p||k in b)&&(g=y(m=b[k],k,v),t))if(i)x[k]=g;else if(g)switch(t){case 3:return!0;case 5:return m;case 6:return k;case 2:x.push(m)}else if(u)return!1;return d?-1:c||u?u:x}}},,function(t,e,i){"use strict";var n,r;n=[i(2),i(3),i(9),i(20),i(12)],void 0===(r=function(t,e,i,n,r){return e.extend({loadingMask:null,updateFailureMessage:t("pim_enrich.entity.fallback.flash.update.fail"),updateSuccessMessage:t("pim_enrich.entity.fallback.flash.update.success"),isFlash:!0,label:t("pim_common.save"),initialize:function(i){this.config=i.config,this.config.hasOwnProperty("updateSuccessMessage")&&(this.updateSuccessMessage=t(this.config.updateSuccessMessage)),this.config.hasOwnProperty("updateFailureMessage")&&(this.updateFailureMessage=t(this.config.updateFailureMessage)),e.prototype.initialize.apply(this,arguments)},configure:function(){return this.trigger("save-buttons:register-button",{className:"save",priority:200,label:this.label,events:{"click .save":this.save.bind(this)}}),e.prototype.configure.apply(this,arguments)},save:function(){throw new Error("This method must be implemented")},showLoadingMask:function(){this.loadingMask=new n,this.loadingMask.render().$el.appendTo(this.getRoot().$el).show()},hideLoadingMask:function(){this.loadingMask.hide().$el.remove()},postSave:function(t){this.getRoot().trigger("pim_enrich:form:entity:post_save",t),r.notify("success",this.updateSuccessMessage,{flash:this.isFlash})},fail:function(t){switch(t.status){case 400:this.getRoot().trigger("pim_enrich:form:entity:bad_request",{sentData:this.getFormData(),response:t.responseJSON});break;case 500:var e=t.responseJSON?t.responseJSON:t;console.error("Errors:",e),this.getRoot().trigger("pim_enrich:form:entity:error:save",e)}r.notify("error",this.updateFailureMessage)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r,o={};n=[i(1),i(9),i(7)],void 0===(r=function(t,e,i){return{save:function(i,n,r){return t.ajax({type:void 0===r?"POST":r,url:this.getUrl(i),data:JSON.stringify(n)}).then(function(t){return e.trigger("pim_enrich:form:entity:post_save",t),t}.bind(this))},getUrl:function(t){return i.generate(o.url,{code:t})}}}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";if(i(24)){var n=i(70),r=i(15),o=i(16),a=i(4),s=i(130),l=i(174),c=i(50),u=i(84),d=i(77),p=i(38),h=i(86),f=i(52),m=i(22),g=i(245),v=i(80),b=i(54),y=i(42),_=i(92),k=i(18),x=i(27),A=i(163),C=i(81),w=i(45),T=i(82).f,S=i(165),F=i(78),E=i(21),L=i(57),D=i(120),P=i(107),N=i(168),M=i(94),I=i(125),R=i(83),O=i(167),V=i(234),B=i(25),j=i(44),$=B.f,U=j.f,z=r.RangeError,q=r.TypeError,G=r.Uint8Array,H=Array.prototype,W=l.ArrayBuffer,J=l.DataView,K=L(0),Z=L(2),Y=L(3),X=L(4),Q=L(5),tt=L(6),et=D(!0),it=D(!1),nt=N.values,rt=N.keys,ot=N.entries,at=H.lastIndexOf,st=H.reduce,lt=H.reduceRight,ct=H.join,ut=H.sort,dt=H.slice,pt=H.toString,ht=H.toLocaleString,ft=E("iterator"),mt=E("toStringTag"),gt=F("typed_constructor"),vt=F("def_constructor"),bt=s.CONSTR,yt=s.TYPED,_t=s.VIEW,kt=L(1,function(t,e){return Tt(P(t,t[vt]),e)}),xt=o(function(){return 1===new G(new Uint16Array([1]).buffer)[0]}),At=!!G&&!!G.prototype.set&&o(function(){new G(1).set({})}),Ct=function(t,e){var i=f(t);if(i<0||i%e)throw z("Wrong offset!");return i},wt=function(t){if(k(t)&&yt in t)return t;throw q(t+" is not a typed array!")},Tt=function(t,e){if(!(k(t)&&gt in t))throw q("It is not a typed array constructor!");return new t(e)},St=function(t,e){return Ft(P(t,t[vt]),e)},Ft=function(t,e){for(var i=0,n=e.length,r=Tt(t,n);n>i;)r[i]=e[i++];return r},Et=function(t,e,i){$(t,e,{get:function(){return this._d[i]}})},Lt=function(t){var e,i,n,r,o,a,s=x(t),l=arguments.length,u=l>1?arguments[1]:void 0,d=void 0!==u,p=S(s);if(void 0!=p&&!A(p)){for(a=p.call(s),n=[],e=0;!(o=a.next()).done;e++)n.push(o.value);s=n}for(d&&l>2&&(u=c(u,arguments[2],2)),e=0,i=m(s.length),r=Tt(this,i);i>e;e++)r[e]=d?u(s[e],e):s[e];return r},Dt=function(){for(var t=0,e=arguments.length,i=Tt(this,e);e>t;)i[t]=arguments[t++];return i},Pt=!!G&&o(function(){ht.call(new G(1))}),Nt=function(){return ht.apply(Pt?dt.call(wt(this)):wt(this),arguments)},Mt={copyWithin:function(t,e){return V.call(wt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return X(wt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return O.apply(wt(this),arguments)},filter:function(t){return St(this,Z(wt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return Q(wt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(wt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){K(wt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return it(wt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(wt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ct.apply(wt(this),arguments)},lastIndexOf:function(t){return at.apply(wt(this),arguments)},map:function(t){return kt(wt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return st.apply(wt(this),arguments)},reduceRight:function(t){return lt.apply(wt(this),arguments)},reverse:function(){for(var t,e=wt(this).length,i=Math.floor(e/2),n=0;n<i;)t=this[n],this[n++]=this[--e],this[e]=t;return this},some:function(t){return Y(wt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ut.call(wt(this),t)},subarray:function(t,e){var i=wt(this),n=i.length,r=v(t,n);return new(P(i,i[vt]))(i.buffer,i.byteOffset+r*i.BYTES_PER_ELEMENT,m((void 0===e?n:v(e,n))-r))}},It=function(t,e){return St(this,dt.call(wt(this),t,e))},Rt=function(t){wt(this);var e=Ct(arguments[1],1),i=this.length,n=x(t),r=m(n.length),o=0;if(r+e>i)throw z("Wrong length!");for(;o<r;)this[e+o]=n[o++]},Ot={entries:function(){return ot.call(wt(this))},keys:function(){return rt.call(wt(this))},values:function(){return nt.call(wt(this))}},Vt=function(t,e){return k(t)&&t[yt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Bt=function(t,e){return Vt(t,e=b(e,!0))?d(2,t[e]):U(t,e)},jt=function(t,e,i){return!(Vt(t,e=b(e,!0))&&k(i)&&y(i,"value"))||y(i,"get")||y(i,"set")||i.configurable||y(i,"writable")&&!i.writable||y(i,"enumerable")&&!i.enumerable?$(t,e,i):(t[e]=i.value,t)};bt||(j.f=Bt,B.f=jt),a(a.S+a.F*!bt,"Object",{getOwnPropertyDescriptor:Bt,defineProperty:jt}),o(function(){pt.call({})})&&(pt=ht=function(){return ct.call(this)});var $t=h({},Mt);h($t,Ot),p($t,ft,Ot.values),h($t,{slice:It,set:Rt,constructor:function(){},toString:pt,toLocaleString:Nt}),Et($t,"buffer","b"),Et($t,"byteOffset","o"),Et($t,"byteLength","l"),Et($t,"length","e"),$($t,mt,{get:function(){return this[yt]}}),t.exports=function(t,e,i,l){var c=t+((l=!!l)?"Clamped":"")+"Array",d="get"+t,h="set"+t,f=r[c],v=f||{},b=f&&w(f),y=!f||!s.ABV,x={},A=f&&f.prototype,S=function(t,i){$(t,i,{get:function(){return function(t,i){var n=t._d;return n.v[d](i*e+n.o,xt)}(this,i)},set:function(t){return function(t,i,n){var r=t._d;l&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),r.v[h](i*e+r.o,n,xt)}(this,i,t)},enumerable:!0})};y?(f=i(function(t,i,n,r){u(t,f,c,"_d");var o,a,s,l,d=0,h=0;if(k(i)){if(!(i instanceof W||"ArrayBuffer"==(l=_(i))||"SharedArrayBuffer"==l))return yt in i?Ft(f,i):Lt.call(f,i);o=i,h=Ct(n,e);var v=i.byteLength;if(void 0===r){if(v%e)throw z("Wrong length!");if((a=v-h)<0)throw z("Wrong length!")}else if((a=m(r)*e)+h>v)throw z("Wrong length!");s=a/e}else s=g(i),o=new W(a=s*e);for(p(t,"_d",{b:o,o:h,l:a,e:s,v:new J(o)});d<s;)S(t,d++)}),A=f.prototype=C($t),p(A,"constructor",f)):o(function(){f(1)})&&o(function(){new f(-1)})&&I(function(t){new f,new f(null),new f(1.5),new f(t)},!0)||(f=i(function(t,i,n,r){var o;return u(t,f,c),k(i)?i instanceof W||"ArrayBuffer"==(o=_(i))||"SharedArrayBuffer"==o?void 0!==r?new v(i,Ct(n,e),r):void 0!==n?new v(i,Ct(n,e)):new v(i):yt in i?Ft(f,i):Lt.call(f,i):new v(g(i))}),K(b!==Function.prototype?T(v).concat(T(b)):T(v),function(t){t in f||p(f,t,v[t])}),f.prototype=A,n||(A.constructor=f));var F=A[ft],E=!!F&&("values"==F.name||void 0==F.name),L=Ot.values;p(f,gt,!0),p(A,yt,c),p(A,_t,!0),p(A,vt,f),(l?new f(1)[mt]==c:mt in A)||$(A,mt,{get:function(){return c}}),x[c]=f,a(a.G+a.W+a.F*(f!=v),x),a(a.S,c,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*o(function(){v.of.call(f,1)}),c,{from:Lt,of:Dt}),"BYTES_PER_ELEMENT"in A||p(A,"BYTES_PER_ELEMENT",e),a(a.P,c,Mt),R(c),a(a.P+a.F*At,c,{set:Rt}),a(a.P+a.F*!E,c,Ot),n||A.toString==pt||(A.toString=pt),a(a.P+a.F*o(function(){new f(1).slice()}),c,{slice:It}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new f([1,2]).toLocaleString()})||!o(function(){A.toLocaleString.call([1,2])})),c,{toLocaleString:Nt}),M[c]=E?F:L,n||E||p(A,ft,L)}}else t.exports=function(){}},function(t,e,i){var n=i(240),r=i(4),o=i(119)("metadata"),a=o.store||(o.store=new(i(243))),s=function(t,e,i){var r=a.get(t);if(!r){if(!i)return;a.set(t,r=new n)}var o=r.get(e);if(!o){if(!i)return;r.set(e,o=new n)}return o};t.exports={store:a,map:s,has:function(t,e,i){var n=s(e,i,!1);return void 0!==n&&n.has(t)},get:function(t,e,i){var n=s(e,i,!1);return void 0===n?void 0:n.get(t)},set:function(t,e,i,n){s(i,n,!0).set(t,e)},keys:function(t,e){var i=s(t,e,!1),n=[];return i&&i.forEach(function(t,e){n.push(e)}),n},key:function(t){return void 0===t||"symbol"==typeof t?t:String(t)},exp:function(t){r(r.S,"Reflect",t)}}},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(8),i(7)],void 0===(r=function(t,e,i,n){return i.Model.extend({entityListPromise:null,entityPromises:{},initialize:function(t){this.entityListPromise=null,this.entityPromises={},this.options=t||{}},fetchAll:function(i){if(!this.entityListPromise){if(!e.has(this.options.urls,"list"))return t.Deferred().reject().promise();this.entityListPromise=t.getJSON(n.generate(this.options.urls.list,i)).then(e.identity).promise()}return this.entityListPromise},search:function(i){var n="";if(e.has(this.options.urls,"search"))n=this.options.urls.search;else{if(!e.has(this.options.urls,"list"))return t.Deferred().reject().promise();n=this.options.urls.list}return this.getJSON(n,i).then(e.identity).promise()},fetch:function(i,r){if(r=r||{},!(i in this.entityPromises)||!1===r.cached){var o=t.Deferred();this.options.urls.get&&!r.force_list_method?t.getJSON(n.generate(this.options.urls.get,e.extend({identifier:i},r))).then(e.identity).done(function(t){o.resolve(t)}).fail(function(t,e,i){return console.error("Error during fetching: ",i),o.reject(t)}):this.fetchAll().done(function(t){var n=e.findWhere(t,{code:i});n?o.resolve(n):o.reject()}),this.entityPromises[i]=o.promise()}return this.entityPromises[i]},fetchByIdentifiers:function(i,n){if(n=n||{},0===i.length)return t.Deferred().resolve([]).promise();var r=e.difference(i,e.keys(this.entityPromises));return 0===r.length?this.getObjects(e.pick(this.entityPromises,i)):t.when(this.getJSON(this.options.urls.list,e.extend({identifiers:r.join(",")},n)).then(e.identity),this.getIdentifierField()).then(function(n,r){return e.each(n,function(e){this.entityPromises[e[r]]=t.Deferred().resolve(e).promise()}.bind(this)),this.getObjects(e.pick(this.entityPromises,i))}.bind(this))},getJSON:function(e,i){return t.getJSON(n.generate(e,i))},getIdentifierField:function(){return t.Deferred().resolve("code")},clear:function(t){t?delete this.entityPromises[t]:(this.entityListPromise=null,this.entityPromises={})},getObjects:function(i){return t.when.apply(t,e.toArray(i)).then(function(){return 0===arguments.length?[]:e.toArray(arguments)})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(7)],void 0===(r=((t,e)=>{var i={};return{initialize:()=>t.get(e.generate("pim_localization_format_date")).then(t=>i=t),get:t=>i[t]}}).apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(34),i(2),i(100)],void 0===(r=function(t,e,i,n,r){return i.extend({events:{"change select":function(t){this.errors=[],this.updateModel(this.getFieldValue(t.target)),this.getRoot().render()}},template:e.template(r),renderInput:function(t){return void 0===this.getModelValue()&&e.has(this.config,"defaultValue")&&this.updateModel(this.config.defaultValue),this.template(e.extend(t,{value:this.getModelValue(),choices:this.formatChoices(this.config.choices||[]),multiple:this.config.isMultiple,labels:{defaultLabel:this.getDefaultLabel()}}))},getDefaultLabel:function(){return""},postRender:function(){this.$("select.select2").select2({allowClear:!(void 0!==this.config.allowClear)||this.config.allowClear})},formatChoices:function(t){return Array.isArray(t)?e.object(t,t):e.mapObject(t,n)},getFieldValue:function(e){var i=t(e).val();return this.config.isMultiple&&null===i?[]:i}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(5)],void 0===(r=function(t,e,i){return{isOptional:function(n,r){var o=new t.Deferred;return"pim_catalog_identifier"===n.type?o.resolve(!1):void 0!==r.family&&null!==r.family?o=i.getFetcher("family").fetch(r.family).then(function(t){return!e.contains(e.pluck(t.attributes,"code"),n.code)}):o.resolve(!0),o},getValue:function(t,i,n,r){return n=i.localizable?n:null,r=i.scopable?r:null,e.findWhere(t,{scope:r,locale:n})},generateValue:function(t,e,i){return{locale:e=t.localizable?e:null,scope:i=t.scopable?i:null,data:t.empty_value}},generateMissingValues:function(t,i,n,r,o){return e.each(n,function(n){e.each(r,function(e){var r=this.getValue(t,i,n.code,e.code);r||(r=this.generateValue(i,n.code,e.code),t.push(r)),"pim_catalog_price_collection"===i.type&&(r.data=this.generateMissingPrices(r.data,o))}.bind(this))}.bind(this)),t},generateMissingPrices:function(t,i){var n=[];return e.each(i,function(i){var r=e.findWhere(t,{currency:i.code});r||(r={amount:null,currency:i.code}),n.push(r)}),e.sortBy(n,"currency")}}}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(76),i(5),i(10),i(6),i(453),i(451)],void 0===(r=function(t,e,i,n,r,o,a,s,l){return n.extend({initialize:function(t){return void 0!==t&&(this.config=t.config),n.prototype.initialize.apply(this,arguments)},setScope:function(t,e){var i=this.getFormData().context||{};i.scope=t,this.setData({context:i},e)},getScope:function(){return void 0===this.getFormData().context?null:this.getFormData().context.scope},setLocale:function(t,e){var i=this.getFormData().context||{};i.locale=t,this.setData({context:i},e)},getLocale:function(){return void 0===this.getFormData().context?null:this.getFormData().context.locale},renderElements:function(){r.getFetcher("attribute").fetch(this.getCode()).then(function(t){this.isEditable()?this.addContextDropdowns(t):this.addContextLabels(t)}.bind(this)).then(function(){n.prototype.renderElements.apply(this,arguments)}.bind(this))},addContextDropdowns:function(e){var i=t('<span class="AknFieldContainer-contextContainer AknButtonList filter-context">');if(e.scopable){var n=new s({config:{context:"base_product"}});n.setDisplayInline(!1),n.setDisplayLabel(!1),this.listenTo(n,"pim_enrich:form:scope_switcher:pre_render",this.initScope.bind(this)),this.listenTo(n,"pim_enrich:form:scope_switcher:change",function(t){"base_product"===t.context&&(this.setScope(t.scopeCode,{silent:!0}),this.trigger("pim_enrich:form:entity:post_update"))}.bind(this)),i.append(n.render().$el)}if(e.localizable){var r=new l({config:{context:"base_product"}});r.setDisplayInline(!1),r.setDisplayLabel(!1),this.listenTo(r,"pim_enrich:form:locale_switcher:pre_render",this.initLocale.bind(this)),this.listenTo(r,"pim_enrich:form:locale_switcher:change",function(t){"base_product"===t.context&&(this.setLocale(t.localeCode,{silent:!0}),this.trigger("pim_enrich:form:entity:post_update"))}.bind(this)),i.append(r.render().$el)}this.addElement("after-label","filter-context",i)},getTemplateContext:function(){return t.when(n.prototype.getTemplateContext.apply(this,arguments),r.getFetcher("attribute").fetch(this.getCode())).then(function(t,i){return e.extend({},t,{label:o.getLabel(i.labels,a.get("uiLocale"),i.code),attribute:i})}.bind(this))},addContextLabels:function(i){var n=[];i.scopable&&this.getScope()&&n.push(r.getFetcher("channel").fetch(this.getScope()).then(function(e){return t("<span>").html(e.label)})),i.localizable&&this.getLocale()&&n.push(t.Deferred().resolve(t("<span>").html(o.getFlag(this.getLocale()))).promise()),t.when.apply(t,n).then(function(){var i=t('<span class="AknButtonList filter-context">');e.each(e.toArray(arguments),function(t){i.append(t)}),this.addElement("after-input","filter-context",i)}.bind(this))},initScope:function(t){this.getScope()?t.scopeCode=this.getScope():this.setScope(t.scopeCode,{silent:!0})},initLocale:function(t){this.getLocale()?t.localeCode=this.getLocale():this.setLocale(t.localeCode,{silent:!0})},getLabelledOperatorChoices(t){var e={};return this.config.operators.forEach(n=>{var r="pim_enrich.export.product.filter."+t+".operators."+n,o=i(r);o===r&&(o=i("pim_common.operators."+n)),e[n]=o}),e}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(147)],void 0===(r=function(t,e,i,n){return n.extend({readOnly:!1,initialize:function(t){this.config=e.extend({},t.config),n.prototype.initialize.apply(this,arguments)},reset:function(){},getLabel:function(){return i(this.config.label)},getTitle(){return i(this.config.title)},getLabelCount:function(){var t=this.getFormData().itemsCount;return i(this.config.labelCount,{itemsCount:t},t)},getIllustrationClass:function(){return this.config.illustration||"products"},getDescription:function(){return i(this.config.description)},getCode:function(){return this.config.code},getIcon:function(){return this.config.icon},getJobInstanceCode:function(){return this.config.jobInstanceCode},setReadOnly:function(t){this.readOnly=t,this.triggerExtensions("mass-edit:update-read-only",this.readOnly)},validate:function(){return t.Deferred().resolve(!0)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){var n=i(78)("meta"),r=i(18),o=i(42),a=i(25).f,s=0,l=Object.isExtensible||function(){return!0},c=!i(16)(function(){return l(Object.preventExtensions({}))}),u=function(t){a(t,n,{value:{i:"O"+ ++s,w:{}}})},d=t.exports={KEY:n,NEED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,n)){if(!l(t))return"F";if(!e)return"E";u(t)}return t[n].i},getWeak:function(t,e){if(!o(t,n)){if(!l(t))return!0;if(!e)return!1;u(t)}return t[n].w},onFreeze:function(t){return c&&d.NEED&&l(t)&&!o(t,n)&&u(t),t}}},function(t,e){t.exports=!1},function(t,e,i){var n=i(21)("unscopables"),r=Array.prototype;void 0==r[n]&&i(38)(r,n,{}),t.exports=function(t){r[n][t]=!0}},function(t,e,i){"use strict";var n,r;n=[i(1),i(0)],void 0===(r=function(t,e){return{debug:!1,packToQueryString:function(e){return t.param(e)},unpackFromQueryString:function(t){for(var e=function(t,i,n){if(1<i.length){var r=i.shift();void 0===t[r]&&(t[r]=""===i[0]?[]:{}),e(t[r],i,n)}else t instanceof Array?t.push(n):t[i]=n},i=t.split("&"),n={},r=0;r<i.length;r++){var o=i[r].split("="),a=this._decodeComponent(o[0]),s=this._decodeComponent(o[1]),l=a.match(/(^[^\[]+)(\[.*\]$)?/),c=l[1];(l=l[2]?l[2].match(/(?=\[(.*)\]$)/)[1].split("]["):[]).unshift(c),e(n,l,s)}return n},_decodeComponent:function(t){var e=t.replace(/\+/g,"%20");return e=decodeURIComponent(e)},invertKeys:function(t,i){var n=e.extend({},t);for(var r in i){var o,a;a=r,o=i[r],a in n&&(n[o]=n[a],delete n[a])}return n},isEqualsLoosely:function(t,i){if(!e.isObject(t)){if(e.isNumber(t)||e.isNumber(i)){var n=function(t){return e.isString(t)&&""===t?NaN:+t};return n(t)==n(i)}return(t||"")==(i||"")}if(e.isObject(t)){var r=e.keys(t);for(var o in e.isObject(i)&&(r=e.unique(r.concat(e.keys(i)))),r){var a=r[o];if(!e.has(i,a)||!this.isEqualsLoosely(t[a],i[a]))return!1}return!0}return t==i},deepClone:function(e){return t.extend(!0,{},e)}}}.apply(e,n))||(t.exports=r)},,function(t,e){t.exports='<div class="AknFullPage<% if (typeof innerClassName !== \'undefined\') { %> <%- innerClassName %><% } %>">\n  <div class="AknFullPage-content">\n      <div class="AknFullPage-titleContainer">\n          <% if (typeof subtitle !== \'undefined\') { %>\n            <div class="AknFullPage-subTitle"><%- subtitle %></div>\n          <% } %>\n          <div class="AknFullPage-title"><%- title %></div>\n          <% if (typeof innerDescription !== \'undefined\') { %>\n              <div class="AknFullPage-description description">\n                  <%- innerDescription %>\n              </div>\n          <% } %>\n      </div>\n      <div class="modal-body"><%= content %></div>\n    </div>\n  </div>\n  <% if (allowCancel) { %>\n    <div class="AknFullPage-cancel cancel"></div>\n  <% } %>\n  <% if (okText !== \'\') { %>\n    <div class="AknButton AknButton--apply AknFullPage-ok ok"><%- okText %></div>\n  <% } %>\n</div>\n'},,function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(9),i(3),i(516)],void 0===(r=function(t,e,i,n,r,o){return r.extend({className:"AknFieldContainer control-group filter-item",elements:{},editable:!0,removable:!1,filterTemplate:e.template(o),configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:pre_update",function(t){e.defaults(t,{field:this.getCode()})}.bind(this)),r.prototype.configure.apply(this,arguments)},setParentForm:function(t){this.parentForm=t},getParentForm:function(){return this.parentForm},setCode:function(t){this.filterCode=t},getCode:function(){return this.filterCode},setField:function(t){this.setData({field:t},{silent:!0})},getField:function(){return this.getFormData().field},setType:function(t){this.type=t},getType:function(){return this.type},setOperator:function(t){this.setData({operator:t},{silent:!0})},getOperator:function(){return this.getFormData().operator},setValue:function(t,e){e=e||{silent:!0},this.setData({value:t},e)},getValue:function(){return this.getFormData().value},setEditable:function(t){this.editable=!!t},isEditable:function(){return this.editable},isEmpty:function(){return!1},setRemovable:function(t){this.removable=t},isRemovable:function(){return this.removable},removeFilter:function(){this.trigger("filter:remove",this.getField())},render:function(){var e=[];return this.elements={},this.setEditable(!0),n.trigger("pim_enrich:form:filter:extension:add",{filter:this,promises:e}),t.when.apply(t,e).then(this.getTemplateContext.bind(this)).then(function(t){this.el.dataset.name=this.getField(),this.el.dataset.type=this.getType(),this.$el.html(this.filterTemplate(t)),this.$(".remove").on("click",this.removeFilter.bind(this)),this.$(".filter-input").replaceWith(this.renderInput(t)),this.renderElements(),this.postRender(t),this.delegateEvents()}.bind(this)),this},getTemplateContext:function(){return t.Deferred().resolve({label:i("pim_enrich.export.product.filter."+this.shortname+".title"),removable:this.isRemovable(),editable:this.isEditable()}).promise()},renderInput:function(){throw new Error("You should implement your filter template")},renderElements:function(){e.each(this.elements,function(t,i){var n=this.$("."+i+"-elements-container");n.empty(),e.each(t,function(t){"function"==typeof t.render?n.append(t.render().$el):n.append(t)})}.bind(this))},postRender:function(){},addElement:function(t,e,i){this.elements[t]||(this.elements[t]={}),this.elements[t][e]=i}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+n).toString(36))}},function(t,e,i){var n=i(219),r=i(151);t.exports=Object.keys||function(t){return n(t,r)}},function(t,e,i){var n=i(52),r=Math.max,o=Math.min;t.exports=function(t,e){return(t=n(t))<0?r(t+e,0):o(t,e)}},function(t,e,i){var n=i(13),r=i(220),o=i(151),a=i(150)("IE_PROTO"),s=function(){},l=function(){var t,e=i(148)("iframe"),n=o.length;for(e.style.display="none",i(152).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;n--;)delete l.prototype[o[n]];return l()};t.exports=Object.create||function(t,e){var i;return null!==t?(s.prototype=n(t),i=new s,s.prototype=null,i[a]=t):i=l(),void 0===e?i:r(i,e)}},function(t,e,i){var n=i(219),r=i(151).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,r)}},function(t,e,i){"use strict";var n=i(15),r=i(25),o=i(24),a=i(21)("species");t.exports=function(t){var e=n[t];o&&e&&!e[a]&&r.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,i,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(i+": incorrect invocation!");return t}},function(t,e,i){var n=i(50),r=i(232),o=i(163),a=i(13),s=i(22),l=i(165),c={},u={};(e=t.exports=function(t,e,i,d,p){var h,f,m,g,v=p?function(){return t}:l(t),b=n(i,d,e?2:1),y=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(h=s(t.length);h>y;y++)if((g=e?b(a(f=t[y])[0],f[1]):b(t[y]))===c||g===u)return g}else for(m=v.call(t);!(f=m.next()).done;)if((g=r(m,b,f.value,e))===c||g===u)return g}).BREAK=c,e.RETURN=u},function(t,e,i){var n=i(39);t.exports=function(t,e,i){for(var r in e)n(t,r,e[r],i);return t}},function(t,e,i){"use strict";var n,r;n=[i(0),i(8),i(267),i(72)],void 0===(r=function(t,e,i,n){var r=i.extend({model:e.Model,initialState:{},queryParams:t.extend({},i.prototype.queryParams,{directions:{1:"DESC","-1":"ASC"},totalRecords:void 0,totalPages:void 0}),stateShortKeys:{currentPage:"i",pageSize:"p",sorters:"s",filters:"f",gridName:"t",gridView:"v"},additionalParameters:{view:"gridView"},multipleSorting:!0,initialize:function(e,r){this.state={},(r=r||{}).state&&(r.state.sorters&&t.each(r.state.sorters,function(t,e){r.state.sorters[e]=this.getSortDirectionKey(t)},this),t.extend(this.state,r.state)),this.initialState=n.deepClone(this.state),r.url&&(this.url=r.url),r.model&&(this.model=r.model),r.inputName&&(this.inputName=r.inputName),t.extend(this.queryParams,{currentPage:this.inputName+"[_pager][_page]",pageSize:this.inputName+"[_pager][_per_page]",sortBy:this.inputName+"[_sort_by][%field%]",parameters:this.inputName+"[_parameters]"}),this.on("remove",this.onRemove,this),i.prototype.initialize.apply(this,arguments)},onRemove:function(){0<this.state.totalRecords&&this.state.totalRecords--},encodeStateData:function(e){var i=t.pick(e,t.keys(this.stateShortKeys));return i.gridName=this.inputName,i=n.invertKeys(i,this.stateShortKeys),n.packToQueryString(i)},decodeStateData:function(e){var i=n.unpackFromQueryString(e);return i=n.invertKeys(i,t.invert(this.stateShortKeys))},processFiltersParams:function(e,i,n){if(i||(i=this.state),n||(n=this.inputName+"[_filter]"),this.inputName&&!t.isUndefined(e[this.inputName])&&!t.isUndefined(e[this.inputName]._filter)){var r=t.isUndefined(e[this.inputName]._filter.scope)?null:e[this.inputName]._filter.scope;e[this.inputName]._filter={},null!==r&&(e[this.inputName]._filter.scope=r)}return i.filters&&t.extend(e,this.generateParameterStrings(i.filters,n)),e},processAdditionalParams:function(e){return(e=n.deepClone(e)).parameters=e.parameters||{},t.each(this.additionalParameters,t.bind(function(i,n){t.isUndefined(e[i])||(e.parameters[n]=e[i])},this)),e},generateParameterStrings:function(e,i){var n={};return t.each(e,function(e,r){if("__"!=(r=r.toString()).substr(0,2)){var o=i+"["+r+"]";t.isObject(e)?t.extend(n,this.generateParameterStrings(e,o)):n[o]=e}},this),n},parse:function(t){return this.state.totalRecords=void 0===t.totalRecords?t.options.totalRecords:t.totalRecords,this.state=this._checkState(this.state),t.data},reset:function(t,e){this.trigger("beforeReset",this,e),i.prototype.reset.apply(this,arguments)},updateState:function(e){var i=t.extend({},this.state,e);this.state=this._checkState(i),this.trigger("updateState",this,this.state)},_checkState:function(t){var e=this.mode,i=this.links,n=t.totalRecords,r=t.pageSize,o=0>t.currentPage?1:t.currentPage,a=t.firstPage,s=t.totalPages;if(null!=n&&null!=r&&null!=o&&null!=a&&("infinite"!=e||i)){if(t.totalRecords=n=this.finiteInt(n,"totalRecords"),t.pageSize=r=this.finiteInt(r,"pageSize"),t.currentPage=o=this.finiteInt(o,"currentPage"),t.firstPage=a=this.finiteInt(a,"firstPage"),0>r)throw new RangeError("`pageSize` must be >= 0");if(t.totalPages=0==r?1:s=t.totalPages=Math.ceil(n/r),0>a||1<a)throw new RangeError("`firstPage` must be 0 or 1");if(t.lastPage=0===a?s-1:s,t.lastPage=0>t.lastPage?1:t.lastPage,o>t.lastPage&&0<t.pageSize&&(t.currentPage=o=t.lastPage),0==t.pageSize&&(t.currentPage=o=1),0==n&&(t.currentPage=o=a),"infinite"==e){if(!i[o+""])throw new RangeError("No link found for page "+o)}else if(0<s){if(0===a&&(o<a||o>=s))throw new RangeError("`currentPage` must be firstPage <= currentPage < totalPages if 0-based. Got "+o+".");if(1===a&&(o<a||o>s))throw new RangeError("`currentPage` must be firstPage <= currentPage <= totalPages if 1-based. Got "+o+".")}else if(o!==a)throw new RangeError("`currentPage` must be "+a+". Got "+o+".")}return t},finiteInt:function(e,i){if(e*=1,!t.isNumber(e)||t.isNaN(e)||!t.isFinite(e)||~~e!==e)throw new TypeError("`"+i+"` must be a finite integer");return e},fetch:function(i){this.trigger("beforeFetch",this,i);var r=e.Collection.prototype;i=i||{};var o=this._checkState(this.state),a=this.mode;"infinite"!=a||i.url||(i.url=this.links[o.currentPage]);var s=i.data||{},l=i.url||t.result(this,"url")||"",c=l.indexOf("?");-1!=c&&(t.extend(s,n.unpackFromQueryString(l.slice(c+1))),l=l.slice(0,c)),i.url=l,i.data=s,s=this.processQueryParams(s,o),s=this.processFiltersParams(s,o);var u=this.fullCollection,d=this.links;if("server"!=a){var p=i.success;return i.success=function(e,n,r){r=r||{},t.isUndefined(i.silent)?delete r.silent:r.silent=i.silent;var s=e.models,l=o.currentPage;if("client"==a)resetQuickly(u,s,r);else if(d[l]){var c=o.pageSize,h=(0===o.firstPage?l:l-1)*c,f=u.models,m=f.slice(0,h),g=f.slice(h+c);f=m.concat(s).concat(g),u.update(f,t.extend({silent:!0,sort:!1},r)),u.comparator&&u.sort(),u.trigger("reset",u,r)}else u.add(s,t.extend({at:u.length,silent:!0},r)),u.trigger("reset",u,r);p&&p(e,n,r)},r.fetch.call(this,t.extend({},i,{silent:!0}))}return r.fetch.call(this,i)},processQueryParams:function(e,i){i=this.processAdditionalParams(i);var n,o,a,s,l=r.prototype,c="client"==this.mode?t.pick(this.queryParams,"sorters"):t.omit(t.pick(this.queryParams,t.keys(l.queryParams)),"directions"),u=t.pairs(c),d=t.clone(this);for(n=0;n<u.length;n++)a=(o=u[n])[0],s=o[1],s=t.isFunction(s)?s.call(d):s,null!=i[a]&&null!=s&&(e[s]=i[a]);i.sorters&&t.each(i.sorters,function(t,i){var n=this.queryParams.sortBy.replace("%field%",i);e[n]=this.queryParams.directions[t]},this);var p=t.pairs(t.omit(this.queryParams,t.keys(l.queryParams)));for(n=0;n<p.length;n++)s=(o=p[n])[1],s=t.isFunction(s)?s.call(d):s,e[o[0]]=s;return delete e[c.order],delete e[c.sortKey],e},getSortDirectionKey:function(e){var i=null;return t.each(this.queryParams.directions,function(t,n){t==e&&(i=n)}),i},setSorting:function(e,i,n){var r=this.state;r.sorters=r.sorters||{},this.multipleSorting?(1>=t.keys(r.sorters).length&&!i&&(i=this.getSortDirectionKey("ASC")),delete r.sorters[e]):r.sorters={},i&&(r.sorters[e]=i);var o=this.fullCollection,a=!1,s=!1;i||(a=s=!0);var l=this.mode;n=t.extend({side:"client"==l?l:"server",full:!0},n);var c=this._makeComparator(e,i),u=n.full,d=n.side;return"client"==d?u?(o&&(o.comparator=c),a=!0):(this.comparator=c,s=!0):"server"==d&&!u&&(this.comparator=c),a&&delete this.comparator,s&&o&&delete o.comparator,this},clone:function(){var t={url:this.url,inputName:this.inputName},e=new r(this.toJSON(),t);return e.state=n.deepClone(this.state),e}});return r}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(325)],void 0===(r=function(t,e,i){return{options:{language:"en",pickTime:!1},init:function(n,r){if("en"!==(r=t.extend(!0,{},this.options,r)).language&&void 0===t.fn.datetimepicker.dates[r.language]){var o={},a=t.fn.datetimepicker.dates.en;e.each(e.keys(a),function(t){o[t]=[],e.each(a[t],function(e){o[t].push(i("datetimepicker."+t+"."+e))})}),t.fn.datetimepicker.dates[r.language]=o}return n.datetimepicker(r),n}}}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0);e.getMissingRequiredFields=function(t,e,i){var r=n.findWhere(t.meta.required_missing_attributes,{channel:e});if(void 0===r)return[];var o=r.locales[i];if(void 0===o)return[];var a=o.missing.map(function(t){return t.code}),s=Object.keys(t.values);return a.filter(function(t){return s.includes(t)})}},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){var n=i(25).f,r=i(42),o=i(21)("toStringTag");t.exports=function(t,e,i){t&&!r(t=i?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},function(t,e,i){var n=i(51),r=i(21)("toStringTag"),o="Arguments"==n(function(){return arguments}());t.exports=function(t){var e,i,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?i:o?n(e):"Object"==(a=n(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,i){var n=i(4),r=i(55),o=i(16),a=i(154),s="["+a+"]",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),u=function(t,e,i){var r={},s=o(function(){return!!a[t]()||"​"!="​"[t]()}),l=r[t]=s?e(d):a[t];i&&(r[i]=l),n(n.P+n.F*s,"String",r)},d=u.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(c,"")),t};t.exports=u},function(t,e){t.exports={}},function(t,e,i){var n=i(18);t.exports=function(t,e){if(!n(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,i){"use strict";var n,r;n=[i(0),i(6),i(10)],void 0===(r=function(t,e,i){return{format:function(e){var i=[];return t.each(e,function(t){i.push(this.formatOne(t))}.bind(this)),i},formatOne:function(t){return{id:t.code,text:i.getLabel(t.labels,e.get("catalogLocale"),t.code)}}}}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(8),i(7),i(11),i(2),i(9),i(12),i(109),i(19),i(264),i(31)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c,u,d){return i.View.extend({launcherPrototype:u,launcherOptions:void 0,name:null,datagrid:null,route:null,route_parameters:null,confirmation:!1,frontend_type:null,frontend_options:null,identifierFieldName:"id",messages:{},dispatched:!1,defaultMessages:{confirm_title:o("pim_datagrid.action.default.confirmation.title"),confirm_content:o("pim_datagrid.action.default.confirmation.content"),confirm_ok:o("pim_common.yes"),success:o("pim_datagrid.action.default.success"),error:o("pim_datagrid.action.default.error"),empty_selection:o("pim_datagrid.action.default.no_items")},initialize:function(t){if(!(t=t||{}).datagrid)throw new TypeError("'datagrid' is required");this.datagrid=t.datagrid,e.each(this.messages,e.bind(function(t,e){this.messages[e]=t},this)),e.defaults(this.messages,this.defaultMessages),t.launcherOptions&&(this.launcherOptions=e.extend({},this.launcherOptions,t.launcherOptions)),this.launcherOptions=e.extend({action:this},this.launcherOptions),i.View.prototype.initialize.apply(this,arguments)},createLauncher:function(t){return t=t||{},e.isUndefined(t.icon)&&!e.isUndefined(this.icon)&&(t.icon=this.icon),e.isUndefined(t.className)&&!e.isUndefined(this.className)&&(t.className=this.className),e.defaults(t,this.launcherOptions),new this.launcherPrototype(t)},run:function(){var t={doExecute:!0};this.trigger("preExecute",this,t),t.doExecute&&(this.execute(),this.trigger("postExecute",this,t))},execute:function(){var t=this.getEventName();a.once(t,this.executeConfiguredAction,this),this._confirmationExecutor(e.bind(function(){a.trigger(t,this)},this))},getEventName:function(){return"grid_action_execute:"+this.datagrid.name+":"+this.name},executeConfiguredAction:function(t){"export"==t.frontend_type?this._handleExport(t):"ajax"==t.frontend_type?this._handleAjax(t):"redirect"==t.frontend_type?this._handleRedirect(t):this._handleWidget(t)},_confirmationExecutor:function(t){this.confirmation?this.getConfirmDialog(t):t()},_handleExport:function(t){t.dispatched||new(d("oro/"+t.frontend_type+"-widget"))(t).run()},_handleWidget:function(t){t.dispatched||(t.frontend_options.url=t.frontend_options.url||this.getLinkWithParameters(),t.frontend_options.title=t.frontend_options.title||this.label,new(d("oro/"+t.frontend_type+"-widget"))(t.frontend_options).render())},_handleRedirect:function(t){if(!t.dispatched){var e=t.getLinkWithParameters();r.redirect(e)}},_handleAjax:function(e){e.dispatched||(e.datagrid.showLoading(),t.ajax({url:e.getLink(),method:e.getMethod(),data:e.getActionParameters(),context:e,dataType:"json",error:e._onAjaxError,success:e._onAjaxSuccess}))},_onAjaxError:function(t){l.dispatch(null,t),this.datagrid.hideLoading()},_onAjaxSuccess:function(t){t.count&&(this.datagrid.collection.state.totalRecords-=t.count),this.datagrid.hideLoading(),this.datagrid.collection.fetch();var e=t.successful?this.messages.success:this.messages.error,i=o(t.message)||e;i&&s.notify(t.successful?"success":"error",i)},getLink:function(t){return e.isUndefined(t)&&(t={}),n.generate(this.route,e.extend(this.route_parameters,t))},getMethod:function(){return"GET"},getLinkWithParameters:function(){return this.getLink(this.getActionParameters())},getActionParameters:function(){return{}},getConfirmDialog:function(t){return c.confirm(this.messages.confirm_content,this.messages.confirm_title,t,this.getEntityHint(!0))},getEntityHint:function(t){var e=(this.datagrid||{}).entityHint||"item";return t?this.getEntityPlural(e):e},getEntityCode:function(){return this.getEntityHint().toLowerCase().split(" ").join("_")},getEntityPlural:function(t){return t.endsWith("y")?t.replace(/y$/,"ies"):`${t.replace("_"," ")}s`}})}.apply(e,n))||(t.exports=r)},,function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(8),i(72)],void 0===(r=function(t,e,i,n){return i.View.extend({tagName:"div",className:"AknFilterBox-filterContainer filter-item oro-drop",canDisable:!0,enabled:!1,defaultEnabled:!1,name:"input_name",placeholder:e.__("pim_common.all"),label:"Input Label",showLabel:!0,buttonActiveClass:"open-filter",nullLink:"javascript:void(0);",initialize:function(t){t=t||{},e.has(t,"enabled")&&(this.enabled=t.enabled),e.has(t,"canDisable")&&(this.canDisable=t.canDisable),e.has(t,"placeholder")&&(this.placeholder=t.placeholder),e.has(t,"showLabel")&&(this.showLabel=t.showLabel),e.has(t,"name")&&this.$el.attr("data-name",t.name),e.has(t,"type")&&this.$el.attr("data-type",t.type),this.defaultEnabled=this.enabled,e.isUndefined(this.emptyValue)&&(this.emptyValue={}),this.value=e.clone(this.emptyValue),i.View.prototype.initialize.apply(this,arguments)},enable:function(){return this.enabled||(this.render(),this.enabled=!0,this.show(),this.trigger("enable",this)),this},render(){t(".column-inner").scroll(this._updateCriteriaSelectorPosition.bind(this))},disable:function(){return this.enabled&&(this.enabled=!1,this.hide(),this.trigger("disable",this),this.reset()),this},show:function(){return this.$el.css("display","block"),this},hide:function(){return this.$el.hide(),this},reset:function(){return this.setValue(this.emptyValue),this},getValue:function(){return n.deepClone(this.value)},setValue:function(t){if(this._isNewValueUpdated(t)){var e=this.value;this.value=n.deepClone(t),this._updateDOMValue(),this._onValueUpdated(this.value,e)}return this},_formatRawValue:function(t){return t},_formatDisplayValue:function(t){return t},_isNewValueUpdated:function(t){return!n.isEqualsLoosely(this.value,t)},_onValueUpdated:function(t,e){this._triggerUpdate(t,e)},_triggerUpdate:function(){this.trigger("update")},isEmpty:function(){return n.isEqualsLoosely(this.getValue(),this.emptyValue)},isEmptyValue:function(){return!e.has(this.emptyValue,"value")||!e.has(this.value,"value")||n.isEqualsLoosely(this.value.value,this.emptyValue.value)},_getInputValue:function(e){var i=void 0,n=this.$(e);switch(n.attr("type")){case"radio":n.each(function(){t(this).is(":checked")&&(i=t(this).val())});break;default:i=n.val()}return i},_setInputValue:function(e,i){var n=this.$(e);switch(n.attr("type")){case"radio":n.each(function(){var e=t(this);e.attr("value")==i?(e.attr("checked",!0),e.click()):t(this).removeAttr("checked")});break;default:n.val(i)}return this},_updateDOMValue:function(){return this._writeDOMValue(this._getDisplayValue())},_getCriteriaHint:function(){return""},_getDisplayValue:function(){var t=0<arguments.length?arguments[0]:this.getValue();return this._formatDisplayValue(t)},_writeDOMValue:function(){throw new Error("Method _writeDOMValue is abstract and must be implemented")},_readDOMValue:function(){throw new Error("Method _readDOMValue is abstract and must be implemented")},_setButtonPressed:function(e,i){var n=t(e);t(window).width(),n.offset().left,n.outerWidth();i?e.parent().addClass(this.buttonActiveClass):e.parent().removeClass(this.buttonActiveClass)},_preventEnterProcessing:function(t){13==t.keyCode&&(t.preventDefault(),t.stopPropagation())},_updateCriteriaSelectorPosition(){var e=t("body"),i=this.getCriteria();if(i.is(":visible")){i.css({position:"fixed"});var n=this.$el.offset().left;n+i.outerWidth()>e.width()&&0<n+this.$el.width()-i.outerWidth()?i.css({left:n+this.$el.width()-i.outerWidth()}):i.css({left:n});var r=this.$el.offset().top;r+i.outerHeight()<=e.height()?i.css({top:r}):0<r+this.$el.height()-i.outerHeight()?i.css({top:r+this.$el.height()-i.outerHeight()}):i.css({top:0})}},getCriteria(){return this.$(this.criteriaSelector)},_highlightDropdown(t,e){this.$el.find(e+" .AknDropdown-menuLink").removeClass("AknDropdown-menuLink--active").removeClass("active");var i=this.$el.find(e+' *[data-value="'+t+'"]');i.parent().addClass("AknDropdown-menuLink--active").addClass("active"),this.$el.find(e+" .AknActionButton-highlight").html(i.text())}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<select\n    id="pim_enrich_form_<%- fieldId %>"\n    class="select2"\n    name="<%- fieldName %>"\n    data-placeholder="<%- labels.defaultLabel %>"\n    <% if (multiple) { %>multiple<% } %>\n    <% if (readOnly) { %>readonly disabled<% } %>\n>\n    <option value=""<% if (!value) { %> selected<% } %>></option>\n    <% if (Object.keys(choices).length > 0 && Object.values(choices)[0] instanceof Object) { %>\n        <% _.each(choices, function (optGroupOptions, optGroupLabel) { %>\n            <optgroup label="<%- optGroupLabel %>">\n                <% _.each(optGroupOptions, function (choiceLabel, choiceValue) { %>\n                <option\n                    value="<%- choiceValue %>"\n                    <% if ((!multiple && choiceValue === value) || (multiple && _.contains(value, choiceValue))) { %> selected<% } %>\n                    >\n                    <%- choiceLabel %>\n                </option>\n                <% }); %>\n            </optgroup>\n        <% }); %>\n    <% } else { %>\n        <% _.each(choices, function (choiceLabel, choiceValue) { %>\n            <option\n                value="<%- choiceValue %>"\n                <% if ((!multiple && choiceValue === value) || (multiple && _.contains(value, choiceValue))) { %> selected<% } %>\n            >\n                <%- choiceLabel %>\n            </option>\n        <% }); %>\n    <% } %>\n</select>\n'},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(8),i(110),i(7),i(9),i(414),i(87),i(46),i(109),i(31)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c,u){return i.View.extend({template:e.template(a),urlParams:{},initialize:function(t,i){this.alias=t,this.selection=i.selection||[],this.selection=e.map(this.selection,function(t){return t+""}),this.options=i;var n=i.selectionIdentifier||"id";delete this.options.selection,o.on("datagrid:selectModel:"+this.alias,function(t){this.addElement(t.get(n))}.bind(this)),o.on("datagrid:unselectModel:"+this.alias,function(t){this.removeElement(t.get(n))}.bind(this))},render:function(){return this.$el.html(this.template({})),this.renderGrid(this.alias,this.options),this},renderGrid:function(i,o){this.urlParams=t.extend(!0,{},o),this.urlParams.alias=i,this.urlParams.params=t.extend(!0,{},o),this.urlParams[i]=t.extend(!0,{},o),l.get(i,["view"]).view||l.refreshFiltersFromUrl(i);var a=l.get(i,["view","filters","columns"])||{};this.applyView(a.view,i),this.applyFilters(a.filters,i),this.applyColumns(a.columns,i),t.get(r.generate("pim_datagrid_load",this.urlParams)).then(function(t){this.$el.find(".grid-drop").data({metadata:t.metadata,data:JSON.parse(t.data)});var i=t.metadata.requireJSModules.concat("pim/datagrid/state-listener"),r=[];e.each(i,function(t){r.push(u(t))}),n(r)}.bind(this)).fail(function(t){c.dispatch(null,t)})},getSelection:function(){return this.selection},addElement:function(t){this.selection=e.union(this.selection,[t]),this.trigger("grid:selection:updated",this.selection)},removeElement:function(t){this.selection=e.without(this.selection,t),this.trigger("grid:selection:updated",this.selection)},refresh:function(){o.trigger("datagrid:doRefresh:"+this.alias)},applyView:function(t,e){t&&(this.urlParams[e+"[_parameters][view][id]"]=t,l.set(e,{view:t}))},applyFilters:function(t,i){if(t){var n=s.prototype.decodeStateData(t),r={};e.isEmpty(n.filters)||(r={state:{filters:e.omit(n.filters,"scope")}});var o=new s(null,r);for(var a in o.processFiltersParams(this.urlParams,n,i+"[_filter]"),n.sorters)this.urlParams[i+"[_sort_by]["+a+"]"]=1===parseInt(n.sorters[a])?"DESC":"ASC";void 0!==n.pageSize&&(this.urlParams[i+"[_pager][_per_page]"]=25),void 0!==n.currentPage&&(this.urlParams[i+"[_pager][_page]"]=n.currentPage),l.set(i,{filters:t})}},applyColumns:function(t,i){t&&(e.isArray(t)&&(t=t.join()),this.urlParams[i+"[_parameters][view][columns]"]=t,l.set(i,{columns:t}))}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(34),i(554),i(58)],void 0===(r=function(t,e,i,n,r){return n.extend({events:{"change input":function(t){this.errors=[],this.updateModel(this.getFieldValue(t.target)),this.getRoot().render()}},template:e.template(r),renderInput:function(t){return void 0===this.getModelValue()&&e.has(this.config,"defaultValue")&&this.updateModel(this.config.defaultValue),this.template(e.extend(t,{value:this.getModelValue(),labels:{on:i("pim_common.yes"),off:i("pim_common.no")}}))},postRender:function(){this.$(".switch").bootstrapSwitch()},getFieldValue:function(e){return t(e).is(":checked")}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(34),i(555)],void 0===(r=function(t,e,i,n){return i.extend({template:e.template(n),events:{"keyup input":function(t){this.errors=[],this.updateModel(this.getFieldValue(t.target))}},renderInput:function(t){return this.template(e.extend(t,{value:this.getModelValue()}))},getFieldValue:function(e){return t(e).val()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){var n=i(51);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,i){"use strict";var n=i(13);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,i){var n=i(13),r=i(32),o=i(21)("species");t.exports=function(t,e){var i,a=n(t).constructor;return void 0===a||void 0==(i=n(a)[o])?e:r(i)}},function(t,e,i){"use strict";var n,r;n=[i(8)],void 0===(r=function(t){return t.View.extend({active:!1,renderRoute:function(){throw new Error("Method renderRoute is abstract and must be implemented!")},remove:function(){this.setActive(!1)},setActive:function(t){this.active=t},canLeave:function(){var t={canLeave:!0};return this.trigger("pim:controller:can-leave",t),t.canLeave}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(8),i(7),i(72)],void 0===(r=function(t,e,i,n){var r={header:"Server error",message:"Error! Incorrect server response.",forbiddenAccess:"You don't have the permission to open this page"},o={dispatch:function(e,i,n){o.dispatch.init(e,i,t.extend({},r,n))}},a=e.sync;return e.sync=function(i,n,r){r=r||{},t.has(r,"error")||(r.error=o.dispatch),a.call(e,i,n,r)},t.extend(o.dispatch,{init:function(t,e,i){401===e.status?this._processRedirect():4===e.readyState&&(403===e.status&&(i.message=i.forbiddenAccess),this._processModal(e,i))},_processModal:function(t,i){var r=i.message;n.debug&&(r+="<br><b>Debug:</b>"+t.responseText),new e.BootstrapModal({title:i.header,content:r,buttonClass:"AknButton--important",cancelText:""}).open()},_processRedirect:function(){document.location.href=i.generate("pim_user_security_login")}}),o}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(141),i(9),i(87),i(292),i(297),i(31)],void 0===(r=function(t,e,i,n,r,o,a,s){var l="oro/datagrid/{{type}}-action",c={integer:"integer",decimal:"number",percent:"number"},u=["export","ajax","redirect","edit","delete"],d=function(t){return t+"Cell"},p=function(t){return t+"Action"},h={initBuilder:function(t){var n=this;n.metadata=e.extend({columns:[],options:{},state:{},rowActions:{},massActionsGroups:[],massActions:{}},n.$el.data("metadata")),n.modules={},h.collectModules.call(n),i.loadModules(n.modules,function(){h.buildGrid.call(n),t(),h.afterBuild.call(n)})},collectModules:function(){var i=this.modules,n=this.metadata,r=function(t,e){return t.replace("{{type}}",e)};e.each(n.columns,function(t){var e=t.type;i[d(e)]=r("oro/datagrid/{{type}}-cell",c[e]||e)}),e.each(e.values(n.rowActions),function(t){i[p(t.type)]=r(l,t.type)}),t.isEmptyObject(n.massActions)||(i[p("mass")]=r(l,"mass")),e.each(e.values(n.massActions),function(t){e.contains(u,t.type)||(i[p(t.type)]=r(l,t.type))})},buildGrid:function(){var i,n,s;i=h.combineCollectionOptions.call(this),n=new r(this.$el.data("data"),i),i=h.combineGridOptions.call(this),s=new o(e.extend({collection:n},i)),this.grid=s,this.$el.append(s.render().$el),i=h.combineGridViewsOptions.call(this),t(".page-title > .AknTitleContainer .span10:last").append(new a(e.extend({collection:n},i)).render().$el)},afterBuild:function(){n.trigger("datagrid_collection_set_after",this.grid.collection,this.$el)},combineCollectionOptions:function(){return e.extend({inputName:this.metadata.options.gridName,parse:!0,url:"/user/json",state:e.extend({filters:{},sorters:{}},this.metadata.state)},this.metadata.options)},combineGridOptions:function(){var t,i={},n={},r={sortable:!1},o=this.modules,a=this.metadata;return t=e.map(a.columns,function(t){var i=["name","label","renderable","editable","sortable"],n=e.extend({},r,e.pick.apply(null,[t].concat(i))),a=e.omit.apply(null,[t].concat(i.concat("type"))),s=o[d(t.type)];return e.isEmpty(a)||(s=s.extend(a)),n.cell=s,n}),e.each(a.rowActions,function(t,e){i[e]=o[p(t.type)].extend(t)}),e.each(a.massActions,function(t,i){var r=e.contains(u,t.type)?"mass":t.type;n[i]=o[p(r)].extend(t)}),{name:a.options.gridName,columns:t,rowActions:i,massActionsGroups:a.massActionsGroups,massActions:n,toolbarOptions:a.options.toolbarOptions||{},multipleSorting:a.options.multipleSorting||!1,entityHint:a.options.entityHint,row:a.options.rowView?s(a.options.rowView):null,displayTypes:a.options.displayTypes,manageColumns:a.options.manageColumns,emptyGridOptions:a.options.emptyGridOptions}},combineGridViewsOptions:function(){return this.metadata.gridViews||{}}};return function(i){t('[data-type="datagrid"]:not([data-rendered])').each(function(n,r){var o=t(r),a=((o.data("metadata")||{}).options||{}).gridName;a&&(o.attr("data-rendered",!0),!e.isArray(i)&&(i=[i]),h.initBuilder.call({$el:o},function(){e.each(i,function(i){if(!e.has(i,"init")||!t.isFunction(i.init))throw new TypeError("Builder does not have init method");i.init(o,a)})}))}).end()}}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(72),i(112),i(28),i(17)],void 0===(r=function(t,e,i,n,r,o){return r.extend({criteriaValueSelectors:{value:'input[name="value"]',type:'input[type="hidden"]'},emptyChoice:!0,events:{"keyup input":"_onReadCriteriaInputKey",'keydown [type="text"]':"_preventEnterProcessing","click .filter-update":"_onClickUpdateCriteria","click .filter-criteria-selector":"_onClickCriteriaSelector","click .AknDropdown-menuLink":"_onSelectOperator","click .disable-filter":"_onClickDisableFilter"},initialize:function(){e.isUndefined(this.choices)&&(this.choices=[]),t.isPlainObject(this.choices)&&(this.choices=e.map(this.choices,function(t,e){return{value:e.toString(),label:t}})),e.isUndefined(this.emptyValue)&&(this.emptyValue={type:e.isEmpty(this.choices)?"":e.first(this.choices).value,value:""}),r.prototype.initialize.apply(this,arguments)},_getCriteriaHint:function(){var t,i,n=0<arguments.length?this._getDisplayValue(arguments[0]):this._getDisplayValue();return e.contains(["empty","not empty"],n.type)?this._getChoiceOption(n.type).label:(n.value?i=((t=this._getChoiceOption(n.type))?t.label+" ":"")+'"'+n.value+'"':i=this.placeholder,i)},_getChoiceOption:function(t){return e.findWhere(this.choices,{value:t.toString()})},_writeDOMValue:function(t){return this._setInputValue(this.criteriaValueSelectors.value,t.value),this._setInputValue(this.criteriaValueSelectors.type,t.type),this._highlightDropdown(t.type,".operator"),this._toggleListSelection("in"===t.type),this._toggleInput(e.contains(["empty","not empty"],t.type)),this},_readDOMValue:function(){var t=this.emptyChoice?this.$(".active .operator_choice").data("value"):"in";return{value:e.contains(["empty","not empty"],t)?"":this._getInputValue(this.criteriaValueSelectors.value),type:t}},_triggerUpdate:function(t,e){n.isEqualsLoosely(t.value,e.value)&&n.isEqualsLoosely(t.type,e.type)||this.trigger("update")},_onValueUpdated:function(i,n){this.$(".choicefilter .dropdown-menu").find("li a").each(function(){var e=t(this);e.data("value")==n.type&&e.parent().hasClass("active")?e.parent().removeClass("active"):e.data("value")==i.type&&!e.parent().hasClass("active")&&(e.parent().addClass("active"),e.closest(".AknDropdown").find("AknActionButton").html(e.html()+'<span class="AknActionButton-caret AknCaret"></span>'))}),e.contains(["empty","not empty"],i.type)?this.$(this.criteriaValueSelectors.value).hide():this.$(this.criteriaValueSelectors.value).show(),r.prototype._onValueUpdated.apply(this,arguments)},_renderCriteria:function(){r.prototype._renderCriteria.apply(this,arguments);var t=this.emptyValue.type;return this._toggleListSelection("in"===t),this._toggleInput(e.contains(["empty","not empty"],t)),this},_onSelectOperator:function(i){var n=t(i.currentTarget).find(".operator_choice").attr("data-value");this._highlightDropdown(n,".operator"),this._toggleListSelection("in"===n),this._toggleInput(e.contains(["empty","not empty"],n)),i.preventDefault()},_toggleListSelection:function(t){t?this._enableListSelection():this._disableListSelection()},_toggleInput:function(t){t?this._disableInput():this._enableInput()},_enableListSelection:function(){o.init(this.$(this.criteriaValueSelectors.value),{multiple:!0,tokenSeparators:[","," ",";"],tags:[],width:"290px",formatNoMatches:function(){return""}}),this.$(this.criteriaValueSelectors.value).on("change",()=>{this._updateCriteriaSelectorPosition()}),this.$(this.criteriaValueSelectors.value).addClass("AknTextField--select2")},_disableListSelection:function(){this.$(this.criteriaValueSelectors.value).select2("destroy").removeClass("AknTextField--select2")},_getOperatorChoices(){var t={};return e.each(this.choices,function(e){t[e.value]=e.label}),t}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(99),i(309)],void 0===(r=function(t,e,i,n,r){return n.extend({outsideEventListener:null,template:e.template('<div class="AknFilterBox-filter filter-criteria-selector oro-drop-opener"><% if (showLabel) { %><span class="AknFilterBox-filterLabel"><%= label %></span><% } %><span class="AknFilterBox-filterCriteria AknFilterBox-filterCriteria--limited filter-criteria-hint"><%= criteriaHint %></span><span class="AknFilterBox-filterCaret"></span></div><div class="filter-criteria dropdown-menu" /><% if (canDisable) { %><div class="AknFilterBox-disableFilter AknIconButton AknIconButton--small AknIconButton--remove disable-filter"></div><% } %>'),popupCriteriaTemplate:e.template(r),popupCriteriaShowed:!1,criteriaHintSelector:".filter-criteria-hint",criteriaSelector:".filter-criteria",criteriaValueSelectors:{value:'input[name="value"]',nested:{end:"input"}},operatorChoices:[],events:{"keyup input":"_onReadCriteriaInputKey",'keydown [type="text"]':"_preventEnterProcessing","click .filter-update":"_onClickUpdateCriteria","click .filter-criteria-selector":"_onClickCriteriaSelector","click .filter-criteria .filter-criteria-hide":"_onClickCloseCriteria","click .disable-filter":"_onClickDisableFilter"},initialize:function(){e.isUndefined(this.emptyValue)&&(this.emptyValue={value:""}),n.prototype.initialize.apply(this,arguments)},ensurePopupCriteriaClosed:function(){this.popupCriteriaShowed&&(this._hideCriteria(),this.setValue(this._formatRawValue(this._readDOMValue())))},_onReadCriteriaInputKey:function(t){13==t.which&&(this._hideCriteria(),this.setValue(this._formatRawValue(this._readDOMValue())))},_onClickUpdateCriteria:function(){this._hideCriteria(),this.setValue(this._formatRawValue(this._readDOMValue()))},_onClickCriteriaSelector:function(e){e.stopPropagation(),t("body").trigger("click"),this.popupCriteriaShowed?this._hideCriteria():this._showCriteria()},_onClickCloseCriteria:function(){this._hideCriteria(),this._updateDOMValue()},_onClickDisableFilter:function(t){t.preventDefault(),this.disable()},render:function(){return n.prototype.render.apply(this,arguments),this.$el.empty(),this.$el.append(this.template({label:this.label,showLabel:this.showLabel,criteriaHint:this._getCriteriaHint(),nullLink:this.nullLink,canDisable:this.canDisable})),this._renderCriteria(this.$(this.criteriaSelector)),this},_renderCriteria:function(e){return t(e).append(this.popupCriteriaTemplate({label:this.label,operatorChoices:this._getOperatorChoices(),selectedOperator:this.emptyValue.type,emptyChoice:this.emptyChoice,selectedOperatorLabel:this._getOperatorChoices()[this.emptyValue.type],operatorLabel:i("pim_common.operator"),updateLabel:i("pim_common.update")})),this},_getOperatorChoices(){return this.operatorChoices},remove:function(){return t("body").off("click",this._clickOutsideCriteriaCallback),n.prototype.remove.call(this),this},_showCriteria:function(){this.$(this.criteriaSelector).show(),this._updateCriteriaSelectorPosition(),this._focusCriteria(),this._setButtonPressed(this.$(this.criteriaSelector),!0),setTimeout(e.bind(function(){this.popupCriteriaShowed=!0},this),100),this.outsideEventListener=this.outsideClickListener.bind(this),document.addEventListener("click",this.outsideEventListener)},outsideClickListener(e){!t(e.target).closest(this.criteriaSelector).length&&(t(e.target).closest(".app").length||t(e.target).closest(".modal--fullPage").length)&&this.popupCriteriaShowed&&(this._hideCriteria(),this.setValue(this._formatRawValue(this._readDOMValue())),document.removeEventListener("mousedown",this.outsideEventListener))},_hideCriteria:function(){this.$(this.criteriaSelector).hide(),this._setButtonPressed(this.$(this.criteriaSelector),!1),setTimeout(e.bind(function(){this.popupCriteriaShowed=!1},this),100)},_focusCriteria:function(){this.$(this.criteriaSelector+" input").focus().select()},_writeDOMValue:function(t){return this._setInputValue(this.criteriaValueSelectors.value,t.value),this},_readDOMValue:function(){return{value:this._getInputValue(this.criteriaValueSelectors.value)}},_onValueUpdated:function(){n.prototype._onValueUpdated.apply(this,arguments),this._updateCriteriaHint()},_updateCriteriaHint:function(){return this.$(this.criteriaHintSelector).html(e.escape(this._getCriteriaHint())),this},_getCriteriaHint:function(){var t=0<arguments.length?this._getDisplayValue(arguments[0]):this._getDisplayValue();return t.value?'"'+t.value+'"':this.placeholder},_enableInput:function(){this.$(this.criteriaValueSelectors.value).show()},_disableInput:function(){this.$(this.criteriaValueSelectors.value).hide()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(99),i(185)],void 0===(r=function(t,e,i,n){return i.extend({template:t.template('<div class="AknFilterBox-filter filter-select filter-criteria-selector"><% if (showLabel) { %><span class="AknFilterBox-filterLabel"><%= label %></span><% } %><select><% _.each(options, function (option) { %><option value="<%= option.value %>"<% if (option.value == emptyValue.type) { %> selected="selected"<% } %>><%= _.__(option.label) %></option><% }); %></select></div><% if (canDisable) { %><a href="<%= nullLink %>" class="AknFilterBox-disableFilter AknIconButton AknIconButton--small AknIconButton--remove disable-filter"></a><% } %>'),populateDefault:!0,containerSelector:".filter-select",disableSelector:".disable-filter",buttonSelector:".select-filter-widget.ui-multiselect:first",inputSelector:"select",selectWidget:null,minimumWidth:null,widgetOptions:{multiple:!1,classes:"AknFilterBox-filterCriteria select-filter-widget"},selectDropdownOpened:!1,contextSearch:!0,events:{"keydown select":"_preventEnterProcessing","click .filter-select":"_onClickFilterArea","click .disable-filter":"_onClickDisableFilter","change select":"_onSelectChange"},initialize:function(){t.isUndefined(this.choices)&&(this.choices=[]),this.choices=t.map(this.choices,function(e,i){return t.isString(e)?{value:i,label:e}:e}),t.isUndefined(this.emptyValue)&&(this.emptyValue={value:""}),i.prototype.initialize.apply(this,arguments)},render:function(){i.prototype.render.apply(this,arguments);var t=this.choices.slice(0);return this.$el.empty(),this.populateDefault&&t.unshift({value:"",label:this.placeholder}),this.$el.append(this.template({label:this.label,showLabel:this.showLabel,options:t,placeholder:this.placeholder,nullLink:this.nullLink,canDisable:this.canDisable,emptyValue:this.emptyValue})),this._updateDOMValue(),this._initializeSelectWidget(),this},_initializeSelectWidget:function(){this.selectWidget=new n({element:this.$(this.inputSelector),parameters:t.extend({noneSelectedText:this.placeholder,selectedText:t.bind(function(t,e,i){return this._getSelectedText(i)},this),open:t.bind(function(){this.selectWidget.onOpenDropdown(),this._setDropdownWidth(),this.selectWidget.getWidget().find('input[type="search"]').attr("placeholder",this.label),this._updateCriteriaSelectorPosition(),this._setButtonPressed(this.$(this.containerSelector),!0),this.selectDropdownOpened=!0},this),close:t.bind(function(){this._setButtonPressed(this.$(this.containerSelector),!1),setTimeout(t.bind(function(){this.selectDropdownOpened=!1},this),100)},this)},this.widgetOptions),contextSearch:this.contextSearch}),this.selectWidget.setViewDesign(this),this.$(this.buttonSelector).append('<span class="AknFilterBox-filterCaret"></span>').find("span:first-child").addClass("filter-criteria-hint")},getCriteria(){return this.selectWidget.getWidget()},_getSelectedText:function(e){if(t.isEmpty(e))return this.placeholder;var i=[];return t.each(e,function(t){var e=t.getAttribute("title");e&&i.push(e)}),i.join(", ")},_getCriteriaHint:function(){var e=0<arguments.length?this._getDisplayValue(arguments[0]):this._getDisplayValue(),i=t.find(this.choices,function(t){return t.value==e.value});return t.isUndefined(i)?this.placeholder:i.label},_setDropdownWidth:function(){this.minimumWidth||(this.minimumWidth=this.selectWidget.getMinimumDropdownWidth()+22);var t=this.selectWidget.getWidget(),e=this.$(this.containerSelector).width(),i=Math.max(e+10,this.minimumWidth);t.width(i).css("min-width",i+"px"),t.find('input[type="search"]').width(i-22)},_onClickFilterArea:function(e){this.selectDropdownOpened?setTimeout(t.bind(function(){this.selectWidget.multiselect("close")},this),50):setTimeout(t.bind(function(){this.selectWidget.multiselect("open")},this),50),e.stopPropagation()},_onSelectChange:function(){this.setValue(this._formatRawValue(this._readDOMValue())),null!==this.selectWidget&&this._updateCriteriaSelectorPosition()},_onClickDisableFilter:function(t){t.preventDefault(),this.disable()},_isNewValueUpdated:function(e){return!t.isEqual(this.getValue().value||"",e.value)},_onValueUpdated:function(){i.prototype._onValueUpdated.apply(this,arguments),this.selectWidget&&(this._updateCriteriaSelectorPosition(),this.selectWidget.multiselect("refresh"))},_writeDOMValue:function(t){return this._setInputValue(this.inputSelector,t.value),this},_readDOMValue:function(){return{value:this._getInputValue(this.inputSelector)}}})}.apply(e,n))||(t.exports=r)},,function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(88),i(64)],void 0===(r=function(t,e,i,n){return{datetimepickerOptions:{format:n.get("date").format,defaultFormat:n.get("date").defaultFormat,language:n.get("language")},format:function(n,r,o){if(e.isEmpty(n)||e.isUndefined(n)||e.isArray(n))return null;var a=t.extend({},this.datetimepickerOptions,{format:r}),s=i.init(t("<input>"),a).data("datetimepicker");return null!==s.parseDate(n)&&(s.setValue(n),s.format=o,s._compileFormat()),s.formatDate(s.getDate())}}}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(34),i(2),i(10),i(28),i(6),i(339),i(7)],void 0===(r=function(t,e,i,n,r,o,a,s,l){return i.extend({events:{"change input":function(t){this.errors=[],this.updateModel(this.getFieldValue(t.target)),this.getRoot().render()}},template:e.template(s),choiceUrl:null,resultsPerPage:20,allowClear:!1,initialize(){this.choiceUrl=null,this.choiceVerb="GET",i.prototype.initialize.apply(this,arguments),void 0!==this.config.choiceRoute&&this.setChoiceUrl(l.generate(this.config.choiceRoute)),void 0!==this.config.choiceVerb&&(this.choiceVerb=this.config.choiceVerb)},setChoiceUrl(t){this.choiceUrl=t},renderInput:function(t){return this.template(e.extend(t,{value:this.getModelValue()}))},postRender(t){o.init(this.$(".select2"),this.getSelect2Options(t))},getSelect2Options(){return{ajax:{url:this.choiceUrl,cache:!0,data:this.select2Data.bind(this),results:this.select2Results.bind(this),type:this.choiceVerb},initSelection:this.select2InitSelection.bind(this),placeholder:void 0===this.config.placeholder?" ":n(this.config.placeholder),dropdownCssClass:"",allowClear:this.allowClear}},select2Data(t,e){return{search:t,options:{limit:this.resultsPerPage,page:e,catalogLocale:a.get("catalogLocale")}}},select2Results(t){var e=t.results?Object.keys(t.results).length:Object.keys(t).length,i=this.resultsPerPage===e;return t.results?(t.more=i,t):t.isArray?{more:i,results:t.map(t=>this.convertBackendItem(t))}:{more:i,results:Object.values(t).map(t=>this.convertBackendItem(t))}},select2InitSelection(i,n){var r=t(i).val();""!==r&&t.ajax({url:this.choiceUrl,data:{options:{identifiers:[r]}},type:this.choiceVerb}).then(t=>{var i=e.findWhere(t,{code:r});i=i?this.convertBackendItem(i):e.findWhere(t.results,{id:r}),n(i)})},convertBackendItem:t=>void 0===t.label?{id:t.code,text:r.getLabel(t.labels,a.get("catalogLocale"),t.code)}:{id:t.code,text:t.label},getFieldValue:e=>t(e).val()})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(3),i(6),i(10),i(0)],void 0===(r=function(t,e,i,n){return t.extend({tagName:"h1",className:"AknTitleContainer-title",initialize:function(t){this.config=n.extend({},t.config)},configure:function(){return e.off("change:catalogLocale",this.render),this.listenTo(e,"change:catalogScope",this.render),this.listenTo(this.getRoot(),"pim_enrich:form:entity:post_update",this.render),t.prototype.configure.apply(this,arguments)},render:function(){return this.$el.text(this.getLabel()),this},getLabel:function(){var t=this.getFormData();return this.config.field?t[this.config.field]:void 0===t.labels?"":i.getLabel(t.labels,e.get("catalogLocale"),t.code)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n;void 0===(n=(()=>({writeValue(t,e){t.prototype.updateModel.call(this,[{scope:null,locale:null,data:e}])},readValue(t){var e=t.prototype.getModelValue.call(this);return void 0===e?void 0:e[0].data}})).apply(e,[]))||(t.exports=n)},function(t,e,i){var n=i(49),r=i(15),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:i(70)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,i){var n=i(43),r=i(22),o=i(80);t.exports=function(t){return function(e,i,a){var s,l=n(e),c=r(l.length),u=o(a,c);if(t&&i!=i){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===i)return t||u||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){var n=i(51);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,i){var n=i(52),r=i(55);t.exports=function(t){return function(e,i){var o,a,s=String(r(e)),l=n(i),c=s.length;return l<0||l>=c?t?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):o:t?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},function(t,e,i){var n=i(18),r=i(51),o=i(21)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},function(t,e,i){var n=i(21)("iterator"),r=!1;try{var o=[7][n]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var i=!1;try{var o=[7],a=o[n]();a.next=function(){return{done:i=!0}},o[n]=function(){return a},t(o)}catch(t){}return i}},function(t,e,i){"use strict";var n=i(92),r=RegExp.prototype.exec;t.exports=function(t,e){var i=t.exec;if("function"==typeof i){var o=i.call(t,e);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},function(t,e,i){"use strict";i(236);var n=i(39),r=i(38),o=i(16),a=i(55),s=i(21),l=i(169),c=s("species"),u=!o(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),d=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2===i.length&&"a"===i[0]&&"b"===i[1]}();t.exports=function(t,e,i){var p=s(t),h=!o(function(){var e={};return e[p]=function(){return 7},7!=""[t](e)}),f=h?!o(function(){var e=!1,i=/a/;return i.exec=function(){return e=!0,null},"split"===t&&(i.constructor={},i.constructor[c]=function(){return i}),i[p](""),!e}):void 0;if(!h||!f||"replace"===t&&!u||"split"===t&&!d){var m=/./[p],g=i(a,p,""[t],function(t,e,i,n,r){return e.exec===l?h&&!r?{done:!0,value:m.call(e,i,n)}:{done:!0,value:t.call(i,e,n)}:{done:!1}}),v=g[0],b=g[1];n(String.prototype,t,v),r(RegExp.prototype,p,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}}},function(t,e,i){var n=i(15).navigator;t.exports=n&&n.userAgent||""},function(t,e,i){"use strict";var n=i(15),r=i(4),o=i(39),a=i(86),s=i(69),l=i(85),c=i(84),u=i(18),d=i(16),p=i(125),h=i(91),f=i(155);t.exports=function(t,e,i,m,g,v){var b=n[t],y=b,_=g?"set":"add",k=y&&y.prototype,x={},A=function(t){var e=k[t];o(k,t,"delete"==t?function(t){return!(v&&!u(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(v&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!u(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,i){return e.call(this,0===t?0:t,i),this})};if("function"==typeof y&&(v||k.forEach&&!d(function(){(new y).entries().next()}))){var C=new y,w=C[_](v?{}:-0,1)!=C,T=d(function(){C.has(1)}),S=p(function(t){new y(t)}),F=!v&&d(function(){for(var t=new y,e=5;e--;)t[_](e,e);return!t.has(-0)});S||((y=e(function(e,i){c(e,y,t);var n=f(new b,e,y);return void 0!=i&&l(i,g,n[_],n),n})).prototype=k,k.constructor=y),(T||F)&&(A("delete"),A("has"),g&&A("get")),(F||w)&&A(_),v&&k.clear&&delete k.clear}else y=m.getConstructor(e,t,g,_),a(y.prototype,i),s.NEED=!0;return h(y,t),x[t]=y,r(r.G+r.W+r.F*(y!=b),x),v||m.setStrong(y,t,g),y}},function(t,e,i){for(var n,r=i(15),o=i(38),a=i(78),s=a("typed_array"),l=a("view"),c=!(!r.ArrayBuffer||!r.DataView),u=c,d=0,p="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(n=r[p[d++]])?(o(n.prototype,s,!0),o(n.prototype,l,!0)):u=!1;t.exports={ABV:c,CONSTR:u,TYPED:s,VIEW:l}},function(t,e,i){"use strict";t.exports=i(70)||!i(16)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete i(15)[t]})},function(t,e,i){"use strict";var n=i(4);t.exports=function(t){n(n.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,i){"use strict";var n=i(4),r=i(32),o=i(50),a=i(85);t.exports=function(t){n(n.S,t,{from:function(t){var e,i,n,s,l=arguments[1];return r(this),(e=void 0!==l)&&r(l),void 0==t?new this:(i=[],e?(n=0,s=o(l,arguments[2],2),a(t,!1,function(t){i.push(s(t,n++))})):a(t,!1,i.push,i),new this(i))}})}},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(7)],void 0===(r=function(t,e,i){var n=null,r=function(){return null==n&&(n=t.getJSON(i.generate("pim_enrich_form_extension_rest_index")).fail(()=>{throw Error("It seems that your web server is not well configured as we were not able to load the frontend configuration. The most likely reason is that the mod_rewrite module is not installed/enabled.")})),n};return{getExtensionMap:function(){return r().then(function(t){return Object.values(t.extensions)})},getAttributeFields:function(){return r().then(function(t){return t.attribute_fields})},clear:function(){n=null}}}.apply(e,n))||(t.exports=r)},,function(t,e,i){"use strict";var n,r;n=[i(0),i(97)],void 0===(r=function(t,e){return e.extend({model:null,link:void 0,backUrl:!1,backUrlParameter:"back",initialize:function(i){if(!(i=i||{}).model)throw new TypeError("'model' is required");this.model=i.model,t.has(i,"backUrl")&&(this.backUrl=i.backUrl),t.has(i,"backUrlParameter")&&(this.backUrlParameter=i.backUrlParameter),e.prototype.initialize.apply(this,arguments)},getLink:function(){if(!this.link)throw new TypeError("'link' is required");var e;if(e=this.model.has(this.link)?this.model.get(this.link):this.link,this.backUrl){var i=t.isBoolean(this.backUrl)?window.location.href:this.backUrl;i=encodeURIComponent(i),e=this.addUrlParameter(e,this.backUrlParameter,i)}return e},addUrlParameter:function(t,e,i){var n;if(0<t.indexOf("#")){var r=t.indexOf("#");n=t.substring(t.indexOf("#"),t.length)}else n="",r=t.length;var o=t.substring(0,r).split("?"),a="";if(1<o.length)for(var s,l=o[1].split("&"),c=0;c<l.length;c++)(s=l[c].split("="))[0]==e||(""==a?a="?":a+="&",a+=s[0]+"="+(s[1]?s[1]:""));return""==a&&(a="?"),""!=a&&"?"!=a&&(a+="&"),a+=e+"="+(i||""),o[0]+a+n}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(8),i(263)],void 0===(r=function(t,e,i){return e.View.extend({template:t.template(i),initialize:function(t,e){this.message=t,this.statusCode=e},render:function(){this.$el.html(this.template({message:this.message,statusCode:this.statusCode}))}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(1),i(8)],void 0===(r=function(t,e,i){return i.Model.extend({columnName:"id",dataField:"id",initialize:function(e){if(!t.has(e,"columnName"))throw new Error("Data column name is not specified");if(this.columnName=e.columnName,e.dataField&&(this.dataField=e.dataField),i.Model.prototype.initialize.apply(this,arguments),!e.$gridContainer)throw new Error("gridSelector is not specified");this.$gridContainer=e.$gridContainer,this.gridName=e.gridName,this.setDatagridAndSubscribe()},setDatagridAndSubscribe:function(){this.$gridContainer.on("datagrid:change:"+this.gridName,this._onModelEdited.bind(this))},_onModelEdited:function(e,i){if(i.hasChanged(this.columnName)){var n=i.get(this.dataField);t.isUndefined(n)||this._processValue(n,i)}},_processValue:function(){throw new Error("_processValue method is abstract and must be implemented")}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n;void 0===(n=function(){return{set:function(t){sessionStorage.setItem("sequential_edit_entities",JSON.stringify(t))},clear:function(){sessionStorage.setItem("sequential_edit_entities",JSON.stringify([]))},get:function(){return null===sessionStorage.getItem("sequential_edit_entities")?[]:JSON.parse(sessionStorage.getItem("sequential_edit_entities"))}}}.apply(e,[]))||(t.exports=n)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(29)],void 0===(r=function(t,e,i){return i.Row.extend({events:{click:"onClick"},clickData:{counter:0,timeout:100,hasSelectedText:!1},initialize:function(){i.Row.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"backgrid:selected",function(t,e){e?this.$el.addClass("AknGrid-bodyRow--selected"):this.$el.removeClass("AknGrid-bodyRow--selected")})},render:function(){return i.Row.prototype.render.apply(this,arguments),!0===this.$el.find("input[type=checkbox]").prop("checked")&&this.$el.addClass("AknGrid-bodyRow--selected"),this},onClick:function(i){var n=i.target,r=t(i.target).parent().get(0);!this.el==n&&!this.el==r||(this.clickData.counter++,1!=this.clickData.counter||this._hasSelectedText()?this.clickData.counter=0:e.delay(e.bind(function(){this._hasSelectedText()||1!=this.clickData.counter||this.trigger("clicked",this,i),this.clickData.counter=0},this),this.clickData.timeout))},_hasSelectedText:function(){var t="";return e.isFunction(window.getSelection)?t=window.getSelection().toString():!e.isUndefined(document.selection)&&"Text"==document.selection.type&&(t=document.selection.createRange().text),!e.isEmpty(t)},makeCell:function(t){var e=new(t.get("cell"))({column:t,model:this.model});return this._listenToCellEvents(e),e},_listenToCellEvents:function(t){t.listenRowClick&&e.isFunction(t.onRowClicked)&&this.on("clicked",e.bind(t.onRowClicked,t))}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(31)],void 0===(r=function(t,e){return{loadModules:function(n,r){var o=t.object(a,arguments),a=t.values(n);new Promise(function(t){t()}).then(function(){t.each(n,t.bind(function(t,i){var r=e(t);n[i]=r},o)),r(n)}.bind(null,i)).catch(i.oe)}}}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(111)],void 0===(r=function(t,e){return e.extend({})}.apply(e,n))||(t.exports=r)},,function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(8),i(422)],void 0===(r=function(t,e,i,n){return i.View.extend({className:"select2-results",template:e.template(n),checked:!1,item:null,initialize:function(){this.item=this.options.item},render:function(){return this.$el.html(this.template({item:this.item,checked:this.checked})),this},setCheckedCheckbox:function(t){this.checked=t,this.render()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(205),i(426),i(5),i(66),i(96)],void 0===(r=function(t,e,i,n,r,o,a,s){return n.extend({className:"AknButtonList-item add-attribute",lineView:r,defaultConfig:{select2:{placeholder:"pim_common.add_attributes",title:"pim_common.select2.search",buttonTitle:"pim_common.add",countTitle:"pim_enrich.entity.attribute.module.add_attribute.attributes_selected",emptyText:"pim_enrich.entity.attribute.module.add_attribute.no_available_attributes",classes:"pim-add-attributes-multiselect",minimumInputLength:0,dropdownCssClass:"add-attribute",closeOnSelect:!1},resultsPerPage:10,searchParameters:{options:{exclude_unique:!0}},mainFetcher:"attribute",events:{disable:null,enable:null,add:"add-attribute:add"}},getItemsToExclude:function(){return t.Deferred().resolve(e.keys(this.getFormData().values))},fetchItems:function(t){return void 0!==this.config.attributeTypes&&Array.isArray(this.config.attributeTypes)&&(t.types=this.config.attributeTypes.join(",")),n.prototype.fetchItems.apply(this,[t]).then(function(t){var i=e.unique(e.pluck(t,"group"));return o.getFetcher("attribute-group").fetchByIdentifiers(i).then(function(e){return this.populateGroupProperties(t,e)}.bind(this))}.bind(this))},populateGroupProperties:function(t,i){return e.map(t,function(t){return e.extend(t,{group:e.findWhere(i,{code:t.group})})})},prepareChoices:function(t){return e.chain(t).map(function(t){var e=s.formatOne(t.group),i=s.formatOne(t);return i.group=e,i}).value()},addItems:function(){this.trigger(this.addEvent,{codes:this.selection})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(3),i(23),i(498)],void 0===(r=function(t,e,i,n,r){return i.extend({template:t.template(r),initialize:function(t){this.config=t.config,i.prototype.initialize.apply(this,arguments)},render:function(){return this.$el.html(this.template(this.getTemplateContext())),this.$(".field-input").prepend(this.renderInput(this.getTemplateContext())),this.$('[data-toggle="tooltip"]').tooltip(),this.delegateEvents(),this},renderInput:function(t){return this.fieldTemplate(t)},getTemplateContext:function(){return{__:e,value:this.getValue(),config:this.config,error:this.getParent().getValidationErrorsForField(this.getFieldCode())}},getValue:function(){return n.accessProperty(this.getFormData(),this.getFieldCode())},getFieldCode:function(){return this.config.fieldCode},updateState:function(){var t=n.updateProperty(this.getFormData(),this.getFieldCode(),this.getFieldValue());this.setData(t)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r,o={"forwarded-events":{"pim_enrich:form:field:extension:add":"pim_enrich:form:field:extension:add","pim_enrich:form:filter:extension:add":"pim_enrich:form:filter:extension:add","pim_enrich:form:entity:pre_save":"pim_enrich:form:entity:pre_save","pim_enrich:form:entity:update_state":"pim_enrich:form:entity:update_state","pim_enrich:form:entity:post_fetch":"pim_enrich:form:entity:post_fetch"}};n=[i(0),i(2),i(8),i(176),i(3),i(9),i(5),i(37),i(14),i(31),i(12)],void 0===(r=function(t,e,i,n,r,a,s,l,c,u,d){return r.extend({template:t.template(n),initialize:function(e){(e=e||{}).config&&e.config.template&&(this.template=t.template(u(e.config.template)))},configure:function(){return a.clear("pim_enrich:form"),i.Router.prototype.once("route",this.unbindEvents),t.has(o,"forwarded-events")&&this.forwardMediatorEvents(o["forwarded-events"]),this.listenTo(this.getRoot(),"pim_enrich:form:entity:bad_request",this.displayError.bind(this)),this.onExtensions("save-buttons:register-button",function(t){var e=this.getExtension("save-buttons");if(void 0===e)throw Error("edit-form extension should declare save-buttons extension to be able to use save extension");e.trigger("save-buttons:add-button",t)}.bind(this)),r.prototype.configure.apply(this,arguments)},render:function(){return this.configured?(this.getRoot().trigger("pim_enrich:form:render:before"),this.$el.html(this.template()),this.renderExtensions(),void this.getRoot().trigger("pim_enrich:form:render:after")):this},unbindEvents:function(){a.clear("pim_enrich:form")},clearCache:function(){s.clearAll(),l.clearFields(),this.render()},displayError:function(e){t.each(e.response,function(t){t.global&&d.notify("error",t.message)})},headerSize:function(){var t=this.el.querySelector("header.navigation");return null===t?0:t.offsetHeight}})}.apply(e,n))||(t.exports=r)},function(t,e,i){var n=i(18),r=i(15).document,o=n(r)&&n(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,i){var n=i(15),r=i(49),o=i(70),a=i(218),s=i(25).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,i){var n=i(119)("keys"),r=i(78);t.exports=function(t){return n[t]||(n[t]=r(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,i){var n=i(15).document;t.exports=n&&n.documentElement},function(t,e,i){var n=i(18),r=i(13),o=function(t,e){if(r(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=i(50)(Function.call,i(44).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,i){return o(t,i),e?t.__proto__=i:n(t,i),t}}({},!1):void 0),check:o}},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,i){var n=i(18),r=i(153).set;t.exports=function(t,e,i){var o,a=e.constructor;return a!==i&&"function"==typeof a&&(o=a.prototype)!==i.prototype&&n(o)&&r&&r(t,o),t}},function(t,e,i){"use strict";var n=i(52),r=i(55);t.exports=function(t){var e=String(r(this)),i="",o=n(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(i+=e);return i}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var i=Math.expm1;t.exports=!i||i(10)>22025.465794806718||i(10)<22025.465794806718||-2e-17!=i(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:i},function(t,e,i){"use strict";var n=i(70),r=i(4),o=i(39),a=i(38),s=i(94),l=i(160),c=i(91),u=i(45),d=i(21)("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};t.exports=function(t,e,i,f,m,g,v){l(i,e,f);var b,y,_,k=function(t){if(!p&&t in w)return w[t];switch(t){case"keys":case"values":return function(){return new i(this,t)}}return function(){return new i(this,t)}},x=e+" Iterator",A="values"==m,C=!1,w=t.prototype,T=w[d]||w["@@iterator"]||m&&w[m],S=T||k(m),F=m?A?k("entries"):S:void 0,E="Array"==e&&w.entries||T;if(E&&(_=u(E.call(new t)))!==Object.prototype&&_.next&&(c(_,x,!0),n||"function"==typeof _[d]||a(_,d,h)),A&&T&&"values"!==T.name&&(C=!0,S=function(){return T.call(this)}),n&&!v||!p&&!C&&w[d]||a(w,d,S),s[e]=S,s[x]=h,m)if(b={values:A?S:k("values"),keys:g?S:k("keys"),entries:F},v)for(y in b)y in w||o(w,y,b[y]);else r(r.P+r.F*(p||C),e,b);return b}},function(t,e,i){"use strict";var n=i(81),r=i(77),o=i(91),a={};i(38)(a,i(21)("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=n(a,{next:r(1,i)}),o(t,e+" Iterator")}},function(t,e,i){var n=i(124),r=i(55);t.exports=function(t,e,i){if(n(e))throw TypeError("String#"+i+" doesn't accept regex!");return String(r(t))}},function(t,e,i){var n=i(21)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[n]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,i){var n=i(94),r=i(21)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||o[r]===t)}},function(t,e,i){"use strict";var n=i(25),r=i(77);t.exports=function(t,e,i){e in t?n.f(t,e,r(0,i)):t[e]=i}},function(t,e,i){var n=i(92),r=i(21)("iterator"),o=i(94);t.exports=i(49).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||o[n(t)]}},function(t,e,i){var n=i(721);t.exports=function(t,e){return new(n(t))(e)}},function(t,e,i){"use strict";var n=i(27),r=i(80),o=i(22);t.exports=function(t){for(var e=n(this),i=o(e.length),a=arguments.length,s=r(a>1?arguments[1]:void 0,i),l=a>2?arguments[2]:void 0,c=void 0===l?i:r(l,i);c>s;)e[s++]=t;return e}},function(t,e,i){"use strict";var n=i(71),r=i(235),o=i(94),a=i(43);t.exports=i(159)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(t,e,i){"use strict";var n,r,o=i(106),a=RegExp.prototype.exec,s=String.prototype.replace,l=a,c=(n=/a/,r=/b*/g,a.call(n,"a"),a.call(r,"a"),0!==n.lastIndex||0!==r.lastIndex),u=void 0!==/()??/.exec("")[1];(c||u)&&(l=function(t){var e,i,n,r,l=this;return u&&(i=new RegExp("^"+l.source+"$(?!\\s)",o.call(l))),c&&(e=l.lastIndex),n=a.call(l,t),c&&n&&(l.lastIndex=l.global?n.index+n[0].length:e),u&&n&&n.length>1&&s.call(n[0],i,function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(n[r]=void 0)}),n}),t.exports=l},function(t,e,i){"use strict";var n=i(123)(!0);t.exports=function(t,e,i){return e+(i?n(t,e).length:1)}},function(t,e,i){var n,r,o,a=i(50),s=i(225),l=i(152),c=i(148),u=i(15),d=u.process,p=u.setImmediate,h=u.clearImmediate,f=u.MessageChannel,m=u.Dispatch,g=0,v={},b=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},y=function(t){b.call(t.data)};p&&h||(p=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return v[++g]=function(){s("function"==typeof t?t:Function(t),e)},n(g),g},h=function(t){delete v[t]},"process"==i(51)(d)?n=function(t){d.nextTick(a(b,t,1))}:m&&m.now?n=function(t){m.now(a(b,t,1))}:f?(o=(r=new f).port2,r.port1.onmessage=y,n=a(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(n=function(t){u.postMessage(t+"","*")},u.addEventListener("message",y,!1)):n="onreadystatechange"in c("script")?function(t){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),b.call(t)}}:function(t){setTimeout(a(b,t,1),0)}),t.exports={set:p,clear:h}},function(t,e,i){var n=i(15),r=i(171).set,o=n.MutationObserver||n.WebKitMutationObserver,a=n.process,s=n.Promise,l="process"==i(51)(a);t.exports=function(){var t,e,i,c=function(){var n,r;for(l&&(n=a.domain)&&n.exit();t;){r=t.fn,t=t.next;try{r()}catch(n){throw t?i():e=void 0,n}}e=void 0,n&&n.enter()};if(l)i=function(){a.nextTick(c)};else if(!o||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);i=function(){u.then(c)}}else i=function(){r.call(n,c)};else{var d=!0,p=document.createTextNode("");new o(c).observe(p,{characterData:!0}),i=function(){p.data=d=!d}}return function(n){var r={fn:n,next:void 0};e&&(e.next=r),t||(t=r,i()),e=r}}},function(t,e,i){"use strict";var n=i(32);t.exports.f=function(t){return new function(t){var e,i;this.promise=new t(function(t,n){if(void 0!==e||void 0!==i)throw TypeError("Bad Promise constructor");e=t,i=n}),this.resolve=n(e),this.reject=n(i)}(t)}},function(t,e,i){"use strict";var n=i(15),r=i(24),o=i(70),a=i(130),s=i(38),l=i(86),c=i(16),u=i(84),d=i(52),p=i(22),h=i(245),f=i(82).f,m=i(25).f,g=i(167),v=i(91),b="prototype",y="Wrong index!",_=n.ArrayBuffer,k=n.DataView,x=n.Math,A=n.RangeError,C=n.Infinity,w=_,T=x.abs,S=x.pow,F=x.floor,E=x.log,L=x.LN2,D=r?"_b":"buffer",P=r?"_l":"byteLength",N=r?"_o":"byteOffset";function M(t,e,i){var n,r,o,a=new Array(i),s=8*i-e-1,l=(1<<s)-1,c=l>>1,u=23===e?S(2,-24)-S(2,-77):0,d=0,p=t<0||0===t&&1/t<0?1:0;for((t=T(t))!=t||t===C?(r=t!=t?1:0,n=l):(n=F(E(t)/L),t*(o=S(2,-n))<1&&(n--,o*=2),(t+=n+c>=1?u/o:u*S(2,1-c))*o>=2&&(n++,o/=2),n+c>=l?(r=0,n=l):n+c>=1?(r=(t*o-1)*S(2,e),n+=c):(r=t*S(2,c-1)*S(2,e),n=0));e>=8;a[d++]=255&r,r/=256,e-=8);for(n=n<<e|r,s+=e;s>0;a[d++]=255&n,n/=256,s-=8);return a[--d]|=128*p,a}function I(t,e,i){var n,r=8*i-e-1,o=(1<<r)-1,a=o>>1,s=r-7,l=i-1,c=t[l--],u=127&c;for(c>>=7;s>0;u=256*u+t[l],l--,s-=8);for(n=u&(1<<-s)-1,u>>=-s,s+=e;s>0;n=256*n+t[l],l--,s-=8);if(0===u)u=1-a;else{if(u===o)return n?NaN:c?-C:C;n+=S(2,e),u-=a}return(c?-1:1)*n*S(2,u-e)}function R(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function O(t){return[255&t]}function V(t){return[255&t,t>>8&255]}function B(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function j(t){return M(t,52,8)}function $(t){return M(t,23,4)}function U(t,e,i){m(t[b],e,{get:function(){return this[i]}})}function z(t,e,i,n){var r=h(+i);if(r+e>t[P])throw A(y);var o=t[D]._b,a=r+t[N],s=o.slice(a,a+e);return n?s:s.reverse()}function q(t,e,i,n,r,o){var a=h(+i);if(a+e>t[P])throw A(y);for(var s=t[D]._b,l=a+t[N],c=n(+r),u=0;u<e;u++)s[l+u]=c[o?u:e-u-1]}if(a.ABV){if(!c(function(){_(1)})||!c(function(){new _(-1)})||c(function(){return new _,new _(1.5),new _(NaN),"ArrayBuffer"!=_.name})){for(var G,H=(_=function(t){return u(this,_),new w(h(t))})[b]=w[b],W=f(w),J=0;W.length>J;)(G=W[J++])in _||s(_,G,w[G]);o||(H.constructor=_)}var K=new k(new _(2)),Z=k[b].setInt8;K.setInt8(0,2147483648),K.setInt8(1,2147483649),!K.getInt8(0)&&K.getInt8(1)||l(k[b],{setInt8:function(t,e){Z.call(this,t,e<<24>>24)},setUint8:function(t,e){Z.call(this,t,e<<24>>24)}},!0)}else _=function(t){u(this,_,"ArrayBuffer");var e=h(t);this._b=g.call(new Array(e),0),this[P]=e},k=function(t,e,i){u(this,k,"DataView"),u(t,_,"DataView");var n=t[P],r=d(e);if(r<0||r>n)throw A("Wrong offset!");if(r+(i=void 0===i?n-r:p(i))>n)throw A("Wrong length!");this[D]=t,this[N]=r,this[P]=i},r&&(U(_,"byteLength","_l"),U(k,"buffer","_b"),U(k,"byteLength","_l"),U(k,"byteOffset","_o")),l(k[b],{getInt8:function(t){return z(this,1,t)[0]<<24>>24},getUint8:function(t){return z(this,1,t)[0]},getInt16:function(t){var e=z(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=z(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return R(z(this,4,t,arguments[1]))},getUint32:function(t){return R(z(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return I(z(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return I(z(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){q(this,1,t,O,e)},setUint8:function(t,e){q(this,1,t,O,e)},setInt16:function(t,e){q(this,2,t,V,e,arguments[2])},setUint16:function(t,e){q(this,2,t,V,e,arguments[2])},setInt32:function(t,e){q(this,4,t,B,e,arguments[2])},setUint32:function(t,e){q(this,4,t,B,e,arguments[2])},setFloat32:function(t,e){q(this,4,t,$,e,arguments[2])},setFloat64:function(t,e){q(this,8,t,j,e,arguments[2])}});v(_,"ArrayBuffer"),v(k,"DataView"),s(k[b],a.VIEW,!0),e.ArrayBuffer=_,e.DataView=k},function(t,e,i){"use strict";var n,r;n=[i(1),i(134)],void 0===(r=function(t,e){return{getFormExtensions:t=>e.getExtensionMap().then(e=>e.filter(e=>e.parent===t.code)),getFormMeta:t=>e.getExtensionMap().then(e=>e.find(e=>e.code===t))}}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<div class="AknDefault-contentWithColumn" data-drop-zone="column">\n    <div class="AknDefault-thirdColumnContainer">\n        <div class="AknDefault-thirdColumn" data-drop-zone="tree"></div>\n    </div>\n    <div class="AknDefault-contentWithBottom" data-drop-zone="bottom-panel">\n        <div class="AknDefault-mainContent entity-edit-form edit-form">\n            <header class="AknTitleContainer navigation">\n                <div class="AknTitleContainer-line">\n                    <div class="AknTitleContainer-imageContainer" data-drop-zone="main-image"></div>\n                    <div class="AknTitleContainer-mainContainer">\n                        <div>\n                            <div class="AknTitleContainer-line">\n                                <div class="AknTitleContainer-breadcrumbs" data-drop-zone="breadcrumbs"></div>\n                                <div class="AknTitleContainer-buttonsContainer">\n                                    <div class="user-menu" data-drop-zone="user-menu"></div>\n                                    <div class="AknButtonList" data-drop-zone="buttons"></div>\n                                </div>\n                            </div>\n                            <div class="AknTitleContainer-line">\n                                <div class="AknTitleContainer-title" data-drop-zone="title"></div>\n                                <div class="AknTitleContainer-state" data-drop-zone="state"></div>\n                            </div>\n                        </div>\n                        <div>\n                            <div class="AknTitleContainer-line">\n                                <div class="AknTitleContainer-context AknButtonList" data-drop-zone="context"></div>\n                            </div>\n                            <div class="AknTitleContainer-line">\n                                <div class="AknTitleContainer-meta AknButtonList" data-drop-zone="meta"></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="AknTitleContainer-line">\n                    <div data-drop-zone="navigation" class="AknTitleContainer-navigation"></div>\n                </div>\n                <div class="AknTitleContainer-line">\n                    <div data-drop-zone="search" class="AknTitleContainer-search search-zone"></div>\n                </div>\n            </header>\n\n            <div data-drop-zone="content" class="content"></div>\n        </div>\n    </div>\n</div>\n'},function(t,e,i){"use strict";var n,r;n=[i(0),i(9),i(136),i(11)],void 0===(r=function(t,e,i,n){return i.extend({useDirectLauncherLink:!0,initialize:function(e){i.prototype.initialize.apply(this,arguments),e.useDirectLauncherLink&&(this.useDirectLauncherLink=e.useDirectLauncherLink),this.on("preExecute",t.bind(this._preExecuteSubscriber,this)),this.useDirectLauncherLink&&(this.launcherOptions=t.extend({link:this.getLink(),runAction:!1},this.launcherOptions))},execute:function(){n.redirect(this.getLink())},_preExecuteSubscriber:function(t,i){e.trigger("grid_action:navigateAction:preExecute",t,i)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(108)],void 0===(r=function(t,e,i){return i.extend({renderRoute:function(e,i){return t.get(i).then(this.renderTemplate.bind(this)).promise()},renderTemplate:function(t){this.active&&this.$el.html(t)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";(function(n){var r,o;r=[i(0),i(12),i(2),i(19),i(136),i(9),i(6)],void 0===(o=function(t,e,i,r,o,a,s){return o.extend({errorModal:void 0,confirmModal:void 0,initialize:function(t){t=t||{},this.gridName=t.datagrid.name,o.prototype.initialize.apply(this,arguments)},execute:function(){this.getConfirmDialog()},doDelete:function(){this.model.id=!0,this.model.destroy({url:this.getLink(),wait:!0,error:function(t,e){var i="";if(-1!==e.getResponseHeader("content-type").indexOf("application/json")){var n=JSON.parse(e.responseText);void 0!==n.message&&(i=n.message)}this.getErrorDialog(i).open()}.bind(this),success:function(){var t=i("pim_enrich.entity."+this.getEntityCode()+".flash.delete.success");e.notify("success",t),s.initialize(),a.trigger("datagrid:doRefresh:"+this.gridName)}.bind(this)})},getConfirmDialog:function(){var t=this.getEntityCode();return this.confirmModal=r.confirmDelete(i(`pim_enrich.entity.${t}.module.delete.confirm`),i("pim_common.confirm_deletion"),this.doDelete.bind(this),this.getEntityHint(!0)),this.confirmModal},getErrorDialog:function(t){var e="";if("string"==typeof t)e=t;else try{e=JSON.parse(t).message}catch(t){e=i("pim_enrich.entity."+this.getEntityHint()+".flash.delete.fail")}return this.errorModal=new n.BootstrapModal({title:i("pim_datagrid.delete_error.title"),content:""===e?i("pim_enrich.entity."+this.getEntityHint()+".flash.delete.fail"):e,buttonClass:"AknButton--important",illustrationClass:"delete",cancelText:""}),this.errorModal}})}.apply(e,r))||(t.exports=o)}).call(e,i(8))},function(t,e,i){"use strict";var n,r;n=[i(0),i(12),i(2),i(19),i(97)],void 0===(r=function(t,e,i,n,r){return r.extend({defaultMessages:{confirm_title:i("pim_datagrid.mass_action.default.confirmation.title"),confirm_content:i("pim_datagrid.mass_action.default.confirmation.content"),confirm_ok:i("pim_common.yes"),success:i("pim_datagrid.mass_action.default.success"),error:i("pim_datagrid.mass_action.default.error"),empty_selection:i("pim_datagrid.mass_action.default.no_items")},initialize:function(){r.prototype.initialize.apply(this,arguments),this.route_parameters=t.extend(this.route_parameters,{gridName:this.datagrid.name,actionName:this.name}),t.defaults(this.messages,this.defaultMessages)},execute:function(){var i=this.datagrid.getSelectionState();t.isEmpty(i.selectedModels)&&i.inset?e.notify("warning",this.messages.empty_selection):r.prototype.execute.call(this)},getActionParameters:function(){var e=this.datagrid.getSelectionState(),i=this.datagrid.collection,n=t.map(e.selectedModels,function(t){return t.get(this.identifierFieldName)},this),r={inset:e.inset?1:0,values:n.join(",")};r.itemsCount=e.inset?n.length:i.state.totalRecords-n.length,r=this.getExtraParameters(r,i.state),r=i.processFiltersParams(r,null,"filters");var o=this.getLocaleFromUrl("dataLocale");return"family-grid"===this.datagrid.name&&(o=this.getLocaleFromUrl("localeCode"),delete r["filters[label][value]"]),o&&(r.dataLocale=o),r},getLocaleFromUrl:function(t){var e=this.datagrid.collection.url.split("?")[1],i=this.datagrid.collection.decodeStateData(e),n=i[this.datagrid.name]||{};return i[t]||n[t]},getExtraParameters:function(t,e){return t[this.datagrid.name]={},void 0!==e&&(t[this.datagrid.name]._parameters=this.getActiveSorters(e),t[this.datagrid.name]._sort_by=this.getActiveColumns(e)),t},getActiveSorters:function(t){var e={};return void 0!==t.parameters&&void 0!==t.parameters.view&&(e.view={columns:t.parameters.view.columns}),e},getActiveColumns:function(t){var e={};if(void 0!==t.sorters)for(var i in t.sorters)e[i]=1===t.sorters[i]?"DESC":"ASC";return e},_onAjaxSuccess:function(){this.datagrid.resetSelectionState(),r.prototype._onAjaxSuccess.apply(this,arguments)},getConfirmDialog:function(t){return n.confirm(this.messages.confirm_content,this.messages.confirm_title,t,this.getEntityHint(!0),`${this.className} ok`,this.messages.confirm_ok,this.type)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(8),i(29)],void 0===(r=function(t,e,i){return e.View.extend({className:"AknGrid-bodyCell AknGrid-bodyCell--tight AknGrid-bodyCell--checkbox select-row-cell",tagName:"td",events:{"change :checkbox":"onChange",click:"enterEditMode"},initialize:function(t){this.column=t.column,this.column instanceof i.Column||(this.column=new i.Column(this.column)),this.listenTo(this.model,"backgrid:select",function(t,e){this.$el.find(":checkbox").prop("checked",e).change()})},enterEditMode:function(t){var e=this.$el.find(":checkbox").focus();e[0]!==t.target&&e.prop("checked",!e.prop("checked")).change(),t.stopPropagation()},exitEditMode:function(){this.$el.find(":checkbox").blur()},onChange:function(e){this.model.trigger("backgrid:selected",this.model,t(e.target).prop("checked"))},render:function(){var t={selected:!1};return this.$el.empty().append('<input tabindex="-1" type="checkbox" />'),this.model.trigger("backgrid:isSelected",this.model,t),t.selected&&this.$el.find(":checkbox").prop("checked","checked"),this.delegateEvents(),this}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<div class="AknGridContainer-noData no-data-inner">\n    <div class="AknGridContainer-noDataImage <%- imageClass %>"></div>\n    <div class="AknGridContainer-noDataTitle"><%- __(hint) %></div>\n    <div class="AknGridContainer-noDataSubtitle"><%- __(subHint) %></div>\n</div>\n'},,,function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(9),i(183),i(184)],void 0===(r=function(t,e,i){var n=function(t){this.initialize(t)};return n.prototype={element:null,parameters:{height:"auto"},contextSearch:!0,minimumWidth:null,initialize:function(t){if(!t.element)throw new Error("Select element must be defined");this.element=t.element,t.parameters&&e.extend(this.parameters,t.parameters),e.has(t,"contextSearch")&&(this.contextSearch=t.contextSearch),this.multiselect(this.parameters),this.contextSearch&&this.multiselectfilter({label:"",placeholder:"",autoReset:!0}),i.once("hash_navigation_request:start",function(){this.element.closest("body").length&&(this.multiselect("destroy"),this.element.hide())},this)},setViewDesign:function(t){t.$(".ui-multiselect").removeClass("ui-widget").removeClass("ui-state-default"),t.$(".ui-multiselect span.ui-icon").remove()},onOpenDropdown:function(){this.getWidget().find('input[type="search"]').focus(),t("body").trigger("click")},getMinimumDropdownWidth:function(){if(e.isNull(this.minimumWidth)){var i=this.getWidget().find(".ui-multiselect-checkboxes li"),n=e.max(e.map(i,function(e){return t(e).find("span:first").width()}));this.minimumWidth=n+100}return this.minimumWidth},getWidget:function(){try{return this.multiselect("widget")}catch(e){return t(".ui-multiselect-menu.pimmultiselect")}},multiselect:function(t){return this.element.multiselect(t)},multiselectfilter:function(t){return this.element.multiselectfilter(t)}},n}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<input class="AknFilterBox-search" autocomplete="off" type="text" name="value" value="<%- (typeof value !== \'undefined\') ? value : \'\' %>" placeholder="<%- label %>">\n'},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(142),i(313),i(9)],void 0===(r=function(t,e,i,n,r){return i.extend({emptyValue:{value:{treeId:0,categoryId:-2},type:1},value:{},initialize:function(o,a,s,l,c){this.$el.remove(),this.$el=t(l),this.value=t.extend(!0,{},this.emptyValue),i.prototype.initialize.apply(this,arguments),o&&o[a+"[_filter][category][value][treeId]"]&&(this.value.value.treeId=parseInt(o[a+"[_filter][category][value][treeId]"])),o&&o[a+"[_filter][category][value][categoryId]"]&&(this.value.value.categoryId=parseInt(o[a+"[_filter][category][value][categoryId]"])),this.$el.on("tree.updated",e.bind(this._onTreeUpdated,this)),n.init(this.$el,this._getInitialState(),s),this.listenTo(r,"datagrid_filters:build.post",function(t){this.listenTo(t,"collection-filters:createState.post",function(t){e.extend(t,{category:this._getTreeState()})}),t.listenTo(this,"update",t._onFilterUpdated)}),this.listenTo(r,"filters-column:init",()=>{r.trigger("filters-column:update-filter",{category:this._getTreeState()},!0),this.listenTo(this,"update",()=>{r.trigger("filters-column:update-filter",{category:this._getTreeState()})})}),r.on("grid_action_execute:product-grid:delete",function(){n.refresh()}),void 0!==c&&c(this.value)},_getTreeState:function(){if(!this.$el.is(":visible"))return this.emptyValue;var t=n.getState();return{value:{treeId:t.selectedTree,categoryId:t.selectedNode},type:+t.includeSub}},getValue:function(){return this.$el.is(":visible")?i.prototype.getValue.apply(this,arguments):this.emptyValue},_getInitialState:function(){return{selectedNode:+this.value.value.categoryId,selectedTree:+this.value.value.treeId,includeSub:!!this.value.type}},_updateState:function(){this.value=this._getTreeState()},_onTreeUpdated:function(){e.isEqual(this.value,this._getTreeState())||(this._updateState(),this._triggerUpdate()),this.trigger("update_label",this.value)},_triggerUpdate:function(){this.trigger("update",this.value)},isEmpty:function(){return e.isEqual(this.emptyValue,this._getTreeState())},reset:function(){n.reset(),i.prototype.reset.apply(this,arguments)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";(function(t){var e,i;i="tree_select",(e=t).jstree.plugin("tree_selector",{__init:function(){this.get_container().bind("init.jstree",e.proxy(function(){var t=this,n=this._get_settings().tree_selector;this.data.tree_selector.ajax=n.ajax,this.data.tree_selector.data=n.data,this.data.tree_selector.auto_open_root=n.auto_open_root,this.data.tree_selector.node_label_field=n.node_label_field,this.data.tree_selector.no_tree_message=n.no_tree_message,this.data.tree_selector.preselect_node_id=n.preselect_node_id;var r=e("<div>",{id:"tree_toolbar",class:"jstree-tree-toolbar"}),o=e("<select>",{id:i,class:"input-large"});o.addClass("jstree-tree-select"),o.bind("change",function(){t.switch_tree()}),r.html(o),this.get_container_ul().before(r),this.load_trees()},this)).bind("loaded.jstree",e.proxy(function(t){"jstree"===t.namespace&&this.switch_tree()},this)).bind("clean_node.jstree",e.proxy(function(t,i){var n=this;i.rslt.obj&&e.each(i.rslt.obj,function(t,i){e(i).hasClass("toselect")&&(n.select_node(e(i)),e(i).removeClass("toselect"))})},this))},defaults:{ajax:!1,data:!1,tree_selector_buttons:!1,no_tree_message:!1,node_label_field:"code",preselect_node_id:!1},_fn:{refresh:function(){return this.refresh_trees(),this.__call_old()},switch_tree:function(){var t=this.get_tree_select().find(":selected"),i=e(t).attr("value"),n=e(t).attr("data-code");if(!i||-1===i)return null;var r=this._prepare_node("node_"+i,t.text(),n);this.get_container_ul().empty(),this.get_container_ul().append(r),this.close_node(r),this.clean_node(),this.data.tree_selector.auto_open_root&&this.open_node(r),this.data.tree_selector.preselect_node_id===i&&this.select_node(r),this.get_container().trigger("after_tree_loaded.jstree",i)},get_tree_select:function(){return e("#"+i)},load_trees:function(){var t,n=this;if(this.data.tree_selector.data)t=this._load_data_trees();else{if(!this.data.tree_selector.ajax)throw"jquery.jstree.tree_selector : Neither data nor ajax settings supplied for trees.";t=this._load_ajax_trees()}if(this.get_tree_select().empty(),0===t.length&&this.data.tree_selector.no_tree_message){var r=e("<option>",{text:this.data.tree_selector.no_tree_message,value:-1,disabled:!0,selected:!0});this.get_container_ul().empty(),this.get_tree_select().append(r)}e.each(t,function(t,i){var r=i[n.data.tree_selector.node_label_field],o=e("<option>",{value:i.id,text:r,"data-code":i.code});"true"===i.selected&&(o.prop("defaultSelected",!0),n._get_settings().json_data.data=[{data:r,state:"closed",attr:{id:"node_"+i.id}}]),n.get_tree_select().append(o)}),this.get_container().trigger("trees_loaded.jstree",i)},_load_data_trees:function(){var t=this.data.tree_selector.data;return e.parseJSON(t)},_load_ajax_trees:function(){var t=this.data.tree_selector.ajax.url,i=this.data.tree_selector.ajax.parameters,n=[];return e.ajax({url:t,async:!1,dataType:"json",data:i}).done(function(t){n=t}),n},_prepare_node:function(t,i,n){var r=e("<li>",{id:t,rel:"folder","data-code":n});r.prepend('<ins class="jstree-icon">&#160;</ins>'),r.removeClass("jstree-leaf"),r.addClass("jstree-close"),r.addClass("jstree-closed");var o=e("<a>",{href:"#",text:i});return o.prepend('<ins class="jstree-icon">&#160;</ins>'),r.append(o),r},refresh_trees:function(){this.get_tree_select().empty(),this.load_trees(),this.switch_tree()},get_tree_id:function(){var t=this.get_container_ul().find("li")[0];return e(t).attr("id")}}}),e.jstree.defaults.plugins.push("tree_selector")}).call(e,i(1))},function(t,e,i){"use strict";var n,r;n=[i(0),i(319)],void 0===(r=function(t,e){return e.extend({initialize:function(t){this.collection=t.collection,this.collection.on("beforeFetch",this._beforeCollectionFetch,this),this.collection.on("updateState",this._onUpdateCollectionState,this),this.collection.on("reset",this._onCollectionReset,this),e.prototype.initialize.apply(this,arguments)},_onFilterUpdated:function(){this.ignoreFiltersUpdateEvents||(this.collection.state.currentPage=1,this.collection.fetch(),e.prototype._onFilterUpdated.apply(this,arguments))},_beforeCollectionFetch:function(t){t.state.filters=this._createState()},_onUpdateCollectionState:function(t){this.ignoreFiltersUpdateEvents=!0,this._applyState(t.state.filters||{}),this.ignoreFiltersUpdateEvents=!1},_onCollectionReset:function(t){0<t.state.totalRecords&&0<this.$el.children().length&&this.$el.show()},_createState:function(){var e={};return t.each(this.filters,function(t,i){var n="__"+i;t.enabled?t.isEmpty()?!t.defaultEnabled&&(e[n]=1):e[i]=t.getValue():t.defaultEnabled&&(e[n]=0)},this),this.trigger("collection-filters:createState.post",e),e},_applyState:function(e){var i=[],n=[];return t.each(this.filters,function(r,o){var a,s="__"+o;t.has(e,o)&&0!==t.size(e)?(a=e[o],!t.isObject(a)&&(a={value:a}),r.setValue(a),i.push(r)):t.has(e,s)?(r.reset(),+e[s]?i.push(r):n.push(r)):(r.reset(),r.defaultEnabled?i.push(r):n.push(r))},this),this.enableFilters(i),this.disableFilters(n),this}})}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r,o="pim_datagrid_view_rest_save";n=[i(1),i(7)],void 0===(r=function(t,e){return{save:function(i,n){var r=e.generate(o,{alias:n});return t.post(r,{view:i})}}}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=i(1),s=i(2),l=i(65),c=i(5),u=function(t){function e(e){var i=t.call(this,e)||this;return i.config=o({},i.config,e.config),i}return r(e,t),e.prototype.configure=function(){var t=this;return a.when(l.prototype.configure.apply(this,arguments),c.getFetcher("datagrid-view").fetchAll({alias:this.config.datagridAlias}).then(function(e){t.config.choices=e}))},e.prototype.formatChoices=function(t){return t.reduce(function(t,e){return t[e.id]=e.label,t},{})},e.prototype.getModelValue=function(){var t=l.prototype.getModelValue.apply(this,arguments);return void 0!==t?t+"":t},e.prototype.getDefaultLabel=function(){return s("pim_datagrid.view_selector.default_view")},e}(l);t.exports=u},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(8),i(7),i(20),i(9),i(11)],void 0===(r=function(t,e,i,n,r,o,a){return n.View.extend({defaults:{delayedLoadTimeout:1e3,minRefreshInterval:2e4,alias:null},options:{},data:{},loadingMask:null,loadTimeout:null,needsData:!0,initialize:function(t){this.options=e.extend({},this.defaults,this.options,t),a.on("route_complete",function(t){"pim_dashboard_index"===t&&(this.needsData=!0,this.delayedLoad())},this)},render:function(){return this.$el.html(this.template({data:this.data,options:this.options,__:i})),this},setElement:function(){return n.View.prototype.setElement.apply(this,arguments),this._createLoadingMask(),this},loadData:function(){return this.needsData?(this.needsData=!1,this._beforeLoad(),void t.get(r.generate("pim_dashboard_widget_data",{alias:this.options.alias})).then(e.bind(function(t){this.data=this._processResponse(t),this.render(),this._afterLoad()},this))):void(this.loadTimeout=null)},reload:function(){this.needsData=!0,this.loadData()},delayedLoad:function(){this.loadTimeout||(this.loadTimeout=setTimeout(e.bind(function(){this.loadData()},this),this.options.delayedLoadTimeout))},_beforeLoad:function(){this.$el.parent().addClass("loading"),this.loadingMask.show()},_afterLoad:function(){this.$el.parent().removeClass("loading"),this.loadingMask.hide(),this.loadTimeout=null,setTimeout(e.bind(function(){this.needsData=!0},this),this.options.minRefreshInterval)},_createLoadingMask:function(){this.loadingMask&&this.loadingMask.remove(),this.loadingMask=new o,this.loadingMask.render().$el.insertAfter(this.$el)},_processResponse:function(t){return t}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(8),i(7),i(14),i(12),i(347)],void 0===(r=function(t,e,i,n,r,o,a){var s=i.View.extend({errorTemplate:e.template(a),attribute:null,initialize:function(t){this.attribute=t.attribute},createOption:function(){var a=t.Deferred();return r.build("pim-attribute-option-form").done(r=>{var s=new i.BootstrapModal({title:e.__("pim_enrich.entity.product.module.attribute.add_attribute_option"),content:r,cancelText:e.__("pim_common.cancel"),okText:e.__("pim_common.add"),picture:"illustrations/Attribute.svg",okCloses:!1});s.open(),s.on("cancel",a.reject),s.on("ok",()=>{t.ajax({method:"POST",url:n.generate("pim_enrich_attributeoption_create",{attributeId:this.attribute.meta.id}),data:JSON.stringify(r.getFormData())}).success(t=>{s.close(),o.notify("success",e.__("pim_enrich.entity.attribute_option.flash.create.success")),a.resolve(t)}).fail(t=>{var i=t.responseJSON;i.code?r.$('input[name="code"]').after(this.errorTemplate({errors:[i.code]})):o.notify("error",e.__("pim_enrich.entity.attribute_option.flash.create.fail"))})})}),a.promise()}});return function(t){if(!t)throw new Error("Attribute must be provided to create a new option");var e=new s({attribute:t});return e.createOption().always(function(){e.remove()})}}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(7)],void 0===(r=function(t,e,i){return{collect:function(e){return t.getJSON(i.generate(e))}}}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1)],void 0===(r=function(t){return t.ajaxSetup({headers:{"X-CSRF-Header":1}}),t.expr[":"].parents=function(e,i,n){return 1>t(e).parents(n[3]).length},t.isActive=t.proxy(function(e){return"undefined"!==t.type(e)&&(this.active=e),t.active||this.active},{active:!1}),t}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(8),i(197)],void 0===(r=function(t,e,i){var n={disableResizeEditor:!0,height:200,iconPrefix:"icon-",toolbar:[["font",["bold","italic","underline","clear"]],["para",["ul","ol"]],["insert",["link"]],["view",["codeview"]]]};return i.Router.prototype.on("route",function(){t("textarea.wysiwyg").each(function(){t(this).destroy()})}),{settings:[],init:function(t,i){return this.settings=e.extend(e.clone(n),i),t.summernote(this.settings),this},readonly:function(t){return t.parent().find(".note-editable").attr("contenteditable",!1),this}}}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r,o,a,s;(a=(a=function(){})||{}).specified=function(){},s=function(t){Array.prototype.reduce||(Array.prototype.reduce=function(t){var e,i=Object(this),n=i.length>>>0,r=0;if(2===arguments.length)e=arguments[1];else{for(;r<n&&!(r in i);)r++;if(r>=n)throw new TypeError("Reduce of empty array with no initial value");e=i[r++]}for(;r<n;r++)r in i&&(e=t(e,i[r],r,i));return e}),"function"!=typeof Array.prototype.filter&&(Array.prototype.filter=function(t){for(var e=Object(this),i=e.length>>>0,n=[],r=arguments.length>=2?arguments[1]:void 0,o=0;o<i;o++)if(o in e){var a=e[o];t.call(r,a,o,e)&&n.push(a)}return n}),Array.prototype.map||(Array.prototype.map=function(t,e){var i,n,r;if(null===this)throw new TypeError(" this is null or not defined");var o=Object(this),a=o.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(i=e),n=new Array(a),r=0;r<a;){var s,l;r in o&&(s=o[r],l=t.call(i,s,r,o),n[r]=l),r++}return n});var e,n=i(899),r=navigator.userAgent,o=/MSIE|Trident/i.test(r);if(o){var s=/MSIE (\d+[.]\d+)/.exec(r);s&&(e=parseFloat(s[1])),(s=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(r))&&(e=parseFloat(s[1]))}var l,c,u,d,p,h,f,m,g,v,b,y,_,k,x,A,C,w,T,S,F,E,L,D,P,N,M,I,R,O,V,B,j,$,U,z,q,G,H,W,J,K,Z,Y,X,Q,tt,et,it,nt,rt,ot,at={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:o,isFF:/firefox/i.test(r),isWebkit:/webkit/i.test(r),isSafari:/safari/i.test(r),browserVersion:e,jqueryVersion:parseFloat(t.fn.jquery),isSupportAmd:n,hasCodeMirror:n?a.specified("CodeMirror"):!!window.CodeMirror,isFontInstalled:function(e){var i="Comic Sans MS"===e?"Courier New":"Comic Sans MS",n=t("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),r=n.css("fontFamily",i).width(),o=n.css("fontFamily",e+","+i).width();return n.remove(),r!==o},isW3CRangeSupport:!!document.createRange},st=(l=0,{eq:function(t){return function(e){return t===e}},eq2:function(t,e){return t===e},peq2:function(t){return function(e,i){return e[t]===i[t]}},ok:function(){return!0},fail:function(){return!1},self:function(t){return t},not:function(t){return function(){return!t.apply(t,arguments)}},and:function(t,e){return function(i){return t(i)&&e(i)}},uniqueId:function(t){var e=++l+"";return t?t+e:e},rect2bnd:function(e){var i=t(document);return{top:e.top+i.scrollTop(),left:e.left+i.scrollLeft(),width:e.right-e.left,height:e.bottom-e.top}},invertObject:function(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[t[i]]=i);return e},namespaceToCamel:function(t,e){return(e=e||"")+t.split(".").map(function(t){return t.substring(0,1).toUpperCase()+t.substring(1)}).join("")}}),lt=(p=function(e,i){return t.inArray(i,e)},{head:c=function(t){return t[0]},last:u=function(t){return t[t.length-1]},initial:function(t){return t.slice(0,t.length-1)},tail:d=function(t){return t.slice(1)},prev:function(t,e){var i=p(t,e);return-1===i?null:t[i-1]},next:function(t,e){var i=p(t,e);return-1===i?null:t[i+1]},find:function(t,e){for(var i=0,n=t.length;i<n;i++){var r=t[i];if(e(r))return r}},contains:h=function(t,e){return-1!==p(t,e)},all:function(t,e){for(var i=0,n=t.length;i<n;i++)if(!e(t[i]))return!1;return!0},sum:function(t,e){return e=e||st.self,t.reduce(function(t,i){return t+e(i)},0)},from:function(t){for(var e=[],i=-1,n=t.length;++i<n;)e[i]=t[i];return e},clusterBy:function(t,e){return t.length?d(t).reduce(function(t,i){var n=u(t);return e(u(n),i)?n[n.length]=i:t[t.length]=[i],t},[[c(t)]]):[]},compact:function(t){for(var e=[],i=0,n=t.length;i<n;i++)t[i]&&e.push(t[i]);return e},unique:function(t){for(var e=[],i=0,n=t.length;i<n;i++)h(e,t[i])||e.push(t[i]);return e}}),ct=String.fromCharCode(160),ut=(f=function(e){return e&&t(e).hasClass("note-editable")},m=function(e){var i;if(e.hasClass("note-air-editor")){var n=lt.last(e.attr("id").split("-"));return{editor:function(){return e},holder:function(){return e.data("holder")},editable:function(){return e},popover:(i=function(e){return function(){return t(e+n)}})("#note-popover-"),handle:i("#note-handle-"),dialog:i("#note-dialog-")}}i=function(t,i){return i=i||e,function(){return i.find(t)}};var r=e.data("options"),o=r&&r.dialogsInBody?t(document.body):null;return{editor:function(){return e},holder:function(){return e.data("holder")},dropzone:i(".note-dropzone"),toolbar:i(".note-toolbar"),editable:i(".note-editable"),codable:i(".note-codable"),statusbar:i(".note-statusbar"),popover:i(".note-popover"),handle:i(".note-handle"),dialog:i(".note-dialog",o)}},v=function(t){return t&&3===t.nodeType},b=function(t){return t&&/^BR|^IMG|^HR|^IFRAME|^BUTTON/.test(t.nodeName.toUpperCase())},y=function(t){return!f(t)&&(t&&/^DIV|^P|^LI|^H[1-7]/.test(t.nodeName.toUpperCase()))},_=(g=function(t){return t=t.toUpperCase(),function(e){return e&&e.nodeName.toUpperCase()===t}})("LI"),k=g("TABLE"),x=function(t){return!(S(t)||A(t)||C(t)||y(t)||k(t)||T(t))},A=function(t){return t&&/^UL|^OL/.test(t.nodeName.toUpperCase())},C=g("HR"),w=function(t){return t&&/^TD|^TH/.test(t.nodeName.toUpperCase())},T=g("BLOCKQUOTE"),S=function(t){return w(t)||T(t)||f(t)},F=g("A"),E=g("BODY"),L=at.isMSIE&&at.browserVersion<11?"&nbsp;":"<br>",D=function(t){return v(t)?t.nodeValue.length:t.childNodes.length},P=function(t){var e=D(t);return 0===e||(!v(t)&&1===e&&t.innerHTML===L||!(!lt.all(t.childNodes,v)||""!==t.innerHTML))},N=function(t){b(t)||D(t)||(t.innerHTML=L)},M=function(t,e){for(;t;){if(e(t))return t;if(f(t))break;t=t.parentNode}return null},I=function(t,e){e=e||st.fail;var i=[];return M(t,function(t){return f(t)||i.push(t),e(t)}),i},R=function(t,e){e=e||st.fail;for(var i=[];t&&!e(t);)i.push(t),t=t.nextSibling;return i},O=function(t,e){var i=e.nextSibling,n=e.parentNode;return i?n.insertBefore(t,i):n.appendChild(t),t},V=function(e,i){return t.each(i,function(t,i){e.appendChild(i)}),e},B=function(t){return 0===t.offset},j=function(t){return t.offset===D(t.node)},$=function(t){return B(t)||j(t)},U=function(t,e){for(;t&&t!==e;){if(0!==q(t))return!1;t=t.parentNode}return!0},z=function(t,e){for(;t&&t!==e;){if(q(t)!==D(t.parentNode)-1)return!1;t=t.parentNode}return!0},q=function(t){for(var e=0;t=t.previousSibling;)e+=1;return e},G=function(t){return!!(t&&t.childNodes&&t.childNodes.length)},H=function(t,e){var i,n;if(0===t.offset){if(f(t.node))return null;i=t.node.parentNode,n=q(t.node)}else G(t.node)?(i=t.node.childNodes[t.offset-1],n=D(i)):(i=t.node,n=e?0:t.offset-1);return{node:i,offset:n}},W=function(t,e){var i,n;if(D(t.node)===t.offset){if(f(t.node))return null;i=t.node.parentNode,n=q(t.node)+1}else G(t.node)?(i=t.node.childNodes[t.offset],n=0):(i=t.node,n=e?D(t.node):t.offset+1);return{node:i,offset:n}},J=function(t,e){return t.node===e.node&&t.offset===e.offset},K=function(t,e){var i=e&&e.isSkipPaddingBlankHTML,n=e&&e.isNotSplitEdgePoint;if($(t)&&(v(t.node)||n)){if(B(t))return t.node;if(j(t))return t.node.nextSibling}if(v(t.node))return t.node.splitText(t.offset);var r=t.node.childNodes[t.offset],o=O(t.node.cloneNode(!1),t.node);return V(o,R(r)),i||(N(t.node),N(o)),o},Z=function(t,e,i){var n=I(e.node,st.eq(t));return n.length?1===n.length?K(e,i):n.reduce(function(t,n){return t===e.node&&(t=K(e,i)),K({node:n,offset:t?ut.position(t):D(n)},i)}):null},Y=function(t){return document.createElement(t)},X=function(t,e){if(t&&t.parentNode){if(t.removeNode)return t.removeNode(e);var i=t.parentNode;if(!e){var n,r,o=[];for(n=0,r=t.childNodes.length;n<r;n++)o.push(t.childNodes[n]);for(n=0,r=o.length;n<r;n++)i.insertBefore(o[n],t)}i.removeChild(t)}},Q=g("TEXTAREA"),tt=function(t,e){var i=Q(t[0])?t.val():t.html();return e?i.replace(/[\n\r]/g,""):i},{NBSP_CHAR:ct,ZERO_WIDTH_NBSP_CHAR:"\ufeff",blank:L,emptyPara:"<p>"+L+"</p>",makePredByNodeName:g,isEditable:f,isControlSizing:function(e){return e&&t(e).hasClass("note-control-sizing")},buildLayoutInfo:m,makeLayoutInfo:function(e){var i,n=t(e).closest(".note-editor, .note-air-editor, .note-air-layout");return n.length?(i=n.is(".note-editor, .note-air-editor")?n:t("#note-editor-"+lt.last(n.attr("id").split("-"))),m(i)):null},isText:v,isVoid:b,isPara:y,isPurePara:function(t){return y(t)&&!_(t)},isInline:x,isBlock:st.not(x),isBodyInline:function(t){return x(t)&&!M(t,y)},isBody:E,isParaInline:function(t){return x(t)&&!!M(t,y)},isList:A,isTable:k,isCell:w,isBlockquote:T,isBodyContainer:S,isAnchor:F,isDiv:g("DIV"),isLi:_,isBR:g("BR"),isSpan:g("SPAN"),isB:g("B"),isU:g("U"),isS:g("S"),isI:g("I"),isImg:g("IMG"),isTextarea:Q,isEmpty:P,isEmptyAnchor:st.and(F,P),isClosestSibling:function(t,e){return t.nextSibling===e||t.previousSibling===e},withClosestSiblings:function(t,e){e=e||st.ok;var i=[];return t.previousSibling&&e(t.previousSibling)&&i.push(t.previousSibling),i.push(t),t.nextSibling&&e(t.nextSibling)&&i.push(t.nextSibling),i},nodeLength:D,isLeftEdgePoint:B,isRightEdgePoint:j,isEdgePoint:$,isLeftEdgeOf:U,isRightEdgeOf:z,isLeftEdgePointOf:function(t,e){return B(t)&&U(t.node,e)},isRightEdgePointOf:function(t,e){return j(t)&&z(t.node,e)},prevPoint:H,nextPoint:W,isSamePoint:J,isVisiblePoint:function(t){if(v(t.node)||!G(t.node)||P(t.node))return!0;var e=t.node.childNodes[t.offset-1],i=t.node.childNodes[t.offset];return!(e&&!b(e)||i&&!b(i))},prevPointUntil:function(t,e){for(;t;){if(e(t))return t;t=H(t)}return null},nextPointUntil:function(t,e){for(;t;){if(e(t))return t;t=W(t)}return null},isCharPoint:function(t){if(!v(t.node))return!1;var e=t.node.nodeValue.charAt(t.offset-1);return e&&" "!==e&&e!==ct},walkPoint:function(t,e,i,n){for(var r=t;r&&(i(r),!J(r,e));){var o=n&&t.node!==r.node&&e.node!==r.node;r=W(r,o)}},ancestor:M,singleChildAncestor:function(t,e){for(t=t.parentNode;t&&1===D(t);){if(e(t))return t;if(f(t))break;t=t.parentNode}return null},listAncestor:I,lastAncestor:function(t,e){var i=I(t);return lt.last(i.filter(e))},listNext:R,listPrev:function(t,e){e=e||st.fail;for(var i=[];t&&!e(t);)i.push(t),t=t.previousSibling;return i},listDescendant:function(t,e){var i=[];return e=e||st.ok,function n(r){t!==r&&e(r)&&i.push(r);for(var o=0,a=r.childNodes.length;o<a;o++)n(r.childNodes[o])}(t),i},commonAncestor:function(e,i){for(var n=I(e),r=i;r;r=r.parentNode)if(t.inArray(r,n)>-1)return r;return null},wrap:function(e,i){var n=e.parentNode,r=t("<"+i+">")[0];return n.insertBefore(r,e),r.appendChild(e),r},insertAfter:O,appendChildNodes:V,position:q,hasChildren:G,makeOffsetPath:function(t,e){return I(e,st.eq(t)).map(q).reverse()},fromOffsetPath:function(t,e){for(var i=t,n=0,r=e.length;n<r;n++)i=i.childNodes.length<=e[n]?i.childNodes[i.childNodes.length-1]:i.childNodes[e[n]];return i},splitTree:Z,splitPoint:function(t,e){var i,n,r=e?y:S,o=I(t.node,r),a=lt.last(o)||t.node;r(a)?(i=o[o.length-2],n=a):n=(i=a).parentNode;var s=i&&Z(i,t,{isSkipPaddingBlankHTML:e,isNotSplitEdgePoint:e});return s||n!==t.node||(s=t.node.childNodes[t.offset]),{rightNode:s,container:n}},create:Y,createText:function(t){return document.createTextNode(t)},remove:X,removeWhile:function(t,e){for(;t&&!f(t)&&e(t);){var i=t.parentNode;X(t),t=i}},replace:function(t,e){if(t.nodeName.toUpperCase()===e.toUpperCase())return t;var i=Y(e);return t.style.cssText&&(i.style.cssText=t.style.cssText),V(i,lt.from(t.childNodes)),O(i,t),X(t),i},html:function(e,i){var n=tt(e);return i&&(n=n.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,function(t,e,i){i=i.toUpperCase();var n=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(i)&&!!e,r=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(i);return t+(n||r?"\n":"")}),n=t.trim(n)),n},value:tt}),dt=(et=function(t,e){var i,n,r=t.parentElement(),o=document.body.createTextRange(),a=lt.from(r.childNodes);for(i=0;i<a.length;i++)if(!ut.isText(a[i])){if(o.moveToElementText(a[i]),o.compareEndPoints("StartToStart",t)>=0)break;n=a[i]}if(0!==i&&ut.isText(a[i-1])){var s=document.body.createTextRange(),l=null;s.moveToElementText(n||r),s.collapse(!n),l=n?n.nextSibling:r.firstChild;var c=t.duplicate();c.setEndPoint("StartToStart",s);for(var u=c.text.replace(/[\r\n]/g,"").length;u>l.nodeValue.length&&l.nextSibling;)u-=l.nodeValue.length,l=l.nextSibling;l.nodeValue;e&&l.nextSibling&&ut.isText(l.nextSibling)&&u===l.nodeValue.length&&(u-=l.nodeValue.length,l=l.nextSibling),r=l,i=u}return{cont:r,offset:i}},it=function(t){var e=function(t,i){var n,r;if(ut.isText(t)){var o=ut.listPrev(t,st.not(ut.isText)),a=lt.last(o).previousSibling;n=a||t.parentNode,i+=lt.sum(lt.tail(o),ut.nodeLength),r=!a}else{if(n=t.childNodes[i]||t,ut.isText(n))return e(n,0);i=0,r=!1}return{node:n,collapseToStart:r,offset:i}},i=document.body.createTextRange(),n=e(t.node,t.offset);return i.moveToElementText(n.node),i.collapse(n.collapseToStart),i.moveStart("character",n.offset),i},nt=function(e,i,n,r){this.sc=e,this.so=i,this.ec=n,this.eo=r;var o=function(){if(at.isW3CRangeSupport){var t=document.createRange();return t.setStart(e,i),t.setEnd(n,r),t}var o=it({node:e,offset:i});return o.setEndPoint("EndToEnd",it({node:n,offset:r})),o};this.getPoints=function(){return{sc:e,so:i,ec:n,eo:r}},this.getStartPoint=function(){return{node:e,offset:i}},this.getEndPoint=function(){return{node:n,offset:r}},this.select=function(){var t=o();if(at.isW3CRangeSupport){var e=document.getSelection();e.rangeCount>0&&e.removeAllRanges(),e.addRange(t)}else t.select();return this},this.normalize=function(){var t=function(t,e){if(ut.isVisiblePoint(t)&&!ut.isEdgePoint(t)||ut.isVisiblePoint(t)&&ut.isRightEdgePoint(t)&&!e||ut.isVisiblePoint(t)&&ut.isLeftEdgePoint(t)&&e||ut.isVisiblePoint(t)&&ut.isBlock(t.node)&&ut.isEmpty(t.node))return t;var i=ut.ancestor(t.node,ut.isBlock);if((ut.isLeftEdgePointOf(t,i)||ut.isVoid(ut.prevPoint(t).node))&&!e||(ut.isRightEdgePointOf(t,i)||ut.isVoid(ut.nextPoint(t).node))&&e){if(ut.isVisiblePoint(t))return t;e=!e}return(e?ut.nextPointUntil(ut.nextPoint(t),ut.isVisiblePoint):ut.prevPointUntil(ut.prevPoint(t),ut.isVisiblePoint))||t},e=t(this.getEndPoint(),!1),i=this.isCollapsed()?e:t(this.getStartPoint(),!0);return new nt(i.node,i.offset,e.node,e.offset)},this.nodes=function(t,e){t=t||st.ok;var i=e&&e.includeAncestor,n=e&&e.fullyContains,r=this.getStartPoint(),o=this.getEndPoint(),a=[],s=[];return ut.walkPoint(r,o,function(e){var r;ut.isEditable(e.node)||(n?(ut.isLeftEdgePoint(e)&&s.push(e.node),ut.isRightEdgePoint(e)&&lt.contains(s,e.node)&&(r=e.node)):r=i?ut.ancestor(e.node,t):e.node,r&&t(r)&&a.push(r))},!0),lt.unique(a)},this.commonAncestor=function(){return ut.commonAncestor(e,n)},this.expand=function(t){var o=ut.ancestor(e,t),a=ut.ancestor(n,t);if(!o&&!a)return new nt(e,i,n,r);var s=this.getPoints();return o&&(s.sc=o,s.so=0),a&&(s.ec=a,s.eo=ut.nodeLength(a)),new nt(s.sc,s.so,s.ec,s.eo)},this.collapse=function(t){return t?new nt(e,i,e,i):new nt(n,r,n,r)},this.splitText=function(){var t=e===n,o=this.getPoints();return ut.isText(n)&&!ut.isEdgePoint(this.getEndPoint())&&n.splitText(r),ut.isText(e)&&!ut.isEdgePoint(this.getStartPoint())&&(o.sc=e.splitText(i),o.so=0,t&&(o.ec=o.sc,o.eo=r-i)),new nt(o.sc,o.so,o.ec,o.eo)},this.deleteContents=function(){if(this.isCollapsed())return this;var e=this.splitText(),i=e.nodes(null,{fullyContains:!0}),n=ut.prevPointUntil(e.getStartPoint(),function(t){return!lt.contains(i,t.node)}),r=[];return t.each(i,function(t,e){var i=e.parentNode;n.node!==i&&1===ut.nodeLength(i)&&r.push(i),ut.remove(e,!1)}),t.each(r,function(t,e){ut.remove(e,!1)}),new nt(n.node,n.offset,n.node,n.offset).normalize()};var a=function(t){return function(){var i=ut.ancestor(e,t);return!!i&&i===ut.ancestor(n,t)}};this.isOnEditable=a(ut.isEditable),this.isOnList=a(ut.isList),this.isOnAnchor=a(ut.isAnchor),this.isOnCell=a(ut.isCell),this.isLeftEdgeOf=function(t){if(!ut.isLeftEdgePoint(this.getStartPoint()))return!1;var e=ut.ancestor(this.sc,t);return e&&ut.isLeftEdgeOf(this.sc,e)},this.isCollapsed=function(){return e===n&&i===r},this.wrapBodyInlineWithPara=function(){if(ut.isBodyContainer(e)&&ut.isEmpty(e))return e.innerHTML=ut.emptyPara,new nt(e.firstChild,0,e.firstChild,0);var t,i=this.normalize();if(ut.isParaInline(e)||ut.isPara(e))return i;if(ut.isInline(i.sc)){var n=ut.listAncestor(i.sc,st.not(ut.isInline));t=lt.last(n),ut.isInline(t)||(t=n[n.length-2]||i.sc.childNodes[i.so])}else t=i.sc.childNodes[i.so>0?i.so-1:0];var r=ut.listPrev(t,ut.isParaInline).reverse();if((r=r.concat(ut.listNext(t.nextSibling,ut.isParaInline))).length){var o=ut.wrap(lt.head(r),"p");ut.appendChildNodes(o,lt.tail(r))}return this.normalize()},this.insertNode=function(t){var e=this.wrapBodyInlineWithPara().deleteContents(),i=ut.splitPoint(e.getStartPoint(),ut.isInline(t));return i.rightNode?i.rightNode.parentNode.insertBefore(t,i.rightNode):i.container.appendChild(t),t},this.pasteHTML=function(e){var i=t("<div></div>").html(e)[0],n=lt.from(i.childNodes),r=this.wrapBodyInlineWithPara().deleteContents();return n.reverse().map(function(t){return r.insertNode(t)}).reverse()},this.toString=function(){var t=o();return at.isW3CRangeSupport?t.toString():t.text},this.getWordRange=function(t){var e=this.getEndPoint();if(!ut.isCharPoint(e))return this;var i=ut.prevPointUntil(e,function(t){return!ut.isCharPoint(t)});return t&&(e=ut.nextPointUntil(e,function(t){return!ut.isCharPoint(t)})),new nt(i.node,i.offset,e.node,e.offset)},this.bookmark=function(t){return{s:{path:ut.makeOffsetPath(t,e),offset:i},e:{path:ut.makeOffsetPath(t,n),offset:r}}},this.paraBookmark=function(t){return{s:{path:lt.tail(ut.makeOffsetPath(lt.head(t),e)),offset:i},e:{path:lt.tail(ut.makeOffsetPath(lt.last(t),n)),offset:r}}},this.getClientRects=function(){return o().getClientRects()}},{create:function(t,e,i,n){if(arguments.length)2===arguments.length&&(i=t,n=e);else if(at.isW3CRangeSupport){var r=document.getSelection();if(!r||0===r.rangeCount)return null;if(ut.isBody(r.anchorNode))return null;var o=r.getRangeAt(0);t=o.startContainer,e=o.startOffset,i=o.endContainer,n=o.endOffset}else{var a=document.selection.createRange(),s=a.duplicate();s.collapse(!1);var l=a;l.collapse(!0);var c=et(l,!0),u=et(s,!1);ut.isText(c.node)&&ut.isLeftEdgePoint(c)&&ut.isTextNode(u.node)&&ut.isRightEdgePoint(u)&&u.node.nextSibling===c.node&&(c=u),t=c.cont,e=c.offset,i=u.cont,n=u.offset}return new nt(t,e,i,n)},createFromNode:function(t){var e=t,i=0,n=t,r=ut.nodeLength(n);return ut.isVoid(e)&&(i=ut.listPrev(e).length-1,e=e.parentNode),ut.isBR(n)?(r=ut.listPrev(n).length-1,n=n.parentNode):ut.isVoid(n)&&(r=ut.listPrev(n).length,n=n.parentNode),this.create(e,i,n,r)},createFromNodeBefore:function(t){return this.createFromNode(t).collapse(!0)},createFromNodeAfter:function(t){return this.createFromNode(t).collapse()},createFromBookmark:function(t,e){var i=ut.fromOffsetPath(t,e.s.path),n=e.s.offset,r=ut.fromOffsetPath(t,e.e.path),o=e.e.offset;return new nt(i,n,r,o)},createFromParaBookmark:function(t,e){var i=t.s.offset,n=t.e.offset,r=ut.fromOffsetPath(lt.head(e),t.s.path),o=ut.fromOffsetPath(lt.last(e),t.e.path);return new nt(r,i,o,n)}}),pt={readFileAsDataURL:function(e){return t.Deferred(function(i){t.extend(new FileReader,{onload:function(t){var e=t.target.result;i.resolve(e)},onerror:function(){i.reject(this)}}).readAsDataURL(e)}).promise()},createImage:function(e,i){return t.Deferred(function(n){var r=t("<img>");r.one("load",function(){r.off("error abort"),n.resolve(r)}).one("error abort",function(){r.off("load").detach(),n.reject(r)}).css({display:"none"}).appendTo(document.body).attr({src:e,"data-filename":i})}).promise()}},ht=(rt={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221},{isEdit:function(t){return lt.contains([8,9,13,32],t)},isMove:function(t){return lt.contains([37,38,39,40],t)},nameFromCode:st.invertObject(rt),code:rt}),ft=function(t){var e=[],i=-1,n=t[0],r=function(e){null!==e.contents&&t.html(e.contents),null!==e.bookmark&&dt.createFromBookmark(n,e.bookmark).select()};this.undo=function(){t.html()!==e[i].contents&&this.recordUndo(),0<i&&r(e[--i])},this.redo=function(){e.length-1>i&&r(e[++i])},this.recordUndo=function(){var r;i++,e.length>i&&(e=e.slice(0,i)),e.push((r=dt.create(),{contents:t.html(),bookmark:r?r.bookmark(n):{s:{path:[],offset:0},e:{path:[],offset:0}}}))},this.recordUndo()},mt=function(){this.fromNode=function(e){var i=function(e,i){if(at.jqueryVersion<1.9){var n={};return t.each(i,function(t,i){n[i]=e.css(i)}),n}return e.css.call(e,i)}(e,["font-family","font-size","text-align","list-style-type","line-height"])||{};return i["font-size"]=parseInt(i["font-size"],10),i},this.stylePara=function(e,i){t.each(e.nodes(ut.isPara,{includeAncestor:!0}),function(e,n){t(n).css(i)})},this.styleNodes=function(e,i){e=e.splitText();var n=i&&i.nodeName||"SPAN",r=!(!i||!i.expandClosestSibling),o=!(!i||!i.onlyPartialContains);if(e.isCollapsed())return[e.insertNode(ut.create(n))];var a=ut.makePredByNodeName(n),s=e.nodes(ut.isText,{fullyContains:!0}).map(function(t){return ut.singleChildAncestor(t,a)||ut.wrap(t,n)});if(r){if(o){var l=e.nodes();a=st.and(a,function(t){return lt.contains(l,t)})}return s.map(function(e){var i=ut.withClosestSiblings(e,a),n=lt.head(i),r=lt.tail(i);return t.each(r,function(t,e){ut.appendChildNodes(n,e.childNodes),ut.remove(e)}),lt.head(i)})}return s},this.current=function(e){var i=t(ut.isText(e.sc)?e.sc.parentNode:e.sc),n=this.fromNode(i);if(n["font-bold"]=document.queryCommandState("bold")?"bold":"normal",n["font-italic"]=document.queryCommandState("italic")?"italic":"normal",n["font-underline"]=document.queryCommandState("underline")?"underline":"normal",n["font-strikethrough"]=document.queryCommandState("strikeThrough")?"strikethrough":"normal",n["font-superscript"]=document.queryCommandState("superscript")?"superscript":"normal",n["font-subscript"]=document.queryCommandState("subscript")?"subscript":"normal",e.isOnList()){var r=t.inArray(n["list-style-type"],["circle","disc","disc-leading-zero","square"])>-1;n["list-style"]=r?"unordered":"ordered"}else n["list-style"]="none";var o=ut.ancestor(e.sc,ut.isPara);if(o&&o.style["line-height"])n["line-height"]=o.style.lineHeight;else{var a=parseInt(n["line-height"],10)/parseInt(n["font-size"],10);n["line-height"]=a.toFixed(1)}return n.anchor=e.isOnAnchor()&&ut.ancestor(e.sc,ut.isAnchor),n.ancestors=ut.listAncestor(e.sc,ut.isEditable),n.range=e,n}},gt=function(){this.insertOrderedList=function(){this.toggleList("OL")},this.insertUnorderedList=function(){this.toggleList("UL")},this.indent=function(){var e=this,i=dt.create().wrapBodyInlineWithPara(),n=i.nodes(ut.isPara,{includeAncestor:!0}),r=lt.clusterBy(n,st.peq2("parentNode"));t.each(r,function(i,n){var r=lt.head(n);ut.isLi(r)?e.wrapList(n,r.parentNode.nodeName):t.each(n,function(e,i){t(i).css("marginLeft",function(t,e){return(parseInt(e,10)||0)+25})})}),i.select()},this.outdent=function(){var e=this,i=dt.create().wrapBodyInlineWithPara(),n=i.nodes(ut.isPara,{includeAncestor:!0}),r=lt.clusterBy(n,st.peq2("parentNode"));t.each(r,function(i,n){var r=lt.head(n);ut.isLi(r)?e.releaseList([n]):t.each(n,function(e,i){t(i).css("marginLeft",function(t,e){return(e=parseInt(e,10)||0)>25?e-25:""})})}),i.select()},this.toggleList=function(e){var i=this,n=dt.create().wrapBodyInlineWithPara(),r=n.nodes(ut.isPara,{includeAncestor:!0}),o=n.paraBookmark(r),a=lt.clusterBy(r,st.peq2("parentNode"));if(lt.find(r,ut.isPurePara)){var s=[];t.each(a,function(t,n){s=s.concat(i.wrapList(n,e))}),r=s}else{var l=n.nodes(ut.isList,{includeAncestor:!0}).filter(function(i){return!t.nodeName(i,e)});l.length?t.each(l,function(t,i){ut.replace(i,e)}):r=this.releaseList(a,!0)}dt.createFromParaBookmark(o,r).select()},this.wrapList=function(t,e){var i=lt.head(t),n=lt.last(t),r=ut.isList(i.previousSibling)&&i.previousSibling,o=ut.isList(n.nextSibling)&&n.nextSibling,a=r||ut.insertAfter(ut.create(e||"UL"),n);return t=t.map(function(t){return ut.isPurePara(t)?ut.replace(t,"LI"):t}),ut.appendChildNodes(a,t),o&&(ut.appendChildNodes(a,lt.from(o.childNodes)),ut.remove(o)),t},this.releaseList=function(e,i){var n=[];return t.each(e,function(e,r){var o=lt.head(r),a=lt.last(r),s=i?ut.lastAncestor(o,ut.isList):o.parentNode,l=s.childNodes.length>1?ut.splitTree(s,{node:a.parentNode,offset:ut.position(a)+1},{isSkipPaddingBlankHTML:!0}):null,c=ut.splitTree(s,{node:o.parentNode,offset:ut.position(o)},{isSkipPaddingBlankHTML:!0});r=i?ut.listDescendant(c,ut.isLi):lt.from(c.childNodes).filter(ut.isLi),!i&&ut.isList(s.parentNode)||(r=r.map(function(t){return ut.replace(t,"P")})),t.each(lt.from(r).reverse(),function(t,e){ut.insertAfter(e,s)});var u=lt.compact([s,c,l]);t.each(u,function(e,i){var n=[i].concat(ut.listDescendant(i,ut.isList));t.each(n.reverse(),function(t,e){ut.nodeLength(e)||ut.remove(e,!0)})}),n=n.concat(r)}),n}},vt=function(e){var i=this,n=new mt,r=new function(){this.tab=function(t,e){var i=ut.ancestor(t.commonAncestor(),ut.isCell),n=ut.ancestor(i,ut.isTable),r=ut.listDescendant(n,ut.isCell),o=lt[e?"prev":"next"](r,i);o&&dt.create(o,0).select()},this.createTable=function(e,i){for(var n,r=[],o=0;o<e;o++)r.push("<td>"+ut.blank+"</td>");n=r.join("");for(var a,s=[],l=0;l<i;l++)s.push("<tr>"+n+"</tr>");return a=s.join(""),t('<table class="table table-bordered">'+a+"</table>")[0]}},o=new function(){var e=new gt;this.insertTab=function(t,e,i){var n=ut.createText(new Array(i+1).join(ut.NBSP_CHAR));(e=e.deleteContents()).insertNode(n,!0),(e=dt.create(n,i)).select()},this.insertParagraph=function(){var i=dt.create();i=(i=i.deleteContents()).wrapBodyInlineWithPara();var n,r=ut.ancestor(i.sc,ut.isPara);if(r){if(ut.isEmpty(r)&&ut.isLi(r))return void e.toggleList(r.parentNode.nodeName);n=ut.splitTree(r,i.getStartPoint());var o=ut.listDescendant(r,ut.isEmptyAnchor);o=o.concat(ut.listDescendant(n,ut.isEmptyAnchor)),t.each(o,function(t,e){ut.remove(e)})}else{var a=i.sc.childNodes[i.so];n=t(ut.emptyPara)[0],a?i.sc.insertBefore(n,a):i.sc.appendChild(n)}dt.create(n,0).normalize().select()}},a=new gt;this.createRange=function(t){return this.focus(t),dt.create()},this.saveRange=function(t,e){this.focus(t),t.data("range",dt.create()),e&&dt.create().collapse().select()},this.saveNode=function(t){for(var e=[],i=0,n=t[0].childNodes.length;i<n;i++)e.push(t[0].childNodes[i]);t.data("childNodes",e)},this.restoreRange=function(t){var e=t.data("range");e&&(e.select(),this.focus(t))},this.restoreNode=function(t){t.html("");for(var e=t.data("childNodes"),i=0,n=e.length;i<n;i++)t[0].appendChild(e[i])},this.currentStyle=function(t){var e=dt.create(),i=e&&e.isOnEditable()?n.current(e.normalize()):{};return ut.isImg(t)&&(i.image=t),i},this.styleFromNode=function(t){return n.fromNode(t)};var s=function(t){var i=ut.makeLayoutInfo(t).holder();e.bindCustomEvent(i,t.data("callbacks"),"before.command")(t.html(),t)},l=function(t){var i=ut.makeLayoutInfo(t).holder();e.bindCustomEvent(i,t.data("callbacks"),"change")(t.html(),t)};this.undo=function(t){s(t),t.data("NoteHistory").undo(),l(t)},this.redo=function(t){s(t),t.data("NoteHistory").redo(),l(t)};for(var c=this.beforeCommand=function(t){s(t),i.focus(t)},u=this.afterCommand=function(t,e){t.data("NoteHistory").recordUndo(),e||l(t)},d=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor","foreColor","fontName"],p=0,h=d.length;p<h;p++)this[d[p]]=function(t){return function(e,i){c(e),document.execCommand(t,!1,i),u(e,!0)}}(d[p]);this.tab=function(t,e){var i=this.createRange(t);i.isCollapsed()&&i.isOnCell()?r.tab(i):(c(t),o.insertTab(t,i,e.tabsize),u(t))},this.untab=function(t){var e=this.createRange(t);e.isCollapsed()&&e.isOnCell()&&r.tab(e,!0)},this.insertParagraph=function(t){c(t),o.insertParagraph(t),u(t)},this.insertOrderedList=function(t){c(t),a.insertOrderedList(t),u(t)},this.insertUnorderedList=function(t){c(t),a.insertUnorderedList(t),u(t)},this.indent=function(t){c(t),a.indent(t),u(t)},this.outdent=function(t){c(t),a.outdent(t),u(t)},this.insertImage=function(t,i,n){pt.createImage(i,n).then(function(e){c(t),e.css({display:"",width:Math.min(t.width(),e.width())}),dt.create().insertNode(e[0]),dt.createFromNodeAfter(e[0]).select(),u(t)}).fail(function(){var i=ut.makeLayoutInfo(t).holder();e.bindCustomEvent(i,t.data("callbacks"),"image.upload.error")()})},this.insertNode=function(t,e){c(t),dt.create().insertNode(e),dt.createFromNodeAfter(e).select(),u(t)},this.insertText=function(t,e){c(t);var i=dt.create().insertNode(ut.createText(e));dt.create(i,ut.nodeLength(i)).select(),u(t)},this.pasteHTML=function(t,e){c(t);var i=dt.create().pasteHTML(e);dt.createFromNodeAfter(lt.last(i)).select(),u(t)},this.formatBlock=function(t,e){c(t),e=at.isMSIE?"<"+e+">":e,document.execCommand("FormatBlock",!1,e),u(t)},this.formatPara=function(t){c(t),this.formatBlock(t,"P"),u(t)};for(p=1;p<=6;p++)this["formatH"+p]=function(t){return function(e){this.formatBlock(e,"H"+t)}}(p);this.fontSize=function(e,i){var r=dt.create();if(r.isCollapsed()){var o=n.styleNodes(r),a=lt.head(o);t(o).css({"font-size":i+"px"}),a&&!ut.nodeLength(a)&&(a.innerHTML=ut.ZERO_WIDTH_NBSP_CHAR,dt.createFromNodeAfter(a.firstChild).select(),e.data("bogus",a))}else c(e),t(n.styleNodes(r)).css({"font-size":i+"px"}),u(e)},this.insertHorizontalRule=function(e){c(e);var i=dt.create().insertNode(t("<HR/>")[0]);i.nextSibling&&dt.create(i.nextSibling,0).normalize().select(),u(e)},this.removeBogus=function(t){var e=t.data("bogus");if(e){var i=lt.find(lt.from(e.childNodes),ut.isText),n=i.nodeValue.indexOf(ut.ZERO_WIDTH_NBSP_CHAR);-1!==n&&i.deleteData(n,1),ut.isEmpty(e)&&ut.remove(e),t.removeData("bogus")}},this.lineHeight=function(t,e){c(t),n.stylePara(dt.create(),{lineHeight:e}),u(t)},this.unlink=function(t){var e=this.createRange(t);if(e.isOnAnchor()){var i=ut.ancestor(e.sc,ut.isAnchor);(e=dt.createFromNode(i)).select(),c(t),document.execCommand("unlink"),u(t)}},this.createLink=function(e,i,r){var o=i.url,a=i.text,s=i.isNewWindow,l=i.range||this.createRange(e),d=l.toString()!==a;r=r||ut.makeLayoutInfo(e).editor().data("options"),c(e),r.onCreateLink&&(o=r.onCreateLink(o));var p=[];if(d){var h=l.insertNode(t("<A>"+a+"</A>")[0]);p.push(h)}else p=n.styleNodes(l,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});t.each(p,function(e,i){t(i).attr("href",o),s?t(i).attr("target","_blank"):t(i).removeAttr("target")});var f=dt.createFromNodeBefore(lt.head(p)).getStartPoint(),m=dt.createFromNodeAfter(lt.last(p)).getEndPoint();dt.create(f.node,f.offset,m.node,m.offset).select(),u(e)},this.getLinkInfo=function(e){this.focus(e);var i=dt.create().expand(ut.isAnchor),n=t(lt.head(i.nodes(ut.isAnchor)));return{range:i,text:i.toString(),isNewWindow:!!n.length&&"_blank"===n.attr("target"),url:n.length?n.attr("href"):""}},this.color=function(t,e){var i=JSON.parse(e),n=i.foreColor,r=i.backColor;c(t),n&&document.execCommand("foreColor",!1,n),r&&document.execCommand("backColor",!1,r),u(t)},this.insertTable=function(t,e){var i=e.split("x");c(t),dt.create().deleteContents().insertNode(r.createTable(i[0],i[1])),u(t)},this.floatMe=function(t,e,i){c(t),i.removeClass("pull-left pull-right"),e&&"none"!==e&&i.addClass("pull-"+e),i.css("float",e),u(t)},this.imageShape=function(t,e,i){c(t),i.removeClass("img-rounded img-circle img-thumbnail"),e&&i.addClass(e),u(t)},this.resize=function(t,e,i){c(t),i.css({width:100*e+"%",height:""}),u(t)},this.resizeTo=function(t,e,i){var n;if(i){var r=t.y/t.x,o=e.data("ratio");n={width:o>r?t.x:t.y/o,height:o>r?t.x*o:t.y}}else n={width:t.x,height:t.y};e.css(n)},this.removeMedia=function(i,n,r){c(i),r.detach(),e.bindCustomEvent(t(),i.data("callbacks"),"media.delete")(r,i),u(i)},this.focus=function(t){t.focus(),at.isFF&&!dt.create().isOnEditable()&&dt.createFromNode(t[0]).normalize().collapse().select()},this.isEmpty=function(t){return ut.isEmpty(t[0])||ut.emptyPara===t.html()}},bt=function(){this.update=function(e,i){var n=function(e,i){e.find(".dropdown-menu li a").each(function(){var e=t(this).data("value")+""==i+"";this.className=e?"checked":""})},r=function(t,i){e.find(t).toggleClass("active",i())};if(i.image){var o=t(i.image);r('button[data-event="imageShape"][data-value="img-rounded"]',function(){return o.hasClass("img-rounded")}),r('button[data-event="imageShape"][data-value="img-circle"]',function(){return o.hasClass("img-circle")}),r('button[data-event="imageShape"][data-value="img-thumbnail"]',function(){return o.hasClass("img-thumbnail")}),r('button[data-event="imageShape"]:not([data-value])',function(){return!o.is(".img-rounded, .img-circle, .img-thumbnail")});var a=o.css("float");r('button[data-event="floatMe"][data-value="left"]',function(){return"left"===a}),r('button[data-event="floatMe"][data-value="right"]',function(){return"right"===a}),r('button[data-event="floatMe"][data-value="none"]',function(){return"left"!==a&&"right"!==a});var s=o.attr("style");return r('button[data-event="resize"][data-value="1"]',function(){return!!/(^|\s)(max-)?width\s*:\s*100%/.test(s)}),r('button[data-event="resize"][data-value="0.5"]',function(){return!!/(^|\s)(max-)?width\s*:\s*50%/.test(s)}),void r('button[data-event="resize"][data-value="0.25"]',function(){return!!/(^|\s)(max-)?width\s*:\s*25%/.test(s)})}var l=e.find(".note-fontname");if(l.length){var c=i["font-family"];if(c){for(var u=c.split(","),d=0,p=u.length;d<p&&(c=u[d].replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,""),!at.isFontInstalled(c));d++);l.find(".note-current-fontname").text(c),n(l,c)}}var h=e.find(".note-fontsize");h.find(".note-current-fontsize").text(i["font-size"]),n(h,parseFloat(i["font-size"])),n(e.find(".note-height"),parseFloat(i["line-height"])),r('button[data-event="bold"]',function(){return"bold"===i["font-bold"]}),r('button[data-event="italic"]',function(){return"italic"===i["font-italic"]}),r('button[data-event="underline"]',function(){return"underline"===i["font-underline"]}),r('button[data-event="strikethrough"]',function(){return"strikethrough"===i["font-strikethrough"]}),r('button[data-event="superscript"]',function(){return"superscript"===i["font-superscript"]}),r('button[data-event="subscript"]',function(){return"subscript"===i["font-subscript"]}),r('button[data-event="justifyLeft"]',function(){return"left"===i["text-align"]||"start"===i["text-align"]}),r('button[data-event="justifyCenter"]',function(){return"center"===i["text-align"]}),r('button[data-event="justifyRight"]',function(){return"right"===i["text-align"]}),r('button[data-event="justifyFull"]',function(){return"justify"===i["text-align"]}),r('button[data-event="insertUnorderedList"]',function(){return"unordered"===i["list-style"]}),r('button[data-event="insertOrderedList"]',function(){return"ordered"===i["list-style"]})},this.updateRecentColor=function(e,i,n){var r=t(e).closest(".note-color").find(".note-recent-color"),o=JSON.parse(r.attr("data-value"));o[i]=n,r.attr("data-value",JSON.stringify(o));var a="backColor"===i?"background-color":"color";r.find("i").css(a,n)}};at.hasCodeMirror&&(at.isSupportAmd?a(["CodeMirror"],function(t){ot=t}):ot=window.CodeMirror);var yt=function(e){this.show=function(t){var i=t.dialog(),n=t.editable();e.invoke("editor.saveRange",n),this.showImageDialog(n,i).then(function(i){e.invoke("editor.restoreRange",n),"string"==typeof i?e.invoke("editor.insertImage",n,i):e.insertImages(t,i)}).fail(function(){e.invoke("editor.restoreRange",n)})},this.showImageDialog=function(e,i){return t.Deferred(function(t){var e=i.find(".note-image-dialog"),n=i.find(".note-image-input"),r=i.find(".note-image-url"),o=i.find(".note-image-btn");e.one("shown.bs.modal",function(){var i;n.replaceWith(n.clone().on("change",function(){t.resolve(this.files||this.value),e.modal("hide")}).val("")),o.click(function(i){i.preventDefault(),t.resolve(r.val()),e.modal("hide")}),r.on("keyup paste",function(t){var e,i,n;e="paste"===t.type?t.originalEvent.clipboardData.getData("text"):r.val(),n=e,(i=o).toggleClass("disabled",!n),i.attr("disabled",!n)}).val("").trigger("focus"),i=o,r.on("keypress",function(t){t.keyCode===ht.code.ENTER&&i.trigger("click")})}).one("hidden.bs.modal",function(){n.off("change"),r.off("keyup paste keypress"),o.off("click"),"pending"===t.state()&&t.reject()}).modal("show")})}};t.summernote=t.summernote||{},t.extend(t.summernote,{version:"0.6.16",options:{width:null,height:null,minHeight:null,maxHeight:null,focus:!1,tabsize:4,styleWithSpan:!0,disableLinkTarget:!1,disableDragAndDrop:!1,disableResizeEditor:!1,disableResizeImage:!1,shortcuts:!0,textareaAutoSync:!0,placeholder:!1,prettifyHtml:!0,iconPrefix:"fa fa-",icons:{font:{bold:"bold",italic:"italic",underline:"underline",clear:"eraser",height:"text-height",strikethrough:"strikethrough",superscript:"superscript",subscript:"subscript"},image:{image:"picture-o",floatLeft:"align-left",floatRight:"align-right",floatNone:"align-justify",shapeRounded:"square",shapeCircle:"circle-o",shapeThumbnail:"picture-o",shapeNone:"times",remove:"trash-o"},link:{link:"link",unlink:"unlink",edit:"edit"},table:{table:"table"},hr:{insert:"minus"},style:{style:"magic"},lists:{unordered:"list-ul",ordered:"list-ol"},options:{help:"question",fullscreen:"arrows-alt",codeview:"code"},paragraph:{paragraph:"align-left",outdent:"outdent",indent:"indent",left:"align-left",center:"align-center",right:"align-right",justify:"align-justify"},color:{recent:"font"},history:{undo:"undo",redo:"repeat"},misc:{check:"check"}},dialogsInBody:!1,codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},lang:"en-US",direction:null,toolbar:[["style",["style"]],["font",["bold","italic","underline","clear"]],["fontname",["fontname"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","hr"]],["view",["fullscreen","codeview"]],["help",["help"]]],plugin:{},airMode:!1,airPopover:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]],styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],defaultFontName:"Helvetica Neue",fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontNamesIgnoreCheck:[],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],insertTableMaxSize:{col:10,row:10},maximumImageFileSize:null,oninit:null,onfocus:null,onblur:null,onenter:null,onkeyup:null,onkeydown:null,onImageUpload:null,onImageUploadError:null,onMediaDelete:null,onToolbarClick:null,onsubmit:null,onCreateLink:function(t){return-1!==t.indexOf("@")&&-1===t.indexOf(":")&&(t="mailto:"+t),t},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"showLinkDialog"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"showLinkDialog"}}},lang:{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},history:{undo:"Undo",redo:"Redo"}}}});var _t=new function(){var e=function(t,e){var i=e.event,n=e.value,r=e.title,o=e.className,a=e.dropdown,s=e.hide;return(a?'<div class="btn-group'+(o?" "+o:"")+'">':"")+'<button type="button" class="btn btn-default btn-sm'+(!a&&o?" "+o:"")+(a?" dropdown-toggle":"")+'"'+(a?' data-toggle="dropdown"':"")+(r?' title="'+r+'"':"")+(i?' data-event="'+i+'"':"")+(n?" data-value='"+n+"'":"")+(s?" data-hide='"+s+"'":"")+' tabindex="-1">'+t+(a?' <span class="caret"></span>':"")+"</button>"+(a||"")+(a?"</div>":"")},i=function(t,i){return e('<i class="'+t+'"></i>',i)},n=function(e,i){var n=t('<div class="'+e+' popover bottom in" style="display: none;"><div class="arrow"></div><div class="popover-content"></div></div>');return n.find(".popover-content").append(i),n},r=function(t,e,i,n){return'<div class="'+t+' modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content">'+(e?'<div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4 class="modal-title">'+e+"</h4></div>":"")+'<div class="modal-body">'+i+"</div>"+(n?'<div class="modal-footer">'+n+"</div>":"")+"</div></div></div>"},o=function(t,e,i){var n="dropdown-menu"+(e?" "+e:"");return i=i||"ul",t instanceof Array&&(t=t.join("")),"<"+i+' class="'+n+'">'+t+"</"+i+">"},a={picture:function(t,e){return i(e.iconPrefix+e.icons.image.image,{event:"showImageDialog",title:t.image.image,hide:!0})},link:function(t,e){return i(e.iconPrefix+e.icons.link.link,{event:"showLinkDialog",title:t.link.link,hide:!0})},table:function(t,e){return i(e.iconPrefix+e.icons.table.table,{title:t.table.table,dropdown:o(['<div class="note-dimension-picker">','<div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div>','<div class="note-dimension-picker-highlighted"></div>','<div class="note-dimension-picker-unhighlighted"></div>',"</div>",'<div class="note-dimension-display"> 1 x 1 </div>'],"note-table")})},style:function(t,e){var n=e.styleTags.reduce(function(e,i){var n=t.style["p"===i?"normal":i];return e+'<li><a data-event="formatBlock" href="#" data-value="'+i+'">'+("p"===i||"pre"===i?n:"<"+i+">"+n+"</"+i+">")+"</a></li>"},"");return i(e.iconPrefix+e.icons.style.style,{title:t.style.style,dropdown:o(n)})},fontname:function(t,i){var n=[],r=i.fontNames.reduce(function(t,e){return at.isFontInstalled(e)||lt.contains(i.fontNamesIgnoreCheck,e)?(n.push(e),t+'<li><a data-event="fontName" href="#" data-value="'+e+'" style="font-family:\''+e+'\'"><i class="'+i.iconPrefix+i.icons.misc.check+'"></i> '+e+"</a></li>"):t},""),a=at.isFontInstalled(i.defaultFontName)?i.defaultFontName:n[0];return e('<span class="note-current-fontname">'+a+"</span>",{title:t.font.name,className:"note-fontname",dropdown:o(r,"note-check")})},fontsize:function(t,i){var n=i.fontSizes.reduce(function(t,e){return t+'<li><a data-event="fontSize" href="#" data-value="'+e+'"><i class="'+i.iconPrefix+i.icons.misc.check+'"></i> '+e+"</a></li>"},"");return e('<span class="note-current-fontsize">11</span>',{title:t.font.size,className:"note-fontsize",dropdown:o(n,"note-check")})},color:function(t,i){var n='<i class="'+i.iconPrefix+i.icons.color.recent+'" style="color:black;background-color:yellow;"></i>',r=e(n,{className:"note-recent-color",title:t.color.recent,event:"color",value:'{"backColor":"yellow"}'}),a=['<li><div class="btn-group">','<div class="note-palette-title">'+t.color.background+"</div>",'<div class="note-color-reset" data-event="backColor"',' data-value="inherit" title="'+t.color.transparent+'">'+t.color.setTransparent+"</div>",'<div class="note-color-palette" data-target-event="backColor"></div>','</div><div class="btn-group">','<div class="note-palette-title">'+t.color.foreground+"</div>",'<div class="note-color-reset" data-event="foreColor" data-value="inherit" title="'+t.color.reset+'">',t.color.resetToDefault,"</div>",'<div class="note-color-palette" data-target-event="foreColor"></div>',"</div></li>"];return r+e("",{title:t.color.more,dropdown:o(a)})},bold:function(t,e){return i(e.iconPrefix+e.icons.font.bold,{event:"bold",title:t.font.bold})},italic:function(t,e){return i(e.iconPrefix+e.icons.font.italic,{event:"italic",title:t.font.italic})},underline:function(t,e){return i(e.iconPrefix+e.icons.font.underline,{event:"underline",title:t.font.underline})},strikethrough:function(t,e){return i(e.iconPrefix+e.icons.font.strikethrough,{event:"strikethrough",title:t.font.strikethrough})},superscript:function(t,e){return i(e.iconPrefix+e.icons.font.superscript,{event:"superscript",title:t.font.superscript})},subscript:function(t,e){return i(e.iconPrefix+e.icons.font.subscript,{event:"subscript",title:t.font.subscript})},clear:function(t,e){return i(e.iconPrefix+e.icons.font.clear,{event:"removeFormat",title:t.font.clear})},ul:function(t,e){return i(e.iconPrefix+e.icons.lists.unordered,{event:"insertUnorderedList",title:t.lists.unordered})},ol:function(t,e){return i(e.iconPrefix+e.icons.lists.ordered,{event:"insertOrderedList",title:t.lists.ordered})},paragraph:function(t,e){var n=i(e.iconPrefix+e.icons.paragraph.left,{title:t.paragraph.left,event:"justifyLeft"}),r=i(e.iconPrefix+e.icons.paragraph.center,{title:t.paragraph.center,event:"justifyCenter"}),a=i(e.iconPrefix+e.icons.paragraph.right,{title:t.paragraph.right,event:"justifyRight"}),s=i(e.iconPrefix+e.icons.paragraph.justify,{title:t.paragraph.justify,event:"justifyFull"}),l=i(e.iconPrefix+e.icons.paragraph.outdent,{title:t.paragraph.outdent,event:"outdent"}),c=['<div class="note-align btn-group">',n+r+a+s,'</div><div class="note-list btn-group">',i(e.iconPrefix+e.icons.paragraph.indent,{title:t.paragraph.indent,event:"indent"})+l,"</div>"];return i(e.iconPrefix+e.icons.paragraph.paragraph,{title:t.paragraph.paragraph,dropdown:o(c,"","div")})},height:function(t,e){var n=e.lineHeights.reduce(function(t,i){return t+'<li><a data-event="lineHeight" href="#" data-value="'+parseFloat(i)+'"><i class="'+e.iconPrefix+e.icons.misc.check+'"></i> '+i+"</a></li>"},"");return i(e.iconPrefix+e.icons.font.height,{title:t.font.height,dropdown:o(n,"note-check")})},help:function(t,e){return i(e.iconPrefix+e.icons.options.help,{event:"showHelpDialog",title:t.options.help,hide:!0})},fullscreen:function(t,e){return i(e.iconPrefix+e.icons.options.fullscreen,{event:"fullscreen",title:t.options.fullscreen})},codeview:function(t,e){return i(e.iconPrefix+e.icons.options.codeview,{event:"codeview",title:t.options.codeview})},undo:function(t,e){return i(e.iconPrefix+e.icons.history.undo,{event:"undo",title:t.history.undo})},redo:function(t,e){return i(e.iconPrefix+e.icons.history.redo,{event:"redo",title:t.history.redo})},hr:function(t,e){return i(e.iconPrefix+e.icons.hr.insert,{event:"insertHorizontalRule",title:t.hr.insert})}},s=function(r,o){var s,l,c,u,d,p,h,f,m,g,v,b,y,_,k=t('<div class="note-popover" />');return k.append((s=i(o.iconPrefix+o.icons.link.edit,{title:r.link.edit,event:"showLinkDialog",hide:!0}),l=i(o.iconPrefix+o.icons.link.unlink,{title:r.link.unlink,event:"unlink"}),n("note-link-popover",'<a href="http://www.google.com" target="_blank">www.google.com</a>&nbsp;&nbsp;<div class="note-insert btn-group">'+s+l+"</div>"))),k.append((c=e('<span class="note-fontsize-10">100%</span>',{title:r.image.resizeFull,event:"resize",value:"1"}),u=e('<span class="note-fontsize-10">50%</span>',{title:r.image.resizeHalf,event:"resize",value:"0.5"}),d=e('<span class="note-fontsize-10">25%</span>',{title:r.image.resizeQuarter,event:"resize",value:"0.25"}),p=i(o.iconPrefix+o.icons.image.floatLeft,{title:r.image.floatLeft,event:"floatMe",value:"left"}),h=i(o.iconPrefix+o.icons.image.floatRight,{title:r.image.floatRight,event:"floatMe",value:"right"}),f=i(o.iconPrefix+o.icons.image.floatNone,{title:r.image.floatNone,event:"floatMe",value:"none"}),m=i(o.iconPrefix+o.icons.image.shapeRounded,{title:r.image.shapeRounded,event:"imageShape",value:"img-rounded"}),g=i(o.iconPrefix+o.icons.image.shapeCircle,{title:r.image.shapeCircle,event:"imageShape",value:"img-circle"}),v=i(o.iconPrefix+o.icons.image.shapeThumbnail,{title:r.image.shapeThumbnail,event:"imageShape",value:"img-thumbnail"}),b=i(o.iconPrefix+o.icons.image.shapeNone,{title:r.image.shapeNone,event:"imageShape",value:""}),y=i(o.iconPrefix+o.icons.image.remove,{title:r.image.remove,event:"removeMedia",value:"none"}),_=(o.disableResizeImage?"":'<div class="btn-group">'+c+u+d+"</div>")+'<div class="btn-group">'+p+h+f+'</div><br><div class="btn-group">'+m+g+v+b+'</div><div class="btn-group">'+y+"</div>",n("note-image-popover",_))),o.airMode&&k.append(function(){for(var e=t("<div />"),i=0,s=o.airPopover.length;i<s;i++){for(var l=o.airPopover[i],c=t('<div class="note-'+l[0]+' btn-group">'),u=0,d=l[1].length;u<d;u++){var p=t(a[l[1][u]](r,o));p.attr("data-name",l[1][u]),c.append(p)}e.append(c)}return n("note-air-popover",e.children())}()),k},l=function(t){return'<div class="note-handle"><div class="note-control-selection"><div class="note-control-selection-bg"></div><div class="note-control-holder note-control-nw"></div><div class="note-control-holder note-control-ne"></div><div class="note-control-holder note-control-sw"></div><div class="'+(t.disableResizeImage?"note-control-holder":"note-control-sizing")+' note-control-se"></div>'+(t.disableResizeImage?"":'<div class="note-control-selection-info"></div>')+"</div></div>"},c=function(t,e){var i="note-shortcut-col col-xs-6 note-shortcut-",n=[];for(var r in e)e.hasOwnProperty(r)&&n.push('<div class="'+i+'key">'+e[r].kbd+'</div><div class="'+i+'name">'+e[r].text+"</div>");return'<div class="note-shortcut-row row"><div class="'+i+'title col-xs-offset-6">'+t+'</div></div><div class="note-shortcut-row row">'+n.join('</div><div class="note-shortcut-row row">')+"</div>"},u=function(t,e){var i='class="note-shortcut note-shortcut-col col-sm-6 col-xs-12"',n=["<div "+i+">"+function(t){var e=[{kbd:"⌘ + Z",text:t.history.undo},{kbd:"⌘ + ⇧ + Z",text:t.history.redo},{kbd:"⌘ + ]",text:t.paragraph.indent},{kbd:"⌘ + [",text:t.paragraph.outdent},{kbd:"⌘ + ENTER",text:t.hr.insert}];return c(t.shortcut.action,e)}(t)+"</div><div "+i+">"+function(t){var e=[{kbd:"⌘ + B",text:t.font.bold},{kbd:"⌘ + I",text:t.font.italic},{kbd:"⌘ + U",text:t.font.underline},{kbd:"⌘ + \\",text:t.font.clear}];return c(t.shortcut.textFormatting,e)}(t)+"</div>","<div "+i+">"+function(t){var e=[{kbd:"⌘ + NUM0",text:t.style.normal},{kbd:"⌘ + NUM1",text:t.style.h1},{kbd:"⌘ + NUM2",text:t.style.h2},{kbd:"⌘ + NUM3",text:t.style.h3},{kbd:"⌘ + NUM4",text:t.style.h4},{kbd:"⌘ + NUM5",text:t.style.h5},{kbd:"⌘ + NUM6",text:t.style.h6}];return c(t.shortcut.documentStyle,e)}(t)+"</div><div "+i+">"+function(t){var e=[{kbd:"⌘ + ⇧ + L",text:t.paragraph.left},{kbd:"⌘ + ⇧ + E",text:t.paragraph.center},{kbd:"⌘ + ⇧ + R",text:t.paragraph.right},{kbd:"⌘ + ⇧ + J",text:t.paragraph.justify},{kbd:"⌘ + ⇧ + NUM7",text:t.lists.ordered},{kbd:"⌘ + ⇧ + NUM8",text:t.lists.unordered}];return c(t.shortcut.paragraphFormatting,e)}(t)+"</div>"];return e.extraKeys&&n.push("<div "+i+">"+function(t,e){var i=e.extraKeys,n=[];for(var r in i)i.hasOwnProperty(r)&&n.push({kbd:r,text:i[r]});return c(t.shortcut.extraKeys,n)}(t,e)+"</div>"),'<div class="note-shortcut-row row">'+n.join('</div><div class="note-shortcut-row row">')+"</div>"},d={image:function(t,e){var i="";if(e.maximumImageFileSize){var n=Math.floor(Math.log(e.maximumImageFileSize)/Math.log(1024)),o=1*(e.maximumImageFileSize/Math.pow(1024,n)).toFixed(2)+" "+" KMGTP"[n]+"B";i="<small>"+t.image.maximumFileSize+" : "+o+"</small>"}var a='<div class="form-group row note-group-select-from-files"><label>'+t.image.selectFromFiles+'</label><input class="note-image-input form-control" type="file" name="files" accept="image/*" multiple="multiple" />'+i+'</div><div class="form-group row"><label>'+t.image.url+'</label><input class="note-image-url form-control col-md-12" type="text" /></div>',s='<button href="#" class="btn btn-primary note-image-btn disabled" disabled>'+t.image.insert+"</button>";return r("note-image-dialog",t.image.insert,a,s)},link:function(t,e){var i='<div class="form-group row"><label>'+t.link.textToDisplay+'</label><input class="note-link-text form-control col-md-12" type="text" /></div><div class="form-group row"><label>'+t.link.url+'</label><input class="note-link-url form-control col-md-12" type="text" value="http://" /></div>'+(e.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+t.link.openInNewWindow+"</label></div>"),n='<button href="#" class="btn btn-primary note-link-btn disabled" disabled>'+t.link.insert+"</button>";return r("note-link-dialog",t.link.insert,i,n)},help:function(t,e){var i='<a class="modal-close pull-right" aria-hidden="true" tabindex="-1">'+t.shortcut.close+'</a><div class="title">'+t.shortcut.shortcuts+"</div>"+(at.isMac?u(t,e):u(t,e).replace(/⌘/g,"Ctrl").replace(/⇧/g,"Shift"))+'<p class="text-center"><a href="//summernote.org/" target="_blank">Summernote 0.6.16</a> · <a href="//github.com/summernote/summernote" target="_blank">Project</a> · <a href="//github.com/summernote/summernote/issues" target="_blank">Issues</a></p>';return r("note-help-dialog","",i,"")}},p=function(e,i){var n="";return t.each(d,function(t,r){n+=r(e,i)}),'<div class="note-dialog">'+n+"</div>"},h=function(e,i,n){var r=st.invertObject(i);e.find("button").each(function(e,i){var n=t(i),o=r[n.data("event")];o&&n.attr("title",function(t,e){return e+" ("+(i=o,at.isMac&&(i=i.replace("CMD","⌘").replace("SHIFT","⇧")),i.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]"))+")";var i})}).tooltip({container:"body",trigger:"hover",placement:n||"top"}).on("click",function(){t(this).tooltip("hide")})},f=function(e,i){var n=i.colors;e.find(".note-color-palette").each(function(){for(var e=t(this),i=e.attr("data-target-event"),r=[],o=0,a=n.length;o<a;o++){for(var s=n[o],l=[],c=0,u=s.length;c<u;c++){var d=s[c];l.push(['<button type="button" class="note-color-btn" style="background-color:',d,';" data-event="',i,'" data-value="',d,'" title="',d,'" data-toggle="button" tabindex="-1"></button>'].join(""))}r.push('<div class="note-color-row">'+l.join("")+"</div>")}e.html(r.join(""))})};this.createLayoutByAirMode=function(e,i){var n=i.langInfo,r=i.keyMap[at.isMac?"mac":"pc"],o=st.uniqueId();e.addClass("note-air-editor note-editable panel-body"),e.attr({id:"note-editor-"+o,contentEditable:!0});var a=document.body,c=t(s(n,i));c.addClass("note-air-layout"),c.attr("id","note-popover-"+o),c.appendTo(a),h(c,r),f(c,i);var u=t(l(i));u.addClass("note-air-layout"),u.attr("id","note-handle-"+o),u.appendTo(a);var d=t(p(n,i));d.addClass("note-air-layout"),d.attr("id","note-dialog-"+o),d.find("button.close, a.modal-close").click(function(){t(this).closest(".modal").modal("hide")}),d.appendTo(a)},this.createLayoutByFrame=function(e,i){var n=i.langInfo,r=t('<div class="note-editor panel panel-default" />');i.width&&r.width(i.width),i.height>0&&t('<div class="note-statusbar">'+(i.disableResizeEditor?"":'<div class="note-resizebar"><div class="note-icon-bar"></div><div class="note-icon-bar"></div><div class="note-icon-bar"></div></div>')+"</div>").prependTo(r);var o=t('<div class="note-editing-area" />'),c=!e.is(":disabled"),u=t('<div class="note-editable panel-body" contentEditable="'+c+'"></div>').prependTo(o);i.height&&u.height(i.height),i.direction&&u.attr("dir",i.direction);var d=e.attr("placeholder")||i.placeholder;d&&u.attr("data-placeholder",d),u.html(ut.html(e)||ut.emptyPara),t('<textarea class="note-codable"></textarea>').prependTo(o);var m=t(s(n,i)).prependTo(o);f(m,i),h(m,T),t(l(i)).prependTo(o),o.prependTo(r);for(var g=t('<div class="note-toolbar panel-heading" />'),v=0,b=i.toolbar.length;v<b;v++){for(var y=i.toolbar[v][0],_=i.toolbar[v][1],k=t('<div class="note-'+y+' btn-group" />'),x=0,A=_.length;x<A;x++){var C=a[_[x]];if(t.isFunction(C)){var w=t(C(n,i));w.attr("data-name",_[x]),k.append(w)}}g.append(k)}var T=i.keyMap[at.isMac?"mac":"pc"];f(g,i),h(g,T,"bottom"),g.prependTo(r),t('<div class="note-dropzone"><div class="note-dropzone-message"></div></div>').prependTo(r);var S=i.dialogsInBody?t(document.body):r;t(p(n,i)).prependTo(S).find("button.close, a.modal-close").click(function(){t(this).closest(".modal").modal("hide")}),r.insertAfter(e),e.hide()},this.hasNoteEditor=function(t){return this.noteEditorFromHolder(t).length>0},this.noteEditorFromHolder=function(e){return e.hasClass("note-air-editor")?e:e.next().hasClass("note-editor")?e.next():t()},this.createLayout=function(t,e){e.airMode?this.createLayoutByAirMode(t,e):this.createLayoutByFrame(t,e)},this.layoutInfoFromHolder=function(t){var e=this.noteEditorFromHolder(t);if(e.length)return e.data("holder",t),ut.buildLayoutInfo(e)},this.removeLayout=function(t,e,i){i.airMode?(t.removeClass("note-air-editor note-editable").removeAttr("id contentEditable"),e.popover().remove(),e.handle().remove(),e.dialog().remove()):(t.html(e.editable().html()),i.dialogsInBody&&e.dialog().remove(),e.editor().remove(),t.show())},this.getTemplate=function(){return{button:e,iconButton:i,dialog:r}},this.addButtonInfo=function(t,e){a[t]=e},this.addDialogInfo=function(t,e){d[t]=e}},kt=new function(){var e=this,i=this.modules={editor:new vt(this),toolbar:new function(){var t=new bt;this.update=function(e,i){t.update(e,i)},this.updateRecentColor=function(e,i,n){t.updateRecentColor(e,i,n)},this.activate=function(t){t.find("button").not('button[data-event="codeview"]').removeClass("disabled")},this.deactivate=function(t){t.find("button").not('button[data-event="codeview"]').addClass("disabled")},this.updateFullscreen=function(t,e){t.find('button[data-event="fullscreen"]').toggleClass("active",e)},this.updateCodeview=function(t,e){t.find('button[data-event="codeview"]').toggleClass("active",e),e?this.deactivate(t):this.activate(t)},this.get=function(t,e){return ut.makeLayoutInfo(t).toolbar().find("[data-name="+e+"]")},this.setButtonState=function(t,e,i){i=!1!==i,this.get(t,e).toggleClass("active",i)}}(this),statusbar:new function(){var e=t(document);this.attach=function(t,e){e.disableResizeEditor||t.statusbar().on("mousedown",i)};var i=function(t){t.preventDefault(),t.stopPropagation();var i=ut.makeLayoutInfo(t.target).editable(),n=i.offset().top-e.scrollTop(),r=ut.makeLayoutInfo(t.currentTarget||t.target).editor().data("options");e.on("mousemove",function(t){var e=t.clientY-(n+24);e=r.minHeight>0?Math.max(e,r.minHeight):e,e=r.maxHeight>0?Math.min(e,r.maxHeight):e,i.height(e)}).one("mouseup",function(){e.off("mousemove")})}}(this),popover:new function(){var e=new bt,i=function(e,i){var n=i&&i.isAirMode,r=i&&i.isLeftTop,o=t(e),a=n?o.offset():o.position(),s=r?0:o.outerHeight(!0);return{left:a.left,top:a.top+s}},n=function(t,e){t.css({display:"block",left:e.left,top:e.top})};this.update=function(r,o,a){e.update(r,o);var s=r.find(".note-link-popover");if(o.anchor){var l=s.find("a"),c=t(o.anchor).attr("href"),u=t(o.anchor).attr("target");l.attr("href",c).html(c),u?l.attr("target","_blank"):l.removeAttr("target"),n(s,i(o.anchor,{isAirMode:a}))}else s.hide();var d=r.find(".note-image-popover");o.image?n(d,i(o.image,{isAirMode:a,isLeftTop:!0})):d.hide();var p=r.find(".note-air-popover");if(a&&o.range&&!o.range.isCollapsed()){var h=lt.last(o.range.getClientRects());if(h){var f=st.rect2bnd(h);n(p,{left:Math.max(f.left+f.width/2-20,0),top:f.top+f.height})}}else p.hide()},this.updateRecentColor=function(t,e,i){t.updateRecentColor(t,e,i)},this.hide=function(t){t.children().hide()}}(this),handle:new function(e){var i=t(document),n=function(n){if(ut.isControlSizing(n.target)){n.preventDefault(),n.stopPropagation();var r=ut.makeLayoutInfo(n.target),o=r.handle(),a=r.popover(),s=r.editable(),l=r.editor(),c=o.find(".note-control-selection").data("target"),u=t(c),d=u.offset(),p=i.scrollTop(),h=l.data("options").airMode;i.on("mousemove",function(t){e.invoke("editor.resizeTo",{x:t.clientX-d.left,y:t.clientY-(d.top-p)},u,!t.shiftKey),e.invoke("handle.update",o,{image:c},h),e.invoke("popover.update",a,{image:c},h)}).one("mouseup",function(){i.off("mousemove"),e.invoke("editor.afterCommand",s)}),u.data("ratio")||u.data("ratio",u.height()/u.width())}};this.attach=function(t){t.handle().on("mousedown",n)},this.update=function(e,i,n){var r=e.find(".note-control-selection");if(i.image){var o=t(i.image),a=n?o.offset():o.position(),s={w:o.outerWidth(!0),h:o.outerHeight(!0)};r.css({display:"block",left:a.left,top:a.top,width:s.w,height:s.h}).data("target",i.image);var l=s.w+"x"+s.h;r.find(".note-control-selection-info").text(l)}else r.hide()},this.hide=function(t){t.children().hide()}}(this),fullscreen:new function(e){var i=t(window),n=t("html, body");this.toggle=function(t){var r=t.editor(),o=t.toolbar(),a=t.editable(),s=t.codable(),l=function(t){a.css("height",t.h),s.css("height",t.h),s.data("cmeditor")&&s.data("cmeditor").setsize(null,t.h)};r.toggleClass("fullscreen");var c=r.hasClass("fullscreen");c?(a.data("orgheight",a.css("height")),i.on("resize",function(){l({h:i.height()-o.outerHeight()})}).trigger("resize"),n.css("overflow","hidden")):(i.off("resize"),l({h:a.data("orgheight")}),n.css("overflow","visible")),e.invoke("toolbar.updateFullscreen",o,c)}}(this),codeview:new function(t){this.sync=function(e){t.invoke("codeview.isActivated",e)&&at.hasCodeMirror&&e.codable().data("cmEditor").save()},this.isActivated=function(t){return t.editor().hasClass("codeview")},this.toggle=function(t){this.isActivated(t)?this.deactivate(t):this.activate(t)},this.activate=function(e){var i=e.editor(),n=e.toolbar(),r=e.editable(),o=e.codable(),a=e.popover(),s=e.handle(),l=i.data("options");if(o.val(ut.html(r,l.prettifyHtml)),o.height(r.height()),t.invoke("toolbar.updateCodeview",n,!0),t.invoke("popover.hide",a),t.invoke("handle.hide",s),i.addClass("codeview"),o.focus(),at.hasCodeMirror){var c=ot.fromTextArea(o[0],l.codemirror);if(l.codemirror.tern){var u=new ot.TernServer(l.codemirror.tern);c.ternServer=u,c.on("cursorActivity",function(t){u.updateArgHints(t)})}c.setSize(null,r.outerHeight()),o.data("cmEditor",c)}},this.deactivate=function(e){var i=e.holder(),n=e.editor(),r=e.toolbar(),o=e.editable(),a=e.codable(),s=n.data("options");if(at.hasCodeMirror){var l=a.data("cmEditor");a.val(l.getValue()),l.toTextArea()}var c=ut.value(a,s.prettifyHtml)||ut.emptyPara,u=o.html()!==c;o.html(c),o.height(s.height?a.height():"auto"),n.removeClass("codeview"),u&&t.bindCustomEvent(i,o.data("callbacks"),"change")(o.html(),o),o.focus(),t.invoke("toolbar.updateCodeview",r,!1)}}(this),dragAndDrop:new function(e){var i=t(document);this.attach=function(t,e){e.airMode||e.disableDragAndDrop?i.on("drop",function(t){t.preventDefault()}):this.attachDragAndDropEvent(t,e)},this.attachDragAndDropEvent=function(n,r){var o=t(),a=n.editor(),s=n.dropzone(),l=s.find(".note-dropzone-message");i.on("dragenter",function(t){var i=e.invoke("codeview.isActivated",n),c=a.width()>0&&a.height()>0;i||o.length||!c||(a.addClass("dragover"),s.width(a.width()),s.height(a.height()),l.text(r.langInfo.image.dragImageHere)),o=o.add(t.target)}).on("dragleave",function(t){(o=o.not(t.target)).length||a.removeClass("dragover")}).on("drop",function(){o=t(),a.removeClass("dragover")}),s.on("dragenter",function(){s.addClass("hover"),l.text(r.langInfo.image.dropImage)}).on("dragleave",function(){s.removeClass("hover"),l.text(r.langInfo.image.dragImageHere)}),s.on("drop",function(i){var n=i.originalEvent.dataTransfer,r=ut.makeLayoutInfo(i.currentTarget||i.target);if(n&&n.files&&n.files.length)i.preventDefault(),r.editable().focus(),e.insertImages(r,n.files);else for(var o=function(){r.holder().summernote("insertNode",this)},a=0,s=n.types.length;a<s;a++){var l=n.types[a],c=n.getData(l);l.toLowerCase().indexOf("text")>-1?r.holder().summernote("pasteHTML",c):t(c).each(o)}}).on("dragover",!1)}}(this),clipboard:new function(e){var i;this.attach=function(o){at.isMSIE&&at.browserVersion>10||at.isFF?(i=t("<div />").attr("contenteditable",!0).css({position:"absolute",left:-1e5,opacity:0}),o.editable().on("keydown",function(t){t.ctrlKey&&t.keyCode===ht.code.V&&(e.invoke("saveRange",o.editable()),i.focus(),setTimeout(function(){n(o)},0))}),o.editable().before(i)):o.editable().on("paste",r)};var n=function(n){var r=n.editable(),o=i[0].firstChild;if(ut.isImg(o)){for(var a=o.src,s=atob(a.split(",")[1]),l=new Uint8Array(s.length),c=0;c<s.length;c++)l[c]=s.charCodeAt(c);var u=new Blob([l],{type:"image/png"});u.name="clipboard.png",e.invoke("restoreRange",r),e.invoke("focus",r),e.insertImages(n,[u])}else{var d=t("<div />").html(i.html()).html();e.invoke("restoreRange",r),e.invoke("focus",r),d&&e.invoke("pasteHTML",r,d)}i.empty()},r=function(t){var i=t.originalEvent.clipboardData,n=ut.makeLayoutInfo(t.currentTarget||t.target),r=n.editable();if(i&&i.items&&i.items.length){var o=lt.head(i.items);"file"===o.kind&&-1!==o.type.indexOf("image/")&&e.insertImages(n,[o.getAsFile()]),e.invoke("editor.afterCommand",r)}}}(this),linkDialog:new function(e){var i=function(t,e){t.toggleClass("disabled",!e),t.attr("disabled",!e)},n=function(t,e){t.on("keypress",function(t){t.keyCode===ht.code.ENTER&&e.trigger("click")})};this.showLinkDialog=function(e,r,o){return t.Deferred(function(t){var e=r.find(".note-link-dialog"),a=e.find(".note-link-text"),s=e.find(".note-link-url"),l=e.find(".note-link-btn"),c=e.find("input[type=checkbox]");e.one("shown.bs.modal",function(){a.val(o.text),a.on("input",function(){i(l,a.val()&&s.val()),o.text=a.val()}),o.url||(o.url=o.text||"http://",i(l,o.text)),s.on("input",function(){i(l,a.val()&&s.val()),o.text||a.val(s.val())}).val(o.url).trigger("focus").trigger("select"),n(s,l),n(a,l),c.prop("checked",o.isNewWindow),l.one("click",function(i){i.preventDefault(),t.resolve({range:o.range,url:s.val(),text:a.val(),isNewWindow:c.is(":checked")}),e.modal("hide")})}).one("hidden.bs.modal",function(){a.off("input keypress"),s.off("input keypress"),l.off("click"),"pending"===t.state()&&t.reject()}).modal("show")}).promise()},this.show=function(t){var i=t.editor(),n=t.dialog(),r=t.editable(),o=t.popover(),a=e.invoke("editor.getLinkInfo",r),s=i.data("options");e.invoke("editor.saveRange",r),this.showLinkDialog(r,n,a).then(function(t){e.invoke("editor.restoreRange",r),e.invoke("editor.createLink",r,t,s),e.invoke("popover.hide",o)}).fail(function(){e.invoke("editor.restoreRange",r)})}}(this),imageDialog:new yt(this),helpDialog:new function(e){this.showHelpDialog=function(e,i){return t.Deferred(function(t){i.find(".note-help-dialog").one("hidden.bs.modal",function(){t.resolve()}).modal("show")}).promise()},this.show=function(t){var i=t.dialog(),n=t.editable();e.invoke("editor.saveRange",n,!0),this.showHelpDialog(n,i).then(function(){e.invoke("editor.restoreRange",n)})}}(this)};this.invoke=function(){var t=lt.head(lt.from(arguments)),e=lt.tail(lt.from(arguments)),i=t.split("."),n=i.length>1,r=n&&lt.head(i),o=n?lt.last(i):lt.head(i),a=this.getModule(r),s=a[o];return s&&s.apply(a,e)},this.getModule=function(t){return this.modules[t]||this.modules.editor};var n=this.bindCustomEvent=function(t,e,i){return function(){var n=e[st.namespaceToCamel(i,"on")];return n&&n.apply(t[0],arguments),t.trigger("summernote."+i,arguments)}};this.insertImages=function(e,r){var o=e.editor(),a=e.editable(),s=e.holder(),l=a.data("callbacks"),c=o.data("options");l.onImageUpload?n(s,l,"image.upload")(r):t.each(r,function(t,e){var r=e.name;c.maximumImageFileSize&&c.maximumImageFileSize<e.size?n(s,l,"image.upload.error")(c.langInfo.image.maximumFileSizeError):pt.readFileAsDataURL(e).then(function(t){i.editor.insertImage(a,t,r)}).fail(function(){n(s,l,"image.upload.error")(c.langInfo.image.maximumFileSizeError)})})};var r={showLinkDialog:function(t){i.linkDialog.show(t)},showImageDialog:function(t){i.imageDialog.show(t)},showHelpDialog:function(t){i.helpDialog.show(t)},fullscreen:function(t){i.fullscreen.toggle(t)},codeview:function(t){i.codeview.toggle(t)}},o=function(t){ut.isImg(t.target)&&t.preventDefault()},a=function(t){var e=ut.makeLayoutInfo(t.currentTarget||t.target);i.editor.removeBogus(e.editable()),s(t)};this.updateStyleInfo=function(t,e){if(t){var n=e.editor().data("options").airMode;n||i.toolbar.update(e.toolbar(),t),i.popover.update(e.popover(),t,n),i.handle.update(e.handle(),t,n)}};var s=function(t){var n=t.target;setTimeout(function(){var t=ut.makeLayoutInfo(n),r=i.editor.currentStyle(n);e.updateStyleInfo(r,t)},0)},l=function(t){var e=ut.makeLayoutInfo(t.currentTarget||t.target);i.popover.hide(e.popover()),i.handle.hide(e.handle())},c=function(e){t(e.target).closest("[data-event]").length&&e.preventDefault()},u=function(e){var n=t(e.target).closest("[data-event]");if(n.length){var o,a=n.attr("data-event"),l=n.attr("data-value"),c=n.attr("data-hide"),u=ut.makeLayoutInfo(e.target);if(-1!==t.inArray(a,["resize","floatMe","removeMedia","imageShape"])){var d=u.handle().find(".note-control-selection");o=t(d.data("target"))}if(c&&n.parents(".popover").hide(),t.isFunction(t.summernote.pluginEvents[a]))t.summernote.pluginEvents[a](e,i.editor,u,l);else if(i.editor[a]){var p=u.editable();p.focus(),i.editor[a](p,l,o),e.preventDefault()}else r[a]&&(r[a].call(this,u),e.preventDefault());if(-1!==t.inArray(a,["backColor","foreColor"])){var h=u.editor().data("options",h);(h.airMode?i.popover:i.toolbar).updateRecentColor(lt.head(n),a,l)}s(e)}};this.bindKeyMap=function(e,n){var o=e.editor(),a=e.editable();a.on("keydown",function(s){var l=[];s.metaKey&&l.push("CMD"),s.ctrlKey&&!s.altKey&&l.push("CTRL"),s.shiftKey&&l.push("SHIFT");var c,u=ht.nameFromCode[s.keyCode];u&&l.push(u);var d=l.join("+"),p=n[d];if(p){if(c=t.summernote.pluginEvents[d],t.isFunction(c)&&c(s,i.editor,e))return!1;c=t.summernote.pluginEvents[p],t.isFunction(c)?c(s,i.editor,e):i.editor[p]?(i.editor[p](a,o.data("options")),s.preventDefault()):r[p]&&(r[p].call(this,e),s.preventDefault())}else ht.isEdit(s.keyCode)&&i.editor.afterCommand(a)})},this.attach=function(e,n){n.shortcuts&&this.bindKeyMap(e,n.keyMap[at.isMac?"mac":"pc"]),e.editable().on("mousedown",o),e.editable().on("keyup mouseup",a),e.editable().on("scroll",l),i.clipboard.attach(e,n),i.handle.attach(e,n),e.popover().on("click",u),e.popover().on("mousedown",c),i.dragAndDrop.attach(e,n),n.airMode||(e.toolbar().on("click",u),e.toolbar().on("mousedown",c),i.statusbar.attach(e,n)),(n.airMode?e.popover():e.toolbar()).find(".note-dimension-picker-mousecatcher").css({width:n.insertTableMaxSize.col+"em",height:n.insertTableMaxSize.row+"em"}).on("mousemove",function(e){!function(e,i){var n,r=t(e.target.parentNode),o=r.next(),a=r.find(".note-dimension-picker-mousecatcher"),s=r.find(".note-dimension-picker-highlighted"),l=r.find(".note-dimension-picker-unhighlighted");if(void 0===e.offsetX){var c=t(e.target).offset();n={x:e.pageX-c.left,y:e.pageY-c.top}}else n={x:e.offsetX,y:e.offsetY};var u=Math.ceil(n.x/18)||1,d=Math.ceil(n.y/18)||1;s.css({width:u+"em",height:d+"em"}),a.attr("data-value",u+"x"+d),3<u&&u<i.insertTableMaxSize.col&&l.css({width:u+1+"em"}),3<d&&d<i.insertTableMaxSize.row&&l.css({height:d+1+"em"}),o.html(u+" x "+d)}(e,n)}),e.editor().data("options",n),at.isMSIE||setTimeout(function(){document.execCommand("styleWithCSS",0,n.styleWithSpan)},0);var r=new ft(e.editable());e.editable().data("NoteHistory",r),e.editable().data("callbacks",{onInit:n.onInit,onFocus:n.onFocus,onBlur:n.onBlur,onKeydown:n.onKeydown,onKeyup:n.onKeyup,onMousedown:n.onMousedown,onEnter:n.onEnter,onPaste:n.onPaste,onBeforeCommand:n.onBeforeCommand,onChange:n.onChange,onImageUpload:n.onImageUpload,onImageUploadError:n.onImageUploadError,onMediaDelete:n.onMediaDelete,onToolbarClick:n.onToolbarClick});var s=i.editor.styleFromNode(e.editable());this.updateStyleInfo(s,e)},this.attachCustomEvent=function(e,i){var r=e.holder(),o=e.editable(),a=o.data("callbacks");o.focus(n(r,a,"focus")),o.blur(n(r,a,"blur")),o.keydown(function(t){t.keyCode===ht.code.ENTER&&n(r,a,"enter").call(this,t),n(r,a,"keydown").call(this,t)}),o.keyup(n(r,a,"keyup")),o.on("mousedown",n(r,a,"mousedown")),o.on("mouseup",n(r,a,"mouseup")),o.on("scroll",n(r,a,"scroll")),o.on("paste",n(r,a,"paste"));var s=at.isMSIE?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input";o.on(s,function(){n(r,a,"change")(o.html(),o)}),i.airMode||(e.toolbar().click(n(r,a,"toolbar.click")),e.popover().click(n(r,a,"popover.click"))),ut.isTextarea(lt.head(r))&&r.closest("form").submit(function(t){e.holder().val(e.holder().code()),n(r,a,"submit").call(this,t,r.code())}),ut.isTextarea(lt.head(r))&&i.textareaAutoSync&&r.on("summernote.change",function(){e.holder().val(e.holder().code())}),n(r,a,"init")(e);for(var l=0,c=t.summernote.plugins.length;l<c;l++)t.isFunction(t.summernote.plugins[l].init)&&t.summernote.plugins[l].init(e)},this.detach=function(t,e){t.holder().off(),t.editable().off(),t.popover().off(),t.handle().off(),t.dialog().off(),e.airMode||(t.dropzone().off(),t.toolbar().off(),t.statusbar().off())}};t.extend(t.summernote,{renderer:_t,eventHandler:kt,core:{agent:at,list:lt,dom:ut,range:dt},pluginEvents:{},plugins:[]}),t.summernote.addPlugin=function(e){t.summernote.plugins.push(e),e.buttons&&t.each(e.buttons,function(t,e){_t.addButtonInfo(t,e)}),e.dialogs&&t.each(e.dialogs,function(t,e){_t.addDialogInfo(t,e)}),e.events&&t.each(e.events,function(e,i){t.summernote.pluginEvents[e]=i}),e.langs&&t.each(e.langs,function(e,i){t.summernote.lang[e]&&t.extend(t.summernote.lang[e],i)}),e.options&&t.extend(t.summernote.options,e.options)},t.fn.extend({summernote:function(){var e=t.type(lt.head(arguments)),i="string"===e,n="object"===e,r=n?lt.head(arguments):{};if((r=t.extend({},t.summernote.options,r)).icons=t.extend({},t.summernote.options.icons,r.icons),r.langInfo=t.extend(!0,{},t.summernote.lang["en-US"],t.summernote.lang[r.lang]),!i&&n)for(var o=0,a=t.summernote.plugins.length;o<a;o++){var s=t.summernote.plugins[o];r.plugin[s.name]&&(t.summernote.plugins[o]=t.extend(!0,s,r.plugin[s.name]))}this.each(function(e,i){var n=t(i);if(!_t.hasNoteEditor(n)){_t.createLayout(n,r);var o=_t.layoutInfoFromHolder(n);n.data("layoutInfo",o),kt.attach(o,r),kt.attachCustomEvent(o,r)}});var l=this.first();if(l.length){var c=_t.layoutInfoFromHolder(l);if(i){var u=lt.head(lt.from(arguments)),d=lt.tail(lt.from(arguments)),p=[u,c.editable()].concat(d);return kt.invoke.apply(kt,p)}r.focus&&c.editable().focus()}return this},code:function(e){if(void 0===e){var i=this.first();if(!i.length)return;var n=_t.layoutInfoFromHolder(i),r=n&&n.editable();if(r&&r.length){var o=kt.invoke("codeview.isActivated",n);return kt.invoke("codeview.sync",n),o?n.codable().val():n.editable().html()}return ut.value(i)}return this.each(function(i,n){var r=_t.layoutInfoFromHolder(t(n)),o=r&&r.editable();o&&o.html(e)}),this},destroy:function(){return this.each(function(e,i){var n=t(i);if(_t.hasNoteEditor(n)){var r=_t.layoutInfoFromHolder(n),o=r.editor().data("options");kt.detach(r,o),_t.removeLayout(n,r,o)}}),this}})},r=[i(1)],void 0===(o="function"==typeof(n=s)?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){"use strict";var n,r;n=[i(1),i(28),i(196),i(75)],void 0===(r=function(t,e,i){return function(n){e.init(n),n.find('[data-toggle="tooltip"]').tooltip(),n.find('[data-toggle="popover"]').popover(),n.find("li.tab.active a").each(function(){var e=t(this).attr("href");t(e).addClass("active")}),n.find("textarea.wysiwyg[id]:not([aria-hidden])").each(function(){t(this).closest(".attribute-field").hasClass("scopable")||i.init(t(this))})}}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(9),i(11),i(20),i(28),i(98),i(75)],void 0===(r=function(t,e,i,n,r,o){return t.ui.dialog.prototype._allowInteraction=function(e){return!!t(e.target).closest(".ui-dialog, .select2-drop").length},function(a,s){function l(){g||(g=new r).render().$el.appendTo(t("#container")),g.show()}function c(){h&&h.length&&h.remove(),h=null}function u(e){c();var n=t(e),r=n.data("title"),a="#"+n.attr("id"),s=t('<div class="AknLoadingMask">').hide();t("body").append(s);var u=[],p=n.data("button-submit"),g=n.data("button-cancel");p&&u.push({text:p,class:"btn btn-primary",click:function(){l(),t.ajax({url:f,type:"post",data:t(a).serialize(),success:function(t){d(t),i.trigger("dialog:open:after",this),s.remove()}})}}),g&&u.push({text:g,class:"btn",click:function(){c(),s.remove()}}),h=n.dialog({title:r,modal:!0,resizable:!1,width:m,buttons:u,draggable:!1,open:function(){t(this).parent().keypress(function(e){e.keyCode===t.ui.keyCode.ENTER&&(e.preventDefault(),e.stopPropagation(),t(this).find("button.btn-primary:eq(0)").click())}),s.show()},close:function(){t(this).remove(),s.remove()}}),o.init(t(a)),t(a+" .switch").bootstrapSwitch(),t(a).find('[data-toggle="tooltip"]').tooltip()}function d(i){g.hide(),function(t){try{JSON.parse(t)}catch(t){return!1}return!0}(i)?(i=t.parseJSON(i),c(),s?s(i):n.redirect(i.url)):e.isObject(i)?(c(),s?s(i):i.url?n.redirect(i.url):i.route&&n.redirectToRoute(i.route,i.params)):"form"===t(i).prop("tagName").toLowerCase()&&u(i)}var p=t(a);if(!p.length)return console.error("DialogForm: the element could not be found!");var h,f=p.attr("data-form-url");if(!f)throw new Error("DialogForm: please specify the url");var m=p.attr("data-form-width")||400,g=null;p.on("click",function(e){e.preventDefault(),l(),t.ajax({url:f,type:"get",success:function(t){g.hide(),u(t),i.trigger("dialog:open:after",this)}})})}}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(8),i(9),i(14)],void 0===(r=function(t,e,i,n,r,o){return n.View.extend({formName:"",modal:null,submitCallback:null,modalParameters:{allowCancel:!0,okCloses:!1,content:"",title:"[modal_title]",okText:i("pim_common.save"),modalOptions:{backdrop:"static",keyboard:!1}},initialFormData:{},initialize:function(t,i,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};this.formName=t,this.submitCallback=i,this.modalParameters=e.extend(this.modalParameters,n),this.initialFormData=r},open:function(){var e=t.Deferred();return o.build(this.formName).then(function(t){t.setData(this.initialFormData,{silent:!0}),this.modal=new n.BootstrapModal(this.modalParameters),this.modal.open(),t.setElement(this.modal.$(".modal-body")).render(),r.on("pim_enrich:form:modal:ok_button:disable",function(){this.disableOkBtn()}.bind(this)),r.on("pim_enrich:form:modal:ok_button:enable",function(){this.enableOkBtn()}.bind(this)),this.modal.on("cancel",e.reject),this.modal.on("ok",function(){this.modal.$(".modal-footer .ok").hasClass("disabled")||this.submitCallback(t).then(function(){var i=t.getFormData();e.resolve(i),this.modal.close()}.bind(this))}.bind(this))}.bind(this)),e},close:function(){this.modal.close()},enableOkBtn:function(){this.modal.$(".ok").attr("disabled",null).removeClass("AknButton--disabled")},disableOkBtn:function(){this.modal.$(".ok").attr("disabled","disabled").addClass("AknButton--disabled")}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(7),i(9),i(114)],void 0===(r=function(t,e,i,n){return function(r,o,a){var s=t(r);if(s&&s.length&&e.isObject(s)){var l=this,c=-1,u=s.attr("data-id"),d=s.attr("data-selected-tree"),p=s.attr("data-datalocale"),h=!1;this.config={core:{animation:200,html_titles:!0,strings:{loading:e.__("pim_common.loading")}},plugins:["themes","json_data","ui","types","checkbox"],checkbox:{two_state:!0,real_checkboxes:!0,override_ui:!0,real_checkboxes_names:function(t){return["category_"+t[0].id,1]}},themes:{dots:!0,icons:!0},json_data:{ajax:{url:function(e){var n=t("#tree-link-"+c).hasClass("tree-has-item");if((!e||-1===e)&&n){var r=this.parseHiddenCategories();return i.generate(a.list_categories,{id:u,categoryId:c,_format:"json",dataLocale:p,context:"associate",selected:r})}return i.generate(a.children,{_format:"json",dataLocale:p,context:"associate"})}.bind(this),data:function(e){var i={},n=t("#tree-link-"+c).hasClass("tree-has-item");return e&&-1!==e&&e.attr?i.id=e.attr("id").replace("node_",""):(!n&&(i.id=c),i.include_parent="true"),i},complete:function(){t(".jstree-root>input.jstree-real-checkbox").attr("disabled","disabled"),h&&this.lock()}}},types:{max_depth:-2,max_children:-2,valid_children:["folder"],types:{default:{valid_children:"folder"}}},ui:{select_limit:1,select_multiple_modifier:!1}},this.switchTree=function(e){c=e;var i=t("#tree-"+e);t("#trees").find("> div").hide(),t("#trees-list").find("li").removeClass("active"),t("#tree-link-"+e).parent().addClass("active"),t(".tree[data-tree-id="+e+"]").show(),i.show(),t("#tree-link-"+e).trigger("shown"),0===i.children("ul").size()&&l.initTree(e)},this.initTree=function(e){var i=t("#tree-"+e);i.jstree(l.config),i.bind("loaded.jstree",function(){n.trigger("jstree:loaded")}),i.bind("check_node.jstree",function(e,i){if(i.inst.get_checked()&&!1===t(i.rslt.obj[0]).hasClass("jstree-root")){var n=this.parseHiddenCategories(),r=i.rslt.obj[0].id.replace("node_","");if(0>t.inArray(r,n)){n.push(r),n=(n=t.unique(n)).join(","),t(o).val(n).trigger("change");var a=e.target.id.replace("-","-link-");t("#"+a+" i").addClass("AknAcl-icon--granted")}}}.bind(this)),i.bind("uncheck_node.jstree",function(e,i){if(i.inst.get_checked()){var n=this.parseHiddenCategories(),r=i.rslt.obj[0].id.replace("node_","");n.splice(t.inArray(r,n),1),n=n.join(","),t(o).val(n).trigger("change");var a=e.target.id;if(0===t("#"+a).jstree("get_checked").length){var s=a.replace("-","-link-");t("#"+s+" i").removeClass("AknAcl-icon--granted")}}}.bind(this))};var f=function(){t("#trees-list").find("a").each(function(){var e=t.jstree._reference(this.id.replace("tree-link-","#tree-"));e&&(h?e.lock():e.unlock())})};this.lock=function(){h=!0,f()},this.unlock=function(){h=!1,f()},this.bindEvents=function(){t("#trees-list").on("click","a",function(){l.switchTree(this.id.replace("tree-link-",""))}),n.on("jstree:lock",this.lock),n.on("jstree:unlock",this.unlock)},this.parseHiddenCategories=function(){var e=t(o).val();return 0<e.length?e.split(","):[]},this.init=function(){l.switchTree(d),l.bindEvents()},this.init()}}}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(5),i(6),i(10),i(7)],void 0===(r=function(t,e,i,n,r){return{getConfig:function(o){return{allowClear:!0,ajax:{url:r.generate("pim_enrich_family_rest_index"),quietMillis:250,cache:!0,data:function(t,e){return{search:t,options:{limit:20,page:e,locale:i.get("uiLocale")}}},results:function(e){var r={more:20===t.keys(e).length,results:[]};return t.each(e,function(t,e){r.results.push({id:e,text:n.getLabel(t.labels,i.get("uiLocale"),t.code)})}),r}},initSelection:function(t,r){null!==o&&e.getFetcher("family").fetch(o).then(function(t){r({id:t.code,text:n.getLabel(t.labels,i.get("uiLocale"),t.code)})})}}}}}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(8),i(14),i(5),i(6),i(10),i(74)],void 0===(r=function(t,e,i,n,r,o,a,s){return{createModal:function(l,c){return r.getFetcher(c).fetch(l,{cached:!1}).then(r=>n.build(r.meta.form).then(n=>{n.setData(r),n.trigger("pim_enrich:form:entity:post_fetch",r),n.on("pim_enrich:form:entity:post_save",()=>{c.trigger("cancel")});var l=r,c=new i.BootstrapModal({content:n,buttons:!1,title:a.getLabel(l.labels,o.get("uiLocale"),l.code),subtitle:e("Code")+": "+l.code,template:t.template(s),okText:"",innerClassName:"AknFullPage--full"});return c.open(),c}))}}}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(5)],void 0===(r=function(t,e,i){return{getAttributeGroupsForObject:function(t){return i.getFetcher("attribute-group").fetchAll().then(function(i){return e.values(i).reduce((i,n)=>(0<e.intersection(n.attributes,e.keys(t.values)).length&&(i[n.code]=n),i),{})})},getAttributeGroupForAttribute:function(t,i){var n=null;return e.each(t,function(t){-1!==t.attributes.indexOf(i)&&(n=t.code)}),n}}}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(421),i(3),i(144),i(423),i(6),i(5),i(96),i(9),i(28)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c,u,d){return r.extend({tagName:"div",targetElement:'input[type="hidden"]',className:null,mainFetcher:null,template:e.template(n),lineView:o,footerView:a,config:{},resultsPerPage:null,selection:[],itemViews:[],footerViewInstance:null,queryTimer:null,addEvent:null,disableEvent:null,enableEvent:null,disabled:!1,defaultConfig:{select2:{placeholder:"pim_common.add",title:"",buttonTitle:"",emptyText:"",classes:"",minimumInputLength:0,dropdownCssClass:"",closeOnSelect:!1,countTitle:"pim_enrich.form.common.base-add-select.label.select_count"},resultsPerPage:10,searchParameters:{},mainFetcher:null,events:{disable:null,enable:null,add:null}},initialize:function(n){if(this.config=t.extend(!0,{},this.defaultConfig,n.config),e.isNull(this.config.mainFetcher))throw new Error("Fetcher code must be provided in config");this.config.select2.placeholder=i(this.config.select2.placeholder),this.config.select2.title=i(this.config.select2.title),this.config.select2.buttonTitle=i(this.config.select2.buttonTitle),this.config.select2.emptyText=i(this.config.select2.emptyText),this.resultsPerPage=this.config.resultsPerPage,this.mainFetcher=this.config.mainFetcher,this.className=this.config.className,this.disableEvent=this.config.events.disable,this.enableEvent=this.config.events.enable,this.addEvent=this.config.events.add},configure:function(){return e.isNull(this.enableEvent)||e.isNull(this.disableEvent)||(u.on(this.disableEvent,this.onDisable.bind(this)),u.on(this.enableEvent,this.onEnable.bind(this))),r.prototype.configure.apply(this,arguments)},render:function(){return this.$el.html(this.template()),this.$('input[type="hidden"]').prop("readonly",this.disabled),this.initializeSelectWidget(),this.delegateEvents(),this},initializeSelectWidget:function(){var e=this.$(this.targetElement),i={dropdownCssClass:"select2--bigDrop select2--annotedLabels "+this.config.select2.dropdownCssClass,formatResult:this.onGetResult.bind(this),query:this.onGetQuery.bind(this)};i=t.extend(!0,{},this.config.select2,i),e=d.init(e,i),u.once("hash_navigation_request:start",function(){e.select2("close"),e.select2("destroy")}),e.on("select2-selecting",this.onSelecting.bind(this)),e.on("select2-open",this.onSelectOpen.bind(this)),this.footerViewInstance=new this.footerView({buttonTitle:this.config.select2.buttonTitle,countTitle:this.config.select2.countTitle,addEvent:this.addEvent}),this.footerViewInstance.on(this.addEvent,function(){e.select2("close"),0<this.selection.length&&this.addItems()}.bind(this)),this.$(".select2-drop").append(this.footerViewInstance.render().$el)},addItems:function(){this.getRoot().trigger(this.addEvent,{codes:this.selection})},getSelectSearchParameters:function(e,i){return t.extend(!0,{},this.config.searchParameters,{search:e,options:{limit:this.resultsPerPage,page:i,locale:s.get("catalogLocale")}})},getItemsToExclude:function(){return t.Deferred().resolve([])},prepareChoices:function(t){return e.chain(e.sortBy(t,function(t){return t.sort_order})).map(function(t){return c.formatOne(t)}).value()},onGetResult:function(t){var i=e.findWhere(this.itemViews,{itemCode:t.id});return(e.isUndefined(i)||e.isNull(i))&&(i={itemCode:t.id,itemView:new this.lineView({checked:e.contains(this.selection,t.id),item:t})},this.itemViews.push(i)),i.itemView.render().$el},onGetQuery:function(t){clearTimeout(this.queryTimer),this.queryTimer=setTimeout(function(){var e=1;t.context&&t.context.page&&(e=t.context.page);var i=this.getSelectSearchParameters(t.term,e);this.fetchItems(i).then(function(i){var n=this.prepareChoices(i);t.callback({results:n,more:n.length===this.resultsPerPage,context:{page:e+1}})}.bind(this))}.bind(this),400)},fetchItems:function(t){return this.getItemsToExclude().then(function(e){return t.options.excluded_identifiers=e,l.getFetcher(this.mainFetcher).search(t)}.bind(this))},onSelecting:function(t){var i=t.val,n=e.contains(this.selection,i);n?this.selection=e.without(this.selection,i):this.selection.push(i),e.findWhere(this.itemViews,{itemCode:i}).itemView.setCheckedCheckbox(!n),this.updateSelectedCounter(),t.preventDefault()},onSelectOpen:function(){this.selection=[],this.itemViews=[],this.updateSelectedCounter()},updateSelectedCounter:function(){this.footerViewInstance.updateNumberOfItems(this.selection.length)},onDisable:function(){this.disabled=!0,this.render()},onEnable:function(){this.disabled=!1,this.render()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(59),i(12),i(37),i(10),i(6),i(7),i(11)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c){return n.extend({updateSuccessMessage:i("pim_import_export.entity.job_instance.flash.update.success"),updateFailureMessage:i("pim_import_export.entity.job_instance.flash.update.fail"),save:function(){var e=t.extend(!0,{},this.getFormData());return delete e.meta,delete e.connector,this.showLoadingMask(),this.getRoot().trigger("pim_enrich:form:entity:pre_save"),this.getJobInstanceSaver().save(e.code,e).then(function(t){this.postSave(),this.setData(t),this.getRoot().trigger("pim_enrich:form:entity:post_fetch",t),c.redirectToRoute(this.config.redirectPath,{code:e.code})}.bind(this)).fail(this.fail.bind(this)).always(this.hideLoadingMask.bind(this))}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<div class="tab-content">\n    <header data-drop-zone="header" class="AknAttributeActions tab-header attribute-actions">\n        <div data-drop-zone="edit-actions" class="AknAttributeActions-editActions attribute-edit-actions">\n            <div data-drop-zone="context-selectors" class="AknButtonList AknAttributeActions-contextSelectors context-selectors"></div>\n            <div data-drop-zone="other-actions" class="AknAttributeActions-otherActions AknButtonList AknButtonList--right other-actions"></div>\n        </div>\n    </header>\n    <div class="tab-pane active object-values"></div>\n</div>\n'},function(t,e){t.exports='<div class="history-block">\n    <table class="AknGrid expanded">\n        <thead>\n            <tr>\n                <th class="AknGrid-headerCell"></th>\n                <th class="AknGrid-headerCell version"><%- _.__(\'pim_enrich.entity.product.module.history.version\') %></th>\n                <th class="AknGrid-headerCell author"><%- _.__(\'pim_enrich.entity.product.module.history.author\') %></th>\n                <th class="AknGrid-headerCell loggedAt"><%- _.__(\'pim_enrich.entity.product.module.history.logged_at\') %></th>\n                <th class="AknGrid-headerCell changes"><%- _.__(\'pim_enrich.entity.product.module.history.modified\') %></th>\n                <% if (hasAction) { %><th class="AknGrid-headerCell actions"><%- _.__(\'pim_common.actions\') %></th><% } %>\n            </tr>\n        </thead>\n        <tbody>\n            <% _.each(versions, function(version) { %>\n                <tr data-version="<%- version.version %>" data-version-id="<%- version.id %>" class="AknGrid-bodyRow entity-version <%- expandedVersions.find(item => item == version.version) ? \'AknGrid-bodyRow--expanded\' : \'\' %>">\n                    <td class="AknGrid-bodyCell">\n                        <div class="version-expander AknGrid-expand <%- expandedVersions.find(item => item == version.version) ? \'AknGrid-expand--expanded\' : \'\' %>"></div>\n                    </td>\n                    <td class="AknGrid-bodyCell version" data-column="version"><span class="AknButton AknButton--grey"><%- version.version %></span></td>\n                    <td class="AknGrid-bodyCell AknGrid-bodyCell--noWrap AknGrid-bodyCell--highlight author" data-column="author"><%- version.author %><%- version.context ? \' (\' + version.context + \')\' : \'\' %></td>\n                    <td class="AknGrid-bodyCell AknGrid-bodyCell--noWrap loggedAt" data-column="loggedAt"><%- version.logged_at %></td>\n                    <td class="AknGrid-bodyCell AknGrid-bodyCell--truncatable changes" data-column="changes"><div class="AknGrid-truncatable" title="<%- _.keys(version.changeset).join(\', \') %>"><%- _.keys(version.changeset).join(\', \') %></div></td>\n                    <% if (hasAction) { %><td class="AknGrid-bodyCell actions"></td><% } %>\n                </tr>\n                <tr data-version="<%- version.version %>" class="AknGrid-bodyRow AknGrid-bodyRow--withoutTopBorder changeset <%- expandedVersions.find(item => item == version.version) ? \'\' : \'hide\' %>">\n                    <td class="AknGrid-bodyCell"></td>\n                    <td class="AknGrid-bodyCell"></td>\n                    <td class="AknGrid-bodyCell" colspan="<%- hasAction ? \'4\' : \'3\' %>">\n                        <table class="AknGrid table-history-details">\n                            <tbody>\n                                <% _.each(version.changeset, function(value) { %>\n                                    <tr class="AknGrid-bodyRow">\n                                        <td class="AknGrid-bodyCell AknGrid-bodyCell--highlightAlternative AknGrid-bodyCell--withoutBottomBorder property" colspan="2"><%= value.label %></td>\n                                    </tr>\n                                    <tr class="AknGrid-bodyRow AknGrid-bodyRow--wordBreakable">\n                                        <td class="AknGrid-bodyCell AknGrid-bodyCell--withoutTopBorder"><span class="AknDiff--remove"><%- _.__(\'pim_enrich.entity.product.module.history.old_value\') %>:</span> <span class="old-values"><%- value.old %></span></td>\n                                        <td class="AknGrid-bodyCell AknGrid-bodyCell--withoutTopBorder"><span class="AknDiff--add"><%- _.__(\'pim_enrich.entity.product.module.history.new_value\') %>:</span> <span class="new-values"><%- value.new %></span></td>\n                                    </tr>\n                                <% }); %>\n                            </tbody>\n                        </table>\n                    </td>\n                </tr>\n            <% }); %>\n        </tbody>\n    </table>\n</div>\n'},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(8),i(9),i(7),i(3),i(37),i(5),i(66),i(204),i(6),i(26),i(207),i(472),i(182),i(89),i(19),i(12),i(10)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c,u,d,p,h,f,m,g,v,b,y){var _=(t,n,r)=>{var o=document.createElement("div");o.className="AknSubsection",o.innerHTML=n({label:r,fieldCollection:t,__:i});var a=t.fields.sort((t,e)=>t.attribute.sort_order-e.attribute.sort_order).reduce((t,i)=>(e.defer(i.render.bind(i)),t.appendChild(i.el),t),document.createElement("div"));return o.appendChild(a),o};return a.extend({template:e.template(h),attributeGroupTemplate:e.template(f),noDataTemplate:e.template(m),className:"tabbable object-attributes",events:{"click .remove-attribute":"removeAttribute","click .required-attribute-indicator":"filterRequiredAttributes"},rendering:!1,initialize:function(t){this.config=t.config,a.prototype.initialize.apply(this,arguments)},configure:function(){return this.trigger("tab:register",{code:this.code,label:i(this.config.tabTitle)}),d.off("change:catalogLocale change:catalogScope",this.render),this.listenTo(d,"change:catalogLocale change:catalogScope",this.render),this.listenTo(this.getRoot(),"pim_enrich:form:entity:validation_error",this.render),this.listenTo(this.getRoot(),"pim_enrich:form:entity:post_fetch",this.render),this.listenTo(this.getRoot(),"pim_enrich:form:add-attribute:after",this.render),this.listenTo(this.getRoot(),"pim_enrich:form:show_attribute",this.showAttribute),this.listenTo(this.getRoot(),"pim_enrich:form:scope_switcher:pre_render",this.initScope.bind(this)),this.listenTo(this.getRoot(),"pim_enrich:form:scope_switcher:change",t=>{"base_product"===t.context&&(this.setScope(t.scopeCode,{silent:!0}),this.setScope(t.scopeCode))}),this.listenTo(this.getRoot(),"pim_enrich:form:locale_switcher:pre_render",this.initLocale.bind(this)),this.listenTo(this.getRoot(),"pim_enrich:form:locale_switcher:change",t=>{"base_product"===t.context&&this.setLocale(t.localeCode,{silent:!0})}),s.clearFields(),this.onExtensions("comparison:change",this.comparisonChange.bind(this)),this.onExtensions("copy:copy-fields:after",this.render.bind(this)),this.onExtensions("copy:select:after",this.render.bind(this)),this.onExtensions("copy:context:change",this.render.bind(this)),this.onExtensions("group:change",this.render.bind(this)),this.onExtensions("attribute_filter:change",this.render.bind(this)),a.prototype.configure.apply(this,arguments)},render:function(){if(!this.configured||this.rendering)return this;this.rendering=!0,this.$el.html(this.template({}));var n=this.getFormData();return u.getAttributeGroupsForObject(n).then(t=>{this.getExtension("attribute-group-selector").setElements(e.indexBy(t,"code")),s.clearVisibleFields()}).then(()=>this.filterValues(n.values)).then(t=>this.createFields(n,t)).then(r=>{this.rendering=!1,t.when(u.getAttributeGroupsForObject(n)).then(t=>{var o=d.get("catalogScope"),a=d.get("catalogLocale"),s=g.getMissingRequiredFields(n,o,a),l=e.values(r.reduce(((t,e)=>(i,n)=>{var r=Object.assign({},i);return void 0===r[n.attribute.group]&&(r[n.attribute.group]={attributeGroup:t[n.attribute.group],fields:[],toFill:0}),r[n.attribute.group].fields.push(n),-1!==e.indexOf(n.attribute.code)&&r[n.attribute.group].toFill++,r})(t,s),{})).sort((t,e)=>t.attributeGroup.sort_order-e.attributeGroup.sort_order),c=document.createElement("div"),u=!0,p=!1,h=void 0;try{for(var f,m,v=l[Symbol.iterator]();!(u=(f=v.next()).done);u=!0)m=f.value,c.appendChild(_(m,this.attributeGroupTemplate,y.getLabel(m.attributeGroup.labels,d.get("catalogLocale"),m.attributeGroup.code)))}catch(t){p=!0,h=t}finally{try{!u&&v.return&&v.return()}finally{if(p)throw h}}var b=this.$(".object-values").empty();e.isEmpty(r)?b.append(this.noDataTemplate({hint:"pim_datagrid.no_results",subHint:"pim_datagrid.no_results_subtitle",imageClass:"",__:i})):b.append(c),this.renderExtensions(),this.delegateEvents(),e.defer(this.sticky.bind(this))})}),null!==sessionStorage.getItem("filter_missing_required_attributes")&&(sessionStorage.removeItem("filter_missing_required_attributes"),this.filterRequiredAttributes()),this},createAttributeField:function(i,n,r){return s.getField(n).then(function(e){return t.when((new t.Deferred).resolve(e),l.getFetcher("channel").fetchAll(),c.isOptional(e.attribute,i))}).then(function(t,i,n){var o=e.findWhere(i,{code:d.get("catalogScope")}),a=d.get("catalogLocale");return t.setContext({entity:this.getFormData(),locale:a,scope:o.code,scopeLabel:y.getLabel(o.labels,a,o.code),uiLocale:d.get("catalogLocale"),optional:n,removable:p.isGranted(this.config.removeAttributeACL)}),t.setValues(r),s.addVisibleField(t.attribute.code),t}.bind(this))},removeAttribute:function(e){if(p.isGranted(this.config.removeAttributeACL)){var n=e.currentTarget.dataset.attribute,r=this.getFormData(),o=s.getFields();v.confirm(i("pim_enrich.entity.attribute.module.delete.confirm_from_product"),i("pim_common.confirm_deletion"),function(){l.getFetcher("attribute").fetch(n).then(function(e){t.ajax({type:"DELETE",url:this.generateRemoveAttributeUrl(e),contentType:"application/json"}).then(function(){this.triggerExtensions("add-attribute:update:available-attributes"),delete r.values[n],delete o[n],this.setData(r),this.getRoot().trigger("pim_enrich:form:remove-attribute:after"),this.render()}.bind(this)).fail(function(){b.notify("error",i(this.config.deletionFailed))})}.bind(this))}.bind(this))}},generateRemoveAttributeUrl:function(t){return o.generate(this.config.removeAttributeRoute,{code:this.getFormData().code,attributeId:t.meta.id})},initScope:function(t){"base_product"===t.context&&(void 0===this.getScope()?this.setScope(t.scopeCode,{silent:!0}):t.scopeCode=this.getScope())},setScope:function(t,e){d.set("catalogScope",t,e)},getScope:function(){return d.get("catalogScope")},initLocale:function(t){"base_product"===t.context&&(void 0===this.getLocale()?this.setLocale(t.localeCode,{silent:!0}):t.localeCode=this.getLocale())},setLocale:function(t,e){d.set("catalogLocale",t,e)},getLocale:function(){return d.get("catalogLocale")},postSave:function(){s.clearFields(),this.render()},showAttribute:function(t){this.getRoot().trigger("pim_enrich:form:form-tabs:change",this.code);var i=!1;t.scope&&(this.setScope(t.scope,{silent:!0}),i=!0),t.locale&&(this.setLocale(t.locale,{silent:!0}),i=!0),i&&this.render();var n=s.getFields();if(e.has(n,t.attribute)){var r=n[t.attribute];e.defer(r.setFocus.bind(r))}},comparisonChange:function(t){this.$el[t?"addClass":"removeClass"]("comparison-mode"),this.$el.find(".AknAttributeActions")[t?"addClass":"removeClass"]("AknAttributeActions--comparisonMode")},filterValues:function(e){if(!this.getExtension("attribute-group-selector").isAll()){var i={};this.getExtension("attribute-group-selector").getCurrentElement().attributes.forEach(t=>{void 0!==e[t]&&(i[t]=e[t])}),e=i}return void 0===this.getExtension("attribute-filter")?t.Deferred().resolve(e):this.getExtension("attribute-filter").filterValues(e)},createFields:function(i,n){return l.getFetcher("attribute").fetchByIdentifiers(Object.keys(n)).then(e=>t.when.apply(t,e.map(t=>this.createAttributeField(i,t.code,n[t.code])))).then(function(){return e.values(arguments)})},filterRequiredAttributes:function(){this.getRoot().trigger("pim_enrich:form:switch_values_filter","missing_required")},sticky:function(){var t=t=>e=>{e.style.position="sticky",e.style.top=`${t}px`},i=this.getZone("header");t(this.getRoot().headerSize())(i);var n=this.el.querySelectorAll(".AknSubsection-title");e.each(n,t(i.offsetHeight+this.getRoot().headerSize()))}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<div class="AknVariantNavigation-listItem">\n    <img class="AknVariantNavigation-listProductModelImage" src="<%- entity.image %>" alt="">\n    <span title="<%- entity.label %>" class="AknVariantNavigation-listProductModelLabel">\n        <%- entity.label %>\n    </span>\n    <% if (entity.completeness) { %>\n        <span class="AknVariantNavigation-listProductModelCompleteness AknVariantNavigation-listProductCompleteness--<%- getClass(entity.completeness.ratio) %>">\n            <%- entity.completeness.display %>\n        </span>\n    <% } %>\n</div>\n'},function(t,e,i){"use strict";var n,r;n=[i(1)],void 0===(r=function(t){return{options:{maxWidth:null,minWidth:null,container:null,storageKey:null},set(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.options=Object.assign(this.options,e);var i=this.options,n=i.maxWidth,r=i.minWidth,o=i.container;if(null===o)throw new Error("You must specify the container as an element or CSS selector");t(o).resizable({maxWidth:n,minWidth:r,handles:"e",create:this.restoreWidth.bind(this),stop:this.storeWidth.bind(this)})},destroy(){var e=t(this.options.container);void 0!==e.resizable("instance")&&e.resizable("destroy")},storeWidth(t,e){var i=this.options,n=i.minWidth,r=i.storageKey,o=e.size.width||n;localStorage.setItem(`resizable-${r}`,o)},restoreWidth(){var e=this.options,i=e.storageKey,n=e.container,r=e.minWidth,o=localStorage.getItem(`resizable-${i}`);t(n).outerWidth(o||r)}}}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(146),i(499),i(17)],void 0===(r=function(t,e,i){return e.extend({fieldTemplate:t.template(i),events:{"change select":"updateState"},render:function(){e.prototype.render.apply(this,arguments),this.$(".select2").select2()},getFieldValue:function(){return this.$("select").val()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(3),i(7),i(11),i(23),i(12),i(20),i(505)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c){return n.extend({template:e.template(c),events:{"click .AknButton":"launch"},initialize:function(t){this.config=t.config,n.prototype.initialize.apply(this,arguments)},render:function(){return this.isVisible().then(function(t){return this.$el.empty(),t?void this.$el.html(this.template({label:i(this.config.label)})):this}.bind(this)),this.delegateEvents(),this},launch:function(){var e=new l;e.render().$el.appendTo(this.getRoot().$el).show(),t.post(this.getUrl()).then(function(t){o.redirect(t.redirectUrl)}).fail(function(){s.notify("error",i("pim_import_export.form.job_instance.fail.launch"))}).always(function(){e.hide().$el.remove()})},getUrl:function(){var t={};return t[this.config.identifier.name]=a.accessProperty(this.getFormData(),this.config.identifier.path),r.generate(this.config.route,t)},isVisible:function(){return t.Deferred().resolve(!0).promise()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=i(1),a=i(65),s=i(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.configure=function(){var t=this;return o.when(a.prototype.configure.apply(this,arguments),s.getFetcher("locale").fetchActivated().then(function(e){t.config.choices=e}))},e.prototype.formatChoices=function(t){return t.reduce(function(t,e){return t[e.code]=e.label,t},{})},e}(a);t.exports=l},function(t,e){t.exports='<div class="AknFormContainer AknFormContainer--withPadding">\n    <div data-drop-zone="fields">\n        <% if (null !== fields) { %>\n            <%= fields %>\n        <% } %>\n    </div>\n</div>\n'},function(t,e){t.exports='<% if (attribute.localizable) { %>\n    <div class="AknTextareaField-layer AknTextareaField-layer--first"></div>\n    <div class="AknTextareaField-layer AknTextareaField-layer--second"></div>\n<% } %>\n<textarea\n    id="<%- fieldId %>"\n    class="AknTextareaField<% if (attribute.localizable) { %> AknTextareaField--localizable <% } %>"\n    data-locale="<%- locale %>"\n    data-scope="<%- scope %>"\n    <%- editMode === \'view\' ? \'disabled\' : \'\' %>\n><%- value ? value.data: null %></textarea>\n'},function(t,e,i){t.exports=!i(24)&&!i(16)(function(){return 7!=Object.defineProperty(i(148)("div"),"a",{get:function(){return 7}}).a})},function(t,e,i){e.f=i(21)},function(t,e,i){var n=i(42),r=i(43),o=i(120)(!1),a=i(150)("IE_PROTO");t.exports=function(t,e){var i,s=r(t),l=0,c=[];for(i in s)i!=a&&n(s,i)&&c.push(i);for(;e.length>l;)n(s,i=e[l++])&&(~o(c,i)||c.push(i));return c}},function(t,e,i){var n=i(25),r=i(13),o=i(79);t.exports=i(24)?Object.defineProperties:function(t,e){r(t);for(var i,a=o(e),s=a.length,l=0;s>l;)n.f(t,i=a[l++],e[i]);return t}},function(t,e,i){var n=i(43),r=i(82).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return a.slice()}}(t):r(n(t))}},function(t,e,i){"use strict";var n=i(79),r=i(121),o=i(105),a=i(27),s=i(104),l=Object.assign;t.exports=!l||i(16)(function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=l({},t)[i]||Object.keys(l({},e)).join("")!=n})?function(t,e){for(var i=a(t),l=arguments.length,c=1,u=r.f,d=o.f;l>c;)for(var p,h=s(arguments[c++]),f=u?n(h).concat(u(h)):n(h),m=f.length,g=0;m>g;)d.call(h,p=f[g++])&&(i[p]=h[p]);return i}:l},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,i){"use strict";var n=i(32),r=i(18),o=i(225),a=[].slice,s={};t.exports=Function.bind||function(t){var e=n(this),i=a.call(arguments,1),l=function(){var n=i.concat(a.call(arguments));return this instanceof l?function(t,e,i){if(!(e in s)){for(var n=[],r=0;r<e;r++)n[r]="a["+r+"]";s[e]=Function("F,a","return new F("+n.join(",")+")")}return s[e](t,i)}(e,n.length,n):o(e,n,t)};return r(e.prototype)&&(l.prototype=e.prototype),l}},function(t,e){t.exports=function(t,e,i){var n=void 0===i;switch(e.length){case 0:return n?t():t.call(i);case 1:return n?t(e[0]):t.call(i,e[0]);case 2:return n?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},function(t,e,i){var n=i(15).parseInt,r=i(93).trim,o=i(154),a=/^[-+]?0[xX]/;t.exports=8!==n(o+"08")||22!==n(o+"0x16")?function(t,e){var i=r(String(t),3);return n(i,e>>>0||(a.test(i)?16:10))}:n},function(t,e,i){var n=i(15).parseFloat,r=i(93).trim;t.exports=1/n(i(154)+"-0")!=-1/0?function(t){var e=r(String(t),3),i=n(e);return 0===i&&"-"==e.charAt(0)?-0:i}:n},function(t,e,i){var n=i(51);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=n(t))throw TypeError(e);return+t}},function(t,e,i){var n=i(18),r=Math.floor;t.exports=function(t){return!n(t)&&isFinite(t)&&r(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,i){var n=i(157),r=Math.pow,o=r(2,-52),a=r(2,-23),s=r(2,127)*(2-a),l=r(2,-126);t.exports=Math.fround||function(t){var e,i,r=Math.abs(t),c=n(t);return r<l?c*(r/l/a+1/o-1/o)*l*a:(i=(e=(1+a/o)*r)-(e-r))>s||i!=i?c*(1/0):c*i}},function(t,e,i){var n=i(13);t.exports=function(t,e,i,r){try{return r?e(n(i)[0],i[1]):e(i)}catch(e){var o=t.return;throw void 0!==o&&n(o.call(t)),e}}},function(t,e,i){var n=i(32),r=i(27),o=i(104),a=i(22);t.exports=function(t,e,i,s,l){n(e);var c=r(t),u=o(c),d=a(c.length),p=l?d-1:0,h=l?-1:1;if(i<2)for(;;){if(p in u){s=u[p],p+=h;break}if(p+=h,l?p<0:d<=p)throw TypeError("Reduce of empty array with no initial value")}for(;l?p>=0:d>p;p+=h)p in u&&(s=e(s,u[p],p,c));return s}},function(t,e,i){"use strict";var n=i(27),r=i(80),o=i(22);t.exports=[].copyWithin||function(t,e){var i=n(this),a=o(i.length),s=r(t,a),l=r(e,a),c=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===c?a:r(c,a))-l,a-s),d=1;for(l<s&&s<l+u&&(d=-1,l+=u-1,s+=u-1);u-- >0;)l in i?i[s]=i[l]:delete i[s],s+=d,l+=d;return i}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,i){"use strict";var n=i(169);i(4)({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},function(t,e,i){i(24)&&"g"!=/./g.flags&&i(25).f(RegExp.prototype,"flags",{configurable:!0,get:i(106)})},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,i){var n=i(13),r=i(18),o=i(173);t.exports=function(t,e){if(n(t),r(e)&&e.constructor===t)return e;var i=o.f(t);return(0,i.resolve)(e),i.promise}},function(t,e,i){"use strict";var n=i(241),r=i(95);t.exports=i(129)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=n.getEntry(r(this,"Map"),t);return e&&e.v},set:function(t,e){return n.def(r(this,"Map"),0===t?0:t,e)}},n,!0)},function(t,e,i){"use strict";var n=i(25).f,r=i(81),o=i(86),a=i(50),s=i(84),l=i(85),c=i(159),u=i(235),d=i(83),p=i(24),h=i(69).fastKey,f=i(95),m=p?"_s":"size",g=function(t,e){var i,n=h(e);if("F"!==n)return t._i[n];for(i=t._f;i;i=i.n)if(i.k==e)return i};t.exports={getConstructor:function(t,e,i,c){var u=t(function(t,n){s(t,u,e,"_i"),t._t=e,t._i=r(null),t._f=void 0,t._l=void 0,t[m]=0,void 0!=n&&l(n,i,t[c],t)});return o(u.prototype,{clear:function(){for(var t=f(this,e),i=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete i[n.i];t._f=t._l=void 0,t[m]=0},delete:function(t){var i=f(this,e),n=g(i,t);if(n){var r=n.n,o=n.p;delete i._i[n.i],n.r=!0,o&&(o.n=r),r&&(r.p=o),i._f==n&&(i._f=r),i._l==n&&(i._l=o),i[m]--}return!!n},forEach:function(t){f(this,e);for(var i,n=a(t,arguments.length>1?arguments[1]:void 0,3);i=i?i.n:this._f;)for(n(i.v,i.k,this);i&&i.r;)i=i.p},has:function(t){return!!g(f(this,e),t)}}),p&&n(u.prototype,"size",{get:function(){return f(this,e)[m]}}),u},def:function(t,e,i){var n,r,o=g(t,e);return o?o.v=i:(t._l=o={i:r=h(e,!0),k:e,v:i,p:n=t._l,n:void 0,r:!1},t._f||(t._f=o),n&&(n.n=o),t[m]++,"F"!==r&&(t._i[r]=o)),t},getEntry:g,setStrong:function(t,e,i){c(t,e,function(t,i){this._t=f(t,e),this._k=i,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?u(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,u(1))},i?"entries":"values",!i,!0),d(e)}}},function(t,e,i){"use strict";var n=i(241),r=i(95);t.exports=i(129)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return n.def(r(this,"Set"),t=0===t?0:t,t)}},n)},function(t,e,i){"use strict";var n,r=i(57)(0),o=i(39),a=i(69),s=i(222),l=i(244),c=i(18),u=i(16),d=i(95),p=a.getWeak,h=Object.isExtensible,f=l.ufstore,m={},g=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},v={get:function(t){if(c(t)){var e=p(t);return!0===e?f(d(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return l.def(d(this,"WeakMap"),t,e)}},b=t.exports=i(129)("WeakMap",g,v,l,!0,!0);u(function(){return 7!=(new b).set((Object.freeze||Object)(m),7).get(m)})&&(s((n=l.getConstructor(g,"WeakMap")).prototype,v),a.NEED=!0,r(["delete","has","get","set"],function(t){var e=b.prototype,i=e[t];o(e,t,function(e,r){if(c(e)&&!h(e)){this._f||(this._f=new n);var o=this._f[t](e,r);return"set"==t?this:o}return i.call(this,e,r)})}))},function(t,e,i){"use strict";var n=i(86),r=i(69).getWeak,o=i(13),a=i(18),s=i(84),l=i(85),c=i(57),u=i(42),d=i(95),p=c(5),h=c(6),f=0,m=function(t){return t._l||(t._l=new g)},g=function(){this.a=[]},v=function(t,e){return p(t.a,function(t){return t[0]===e})};g.prototype={get:function(t){var e=v(this,t);if(e)return e[1]},has:function(t){return!!v(this,t)},set:function(t,e){var i=v(this,t);i?i[1]=e:this.a.push([t,e])},delete:function(t){var e=h(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,i,o){var c=t(function(t,n){s(t,c,e,"_i"),t._t=e,t._i=f++,t._l=void 0,void 0!=n&&l(n,i,t[o],t)});return n(c.prototype,{delete:function(t){if(!a(t))return!1;var i=r(t);return!0===i?m(d(this,e)).delete(t):i&&u(i,this._i)&&delete i[this._i]},has:function(t){if(!a(t))return!1;var i=r(t);return!0===i?m(d(this,e)).has(t):i&&u(i,this._i)}}),c},def:function(t,e,i){var n=r(o(e),!0);return!0===n?m(t).set(e,i):n[t._i]=i,t},ufstore:m}},function(t,e,i){var n=i(52),r=i(22);t.exports=function(t){if(void 0===t)return 0;var e=n(t),i=r(e);if(e!==i)throw RangeError("Wrong length!");return i}},function(t,e,i){var n=i(82),r=i(121),o=i(13),a=i(15).Reflect;t.exports=a&&a.ownKeys||function(t){var e=n.f(o(t)),i=r.f;return i?e.concat(i(t)):e}},function(t,e,i){"use strict";var n=i(122),r=i(18),o=i(22),a=i(50),s=i(21)("isConcatSpreadable");t.exports=function t(e,i,l,c,u,d,p,h){for(var f,m,g=u,v=0,b=!!p&&a(p,h,3);v<c;){if(v in l){if(f=b?b(l[v],v,i):l[v],m=!1,r(f)&&(m=void 0!==(m=f[s])?!!m:n(f)),m&&d>0)g=t(e,i,f,o(f.length),g,d-1)-1;else{if(g>=9007199254740991)throw TypeError();e[g]=f}g++}v++}return g}},function(t,e,i){var n=i(22),r=i(156),o=i(55);t.exports=function(t,e,i,a){var s=String(o(t)),l=s.length,c=void 0===i?" ":String(i),u=n(e);if(u<=l||""==c)return s;var d=u-l,p=r.call(c,Math.ceil(d/c.length));return p.length>d&&(p=p.slice(0,d)),a?p+s:s+p}},function(t,e,i){var n=i(79),r=i(43),o=i(105).f;t.exports=function(t){return function(e){for(var i,a=r(e),s=n(a),l=s.length,c=0,u=[];l>c;)o.call(a,i=s[c++])&&u.push(t?[i,a[i]]:a[i]);return u}}},function(t,e,i){var n=i(92),r=i(251);t.exports=function(t){return function(){if(n(this)!=t)throw TypeError(t+"#toJSON isn't generic");return r(this)}}},function(t,e,i){var n=i(85);t.exports=function(t,e){var i=[];return n(t,!1,i.push,i,e),i}},function(t,e){t.exports=Math.scale||function(t,e,i,n,r){return 0===arguments.length||t!=t||e!=e||i!=i||n!=n||r!=r?NaN:t===1/0||t===-1/0?t:(t-e)*(r-n)/(i-e)+n}},function(t,e){!function(){var t,e=this;function i(t,i){var n,r=t.split("."),o=e;!(r[0]in o)&&o.execScript&&o.execScript("var "+r[0]);for(;r.length&&(n=r.shift());)r.length||void 0===i?o=o[n]?o[n]:o[n]={}:o[n]=i}var n,r,o,a,s,l=Array.prototype,c=l.forEach?function(t,e,i){l.forEach.call(t,e,i)}:function(t,e,i){for(var n=t.length,r="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in r&&e.call(i,r[o],o,t)};function u(t,e){if(this.c={},this.a=[],1<(r=arguments.length)){if(r%2)throw Error("Uneven number of arguments");for(var i=0;i<r;i+=2)this.set(arguments[i],arguments[i+1])}else if(t){var n;if(t instanceof u)for(d(t),i=t.a.concat(),d(t),n=[],r=0;r<t.a.length;r++)n.push(t.c[t.a[r]]);else{var r=[],o=0;for(i in t)r[o++]=i;for(n in i=r,r=[],o=0,t)r[o++]=t[n];n=r}for(r=0;r<i.length;r++)this.set(i[r],n[r])}}function d(t){if(t.f!=t.a.length){for(var e=0,i=0;e<t.a.length;){var n=t.a[e];p(t.c,n)&&(t.a[i++]=n),e++}t.a.length=i}if(t.f!=t.a.length){var r={};for(i=e=0;e<t.a.length;)p(r,n=t.a[e])||(t.a[i++]=n,r[n]=1),e++;t.a.length=i}}function p(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function h(){return e.navigator?e.navigator.userAgent:null}if(u.prototype.f=0,u.prototype.p=0,u.prototype.get=function(t,e){return p(this.c,t)?this.c[t]:e},u.prototype.set=function(t,e){p(this.c,t)||(this.f++,this.a.push(t),this.p++),this.c[t]=e},a=o=r=n=!1,s=h()){var f=e.navigator;r=!(n=0==s.indexOf("Opera"))&&-1!=s.indexOf("MSIE"),o=!n&&-1!=s.indexOf("WebKit"),a=!n&&!o&&"Gecko"==f.product}var m,g=r,v=a,b=o;if(n&&e.opera){var y=e.opera.version;"function"==typeof y&&y()}else v?m=/rv\:([^\);]+)(\)|;)/:g?m=/MSIE\s+([^\);]+)(\)|;)/:b&&(m=/WebKit\/(\S+)/),m&&m.exec(h());function _(t,e){this.b=t||{e:"",prefix:"",host:"",scheme:""},this.h(e||{})}function k(t,e,i,n){var r,o=RegExp(/\[\]$/);if(i instanceof Array)c(i,function(i,r){o.test(e)?n(e,i):k(t,e+"["+("object"==typeof i?r:"")+"]",i,n)});else if("object"==typeof i)for(r in i)k(t,e+"["+r+"]",i[r],n);else n(e,i)}_.g=function(){return _.j?_.j:_.j=new _},(t=_.prototype).h=function(t){this.d=new u(t)},t.o=function(){return this.d},t.k=function(t){this.b.e=t},t.n=function(){return this.b.e},t.l=function(t){this.b.prefix=t},t.i=function(t){var e=this.b.prefix+t;if(p(this.d.c,e))t=e;else if(!p(this.d.c,t))throw Error('The route "'+t+'" does not exist.');return this.d.get(t)},t.m=function(t,e,i){var n,r=this.i(t),o=e||{},a={};for(n in o)a[n]=o[n];var s="",l=!0,u="";c(r.tokens,function(e){if("text"===e[0])s=e[1]+s,l=!1;else{if("variable"!==e[0])throw Error('The token type "'+e[0]+'" is not supported.');var i=e[3]in r.defaults;if(!1===l||!i||e[3]in o&&o[e[3]]!=r.defaults[e[3]]){if(e[3]in o){i=o[e[3]];var n=e[3];n in a&&delete a[n]}else{if(!i){if(l)return;throw Error('The route "'+t+'" requires the parameter "'+e[3]+'".')}i=r.defaults[e[3]]}(!0!==i&&!1!==i&&""!==i||!l)&&("null"===(n=encodeURIComponent(i).replace(/%2F/g,"/"))&&null===i&&(n=""),s=e[1]+n+s),l=!1}else i&&((e=e[3])in a&&delete a[e])}}),""===s&&(s="/"),c(r.hosttokens,function(t){var e;if("text"===t[0])u=t[1]+u;else if("variable"===t[0]){if(t[3]in o){e=o[t[3]];var i=t[3];i in a&&delete a[i]}else t[3]in r.defaults&&(e=r.defaults[t[3]]);u=t[1]+e+u}}),s=this.b.e+s,"_scheme"in r.requirements&&this.b.scheme!=r.requirements._scheme?s=r.requirements._scheme+"://"+(u||this.b.host)+s:u&&this.b.host!==u?s=this.b.scheme+"://"+u+s:!0===i&&(s=this.b.scheme+"://"+this.b.host+s);var d;e=0;for(d in a)e++;if(0<e){var p,h=[];for(p in d=function(t,e){e="function"==typeof e?e():e,h.push(encodeURIComponent(t)+"="+encodeURIComponent(null===e?"":e))},a)k(this,p,a[p],d);s=s+"?"+h.join("&").replace(/%20/g,"+")}return s},i("fos.Router",_),i("fos.Router.setData",function(t){var e=_.g();e.k(t.base_url),e.h(t.routes),"prefix"in t&&e.l(t.prefix),e.b.host=t.host,e.b.scheme=t.scheme}),_.getInstance=_.g,_.prototype.setRoutes=_.prototype.h,_.prototype.getRoutes=_.prototype.o,_.prototype.setBaseUrl=_.prototype.k,_.prototype.getBaseUrl=_.prototype.n,_.prototype.generate=_.prototype.m,_.prototype.setPrefix=_.prototype.l,_.prototype.getRoute=_.prototype.i,window.Routing=_.g()}()},function(t,e){fos.Router.setData({base_url:"",routes:{pim_enrich_locale_index:{tokens:[["text","/configuration/locale/"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_locale_rest_index:{tokens:[["text","/configuration/locale/rest"]],defaults:[],requirements:[],hosttokens:[]},pim_api_locale_list:{tokens:[["text","/api/rest/v1/locales"]],defaults:[],requirements:[],hosttokens:[]},pim_api_locale_get:{tokens:[["variable","/","[^/]++","code"],["text","/api/rest/v1/locales"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_channel_index:{tokens:[["text","/configuration/channel/"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_channel_create:{tokens:[["text","/configuration/channel/create"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_channel_edit:{tokens:[["text","/edit"],["variable","/","[a-zA-Z0-9_]+","code"],["text","/configuration/channel"]],defaults:[],requirements:{code:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_enrich_channel_rest_index:{tokens:[["text","/configuration/channel/rest"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_channel_rest_get:{tokens:[["variable","/","[^/]++","identifier"],["text","/configuration/channel/rest"]],defaults:[],requirements:{code:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_enrich_channel_rest_post:{tokens:[["text","/configuration/channel/rest"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_channel_rest_put:{tokens:[["variable","/","[a-zA-Z0-9_]+","code"],["text","/configuration/channel/rest"]],defaults:[],requirements:{code:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_enrich_channel_rest_remove:{tokens:[["variable","/","[a-zA-Z0-9_]+","code"],["text","/configuration/channel/rest"]],defaults:[],requirements:{code:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_api_channel_list:{tokens:[["text","/api/rest/v1/channels"]],defaults:[],requirements:[],hosttokens:[]},pim_api_channel_get:{tokens:[["variable","/","[^/]++","code"],["text","/api/rest/v1/channels"]],defaults:[],requirements:[],hosttokens:[]},pim_api_channel_create:{tokens:[["text","/api/rest/v1/channels"]],defaults:[],requirements:[],hosttokens:[]},pim_api_channel_partial_update:{tokens:[["variable","/","[^/]++","code"],["text","/api/rest/v1/channels"]],defaults:[],requirements:[],hosttokens:[]},pim_api_channel_partial_update_list:{tokens:[["text","/api/rest/v1/channels"]],defaults:[],requirements:[],hosttokens:[]},pim_api_currency_list:{tokens:[["text","/api/rest/v1/currencies"]],defaults:[],requirements:[],hosttokens:[]},pim_api_currency_get:{tokens:[["variable","/","[^/]++","code"],["text","/api/rest/v1/currencies"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_currency_rest_index:{tokens:[["text","/configuration/currency/rest"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_currency_index:{tokens:[["text","/configuration/currency/"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_currency_toggle:{tokens:[["text","/toggle"],["variable","/","\\d+","id"],["text","/configuration/currency"]],defaults:[],requirements:{id:"\\d+"},hosttokens:[]},pim_api_attribute_list:{tokens:[["text","/api/rest/v1/attributes"]],defaults:[],requirements:[],hosttokens:[]},pim_api_attribute_create:{tokens:[["text","/api/rest/v1/attributes"]],defaults:[],requirements:[],hosttokens:[]},pim_api_attribute_partial_update:{tokens:[["variable","/","[^/]++","code"],["text","/api/rest/v1/attributes"]],defaults:[],requirements:[],hosttokens:[]},pim_api_attribute_get:{tokens:[["variable","/","[^/]++","code"],["text","/api/rest/v1/attributes"]],defaults:[],requirements:[],hosttokens:[]},pim_api_attribute_partial_update_list:{tokens:[["text","/api/rest/v1/attributes"]],defaults:[],requirements:[],hosttokens:[]},pim_api_attribute_option_list:{tokens:[["text","/options"],["variable","/","[^/]++","attributeCode"],["text","/api/rest/v1/attributes"]],defaults:[],requirements:[],hosttokens:[]},pim_api_attribute_option_create:{tokens:[["text","/options"],["variable","/","[^/]++","attributeCode"],["text","/api/rest/v1/attributes"]],defaults:[],requirements:[],hosttokens:[]},pim_api_attribute_option_partial_update:{tokens:[["variable","/","[^/]++","code"],["text","/options"],["variable","/","[^/]++","attributeCode"],["text","/api/rest/v1/attributes"]],defaults:[],requirements:[],hosttokens:[]},pim_api_attribute_option_partial_update_list:{tokens:[["text","/options"],["variable","/","[^/]++","attributeCode"],["text","/api/rest/v1/attributes"]],defaults:[],requirements:[],hosttokens:[]},pim_api_attribute_option_get:{tokens:[["variable","/","[^/]++","code"],["text","/options"],["variable","/","[^/]++","attributeCode"],["text","/api/rest/v1/attributes"]],defaults:[],requirements:[],hosttokens:[]},pim_api_attribute_group_list:{tokens:[["text","/api/rest/v1/attribute-groups"]],defaults:[],requirements:[],hosttokens:[]},pim_api_attribute_group_create:{tokens:[["text","/api/rest/v1/attribute-groups"]],defaults:[],requirements:[],hosttokens:[]},pim_api_attribute_group_get:{tokens:[["variable","/","[^/]++","code"],["text","/api/rest/v1/attribute-groups"]],defaults:[],requirements:[],hosttokens:[]},pim_api_attribute_group_partial_update:{tokens:[["variable","/","[^/]++","code"],["text","/api/rest/v1/attribute-groups"]],defaults:[],requirements:[],hosttokens:[]},pim_api_attribute_group_partial_update_list:{tokens:[["text","/api/rest/v1/attribute-groups"]],defaults:[],requirements:[],hosttokens:[]},pim_api_family_list:{tokens:[["text","/api/rest/v1/families"]],defaults:[],requirements:[],hosttokens:[]},pim_api_family_get:{tokens:[["variable","/","[^/]++","code"],["text","/api/rest/v1/families"]],defaults:[],requirements:[],hosttokens:[]},pim_api_family_create:{tokens:[["text","/api/rest/v1/families"]],defaults:[],requirements:[],hosttokens:[]},pim_api_family_partial_update:{tokens:[["variable","/","[^/]++","code"],["text","/api/rest/v1/families"]],defaults:[],requirements:[],hosttokens:[]},pim_api_family_partial_update_list:{tokens:[["text","/api/rest/v1/families"]],defaults:[],requirements:[],hosttokens:[]},pim_api_family_variant_list:{tokens:[["text","/variants"],["variable","/","[^/]++","familyCode"],["text","/api/rest/v1/families"]],defaults:[],requirements:[],hosttokens:[]},pim_api_family_variant_get:{tokens:[["variable","/","[^/]++","code"],["text","/variants"],["variable","/","[^/]++","familyCode"],["text","/api/rest/v1/families"]],defaults:[],requirements:[],hosttokens:[]},pim_api_family_variant_create:{tokens:[["text","/variants"],["variable","/","[^/]++","familyCode"],["text","/api/rest/v1/families"]],defaults:[],requirements:[],hosttokens:[]},pim_api_family_variant_partial_update:{tokens:[["variable","/","[^/]++","code"],["text","/variants"],["variable","/","[^/]++","familyCode"],["text","/api/rest/v1/families"]],defaults:[],requirements:[],hosttokens:[]},pim_api_family_variant_partial_update_list:{tokens:[["text","/variants"],["variable","/","[^/]++","familyCode"],["text","/api/rest/v1/families"]],defaults:[],requirements:[],hosttokens:[]},pim_api_association_type_list:{tokens:[["text","/api/rest/v1/association-types"]],defaults:[],requirements:[],hosttokens:[]},pim_api_association_type_get:{tokens:[["variable","/","[^/]++","code"],["text","/api/rest/v1/association-types"]],defaults:[],requirements:[],hosttokens:[]},pim_api_association_type_create:{tokens:[["text","/api/rest/v1/association-types"]],defaults:[],requirements:[],hosttokens:[]},pim_api_association_type_partial_update:{tokens:[["variable","/","[^/]++","code"],["text","/api/rest/v1/association-types"]],defaults:[],requirements:[],hosttokens:[]},pim_api_association_type_partial_update_list:{tokens:[["text","/api/rest/v1/association-types"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_attribute_rest_index:{tokens:[["text","/rest/attribute/"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_attribute_rest_create:{tokens:[["text","/rest/attribute/"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_attribute_rest_get:{tokens:[["variable","/","[a-zA-Z0-9_]+","identifier"],["text","/rest/attribute"]],defaults:[],requirements:{identifier:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_enrich_attribute_rest_post:{tokens:[["variable","/","[a-zA-Z0-9_]+","identifier"],["text","/rest/attribute"]],defaults:[],requirements:{identifier:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_enrich_attribute_rest_remove:{tokens:[["variable","/","[^/]++","code"],["text","/rest/attribute"]],defaults:[],requirements:{identifier:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_enrich_attribute_axes_index:{tokens:[["text","/rest/attribute/axes"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_attributegroup_rest_index:{tokens:[["text","/rest/attribute-group/"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_attributegroup_rest_search:{tokens:[["text","/rest/attribute-group/"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_attributegroup_rest_create:{tokens:[["text","/rest/attribute-group/"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_attributegroup_rest_sort:{tokens:[["text","/rest/attribute-group/"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_attributegroup_rest_get:{tokens:[["variable","/","[a-zA-Z0-9_]+","identifier"],["text","/rest/attribute-group"]],defaults:[],requirements:{identifier:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_enrich_attributegroup_rest_post:{tokens:[["variable","/","[a-zA-Z0-9_]+","identifier"],["text","/rest/attribute-group"]],defaults:[],requirements:{identifier:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_enrich_attributegroup_rest_remove:{tokens:[["variable","/","[a-zA-Z0-9_]+","identifier"],["text","/rest/attribute-group"]],defaults:[],requirements:{identifier:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_enrich_family_rest_create:{tokens:[["text","/configuration/family/rest"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_family_rest_index:{tokens:[["text","/configuration/family/rest"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_family_index_get_variants:{tokens:[["text","/configuration/family/rest/variants"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_family_rest_get:{tokens:[["variable","/","[a-zA-Z0-9_]+","identifier"],["text","/configuration/family/rest"]],defaults:[],requirements:{identifier:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_enrich_family_rest_put:{tokens:[["variable","/","[a-zA-Z0-9_]+","code"],["text","/configuration/family/rest"]],defaults:[],requirements:{code:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_enrich_family_rest_remove:{tokens:[["variable","/","[a-zA-Z0-9_]+","code"],["text","/configuration/family/rest"]],defaults:[],requirements:{code:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_enrich_family_variant_rest_get:{tokens:[["variable","/","[a-zA-Z0-9_]+","identifier"],["text","/configuration/family/rest/family_variant"]],defaults:[],requirements:{identifier:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_enrich_family_rest_get_available_axes:{tokens:[["text","/available_axes"],["variable","/","[a-zA-Z0-9_]+","code"],["text","/configuration/family/rest"]],defaults:[],requirements:{code:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_enrich_family_variant_rest_index:{tokens:[["text","/configuration/family-variant/rest"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_family_variant_rest_create:{tokens:[["text","/configuration/family-variant/rest"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_family_variant_rest_put:{tokens:[["variable","/","[a-zA-Z0-9_]+","identifier"],["text","/configuration/family-variant/rest"]],defaults:[],requirements:{identifier:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_enrich_family_variant_rest_remove:{tokens:[["variable","/","[a-zA-Z0-9_]+","familyVariantCode"],["text","/configuration/family-variant/rest"]],defaults:[],requirements:{familyVariantCode:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_enrich_attributeoption_index:{tokens:[["variable","/","\\d+","attributeId"],["text","/configuration/attribute-option"]],defaults:[],requirements:{attributeId:"\\d+"},hosttokens:[]},pim_enrich_attributeoption_create:{tokens:[["variable","/","\\d+","attributeId"],["text","/configuration/attribute-option"]],defaults:[],requirements:{attributeId:"\\d+"},hosttokens:[]},pim_enrich_attributeoption_update:{tokens:[["variable","/","\\d+","attributeOptionId"],["variable","/","\\d+","attributeId"],["text","/configuration/attribute-option"]],defaults:[],requirements:{attributeId:"\\d+",attributeOptionId:"\\d+"},hosttokens:[]},pim_enrich_attributeoption_delete:{tokens:[["variable","/","\\d+","attributeOptionId"],["variable","/","\\d+","attributeId"],["text","/configuration/attribute-option"]],defaults:[],requirements:{attributeId:"\\d+",attributeOptionId:"\\d+"},hosttokens:[]},pim_enrich_attributeoption_update_sorting:{tokens:[["text","/update-sorting"],["variable","/","\\d+","attributeId"],["text","/configuration/attribute-option"]],defaults:[],requirements:{attributeId:"\\d+"},hosttokens:[]},pim_enrich_attributeoption_get:{tokens:[["text","/option"],["variable","/","[a-zA-Z0-9_]+","identifier"],["text","/configuration/attribute-option/attribute"]],defaults:[],requirements:{identifier:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_enrich_attribute_type_index:{tokens:[["text","/rest/attribute-type/"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_associationtype_index:{tokens:[["text","/configuration/association-type/"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_associationtype_rest_create:{tokens:[["text","/configuration/association-type/rest"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_associationtype_rest_index:{tokens:[["text","/configuration/association-type/rest"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_associationtype_rest_get:{tokens:[["variable","/","[a-zA-Z0-9_]+","identifier"],["text","/configuration/association-type/rest"]],defaults:[],requirements:{identifier:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_enrich_associationtype_rest_post:{tokens:[["variable","/","[a-zA-Z0-9_]+","identifier"],["text","/configuration/association-type/rest"]],defaults:[],requirements:{identifier:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_enrich_associationtype_rest_remove:{tokens:[["variable","/","[a-zA-Z0-9_]+","code"],["text","/configuration/association-type/rest"]],defaults:[],requirements:{code:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_reference_data_configuration_rest_get:{tokens:[["text","/rest/reference-data-configuration/"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_grouptype_rest_create:{tokens:[["text","/configuration/group-type/rest"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_grouptype_rest_index:{tokens:[["text","/configuration/group-type/rest"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_grouptype_rest_get:{tokens:[["variable","/","[a-zA-Z0-9_]+","identifier"],["text","/configuration/group-type/rest"]],defaults:[],requirements:{identifier:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_enrich_grouptype_rest_post:{tokens:[["variable","/","[a-zA-Z0-9_]+","identifier"],["text","/configuration/group-type/rest"]],defaults:[],requirements:{identifier:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_enrich_grouptype_rest_remove:{tokens:[["variable","/","[a-zA-Z0-9_]+","code"],["text","/configuration/group-type/rest"]],defaults:[],requirements:{code:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_enrich_attribute_index:{tokens:[["text","/configuration/attribute/"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_attribute_create:{tokens:[["text","/configuration/attribute/create"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_attribute_edit:{tokens:[["text","/edit"],["variable","/","[a-zA-Z0-9_]+","code"],["text","/configuration/attribute"]],defaults:[],requirements:{code:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_enrich_attributegroup_index:{tokens:[["text","/configuration/attribute-group/"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_attributegroup_create:{tokens:[["text","/configuration/attribute-group/create"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_attributegroup_edit:{tokens:[["text","/edit"],["variable","/","[a-zA-Z0-9_]+","identifier"],["text","/configuration/attribute-group"]],defaults:[],requirements:{identifier:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_enrich_family_index:{tokens:[["text","/configuration/family/"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_family_edit:{tokens:[["text","/edit"],["variable","/","[a-zA-Z0-9_]+","code"],["text","/configuration/family"]],defaults:[],requirements:{code:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_enrich_associationtype_edit:{tokens:[["text","/edit"],["variable","/","[a-zA-Z0-9_]+","code"],["text","/configuration/association-type"]],defaults:[],requirements:{code:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_enrich_grouptype_index:{tokens:[["text","/configuration/group-type/"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_grouptype_edit:{tokens:[["text","/edit"],["variable","/","[a-zA-Z0-9_]+","code"],["text","/configuration/group-type"]],defaults:[],requirements:{code:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_comment_comment_create:{tokens:[["text","/comment/create"]],defaults:[],requirements:[],hosttokens:[]},pim_comment_comment_reply:{tokens:[["text","/comment/reply"]],defaults:[],requirements:[],hosttokens:[]},pim_comment_comment_delete:{tokens:[["text","/remove"],["variable","/","\\d+","id"],["text","/comment"]],defaults:[],requirements:{id:"\\d+"},hosttokens:[]},pim_localization_format_index:{tokens:[["text","/localization/format"]],defaults:[],requirements:[],hosttokens:[]},pim_localization_format_date:{tokens:[["text","/localization/format/date"]],defaults:[],requirements:[],hosttokens:[]},pim_api_product_model_list:{tokens:[["text","/api/rest/v1/product-models"]],defaults:[],requirements:[],hosttokens:[]},pim_api_product_model_get:{tokens:[["variable","/","[^/]++","code"],["text","/api/rest/v1/product-models"]],defaults:[],requirements:[],hosttokens:[]},pim_api_product_model_create:{tokens:[["text","/api/rest/v1/product-models"]],defaults:[],requirements:[],hosttokens:[]},pim_api_product_model_partial_update:{tokens:[["variable","/","[^/]++","code"],["text","/api/rest/v1/product-models"]],defaults:[],requirements:[],hosttokens:[]},pim_api_product_model_partial_update_list:{tokens:[["text","/api/rest/v1/product-models"]],defaults:[],requirements:[],hosttokens:[]},pim_api_category_list:{tokens:[["text","/api/rest/v1/categories"]],defaults:[],requirements:[],hosttokens:[]},pim_api_category_get:{tokens:[["variable","/","[^/]++","code"],["text","/api/rest/v1/categories"]],defaults:[],requirements:[],hosttokens:[]},pim_api_category_create:{tokens:[["text","/api/rest/v1/categories"]],defaults:[],requirements:[],hosttokens:[]},pim_api_category_partial_update:{tokens:[["variable","/","[^/]++","code"],["text","/api/rest/v1/categories"]],defaults:[],requirements:[],hosttokens:[]},pim_api_category_partial_update_list:{tokens:[["text","/api/rest/v1/categories"]],defaults:[],requirements:[],hosttokens:[]},pim_api_product_list:{tokens:[["text","/api/rest/v1/products"]],defaults:[],requirements:[],hosttokens:[]},pim_api_product_get:{tokens:[["variable","/","(.+$)(?<!/draft|/proposal)","code"],["text","/api/rest/v1/products"]],defaults:[],requirements:{code:"(.+$)(?<!/draft|/proposal)"},hosttokens:[]},pim_api_product_create:{tokens:[["text","/api/rest/v1/products"]],defaults:[],requirements:[],hosttokens:[]},pim_api_product_partial_update:{tokens:[["variable","/","(.+$)(?<!/draft|/proposal)","code"],["text","/api/rest/v1/products"]],defaults:[],requirements:{code:"(.+$)(?<!/draft|/proposal)"},hosttokens:[]},pim_api_product_partial_update_list:{tokens:[["text","/api/rest/v1/products"]],defaults:[],requirements:[],hosttokens:[]},pim_api_product_delete:{tokens:[["variable","/","(.+$)(?<!/draft|/proposal)","code"],["text","/api/rest/v1/products"]],defaults:[],requirements:{code:"(.+$)(?<!/draft|/proposal)"},hosttokens:[]},pim_enrich_category_rest_list_selected_children:{tokens:[["text","/selected-children"],["variable","/","[^/]++","identifier"],["text","/enrich/category/rest"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_category_rest_list:{tokens:[["text","/enrich/category/rest"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_category_rest_get:{tokens:[["variable","/","[^/]++","identifier"],["text","/enrich/category/rest"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_product_category_rest_list:{tokens:[["text","/categories"],["variable","/","[0-9a-f]+","id"],["text","/enrich/product/rest"]],defaults:[],requirements:{id:"[0-9a-f]+"},hosttokens:[]},pim_enrich_product_rest_index:{tokens:[["text","/enrich/product/rest/"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_product_rest_get:{tokens:[["variable","/","[0-9a-f]+","id"],["text","/enrich/product/rest"]],defaults:[],requirements:{id:"[0-9a-f]+"},hosttokens:[]},pim_enrich_product_rest_create:{tokens:[["text","/enrich/product/rest"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_product_rest_post:{tokens:[["variable","/","[0-9a-f]+","id"],["text","/enrich/product/rest"]],defaults:[],requirements:{id:"[0-9a-f]+"},hosttokens:[]},pim_enrich_product_rest_remove:{tokens:[["variable","/","[0-9a-f]+","id"],["text","/enrich/product/rest"]],defaults:[],requirements:{id:"[0-9a-f]+"},hosttokens:[]},pim_enrich_product_remove_attribute_rest:{tokens:[["variable","/","\\d+","attributeId"],["variable","/","[0-9a-f]+","id"],["text","/enrich/product/rest"]],defaults:[],requirements:{id:"[0-9a-f]+",attributeId:"\\d+"},hosttokens:[]},pim_enrich_product_comments_rest_get:{tokens:[["text","/comments"],["variable","/","[0-9a-f]+","id"],["text","/enrich/product"]],defaults:[],requirements:{id:"[0-9a-f]+"},hosttokens:[]},pim_enrich_product_comments_rest_post:{tokens:[["text","/comments"],["variable","/","[0-9a-f]+","id"],["text","/enrich/product"]],defaults:[],requirements:{id:"[0-9a-f]+"},hosttokens:[]},pim_enrich_product_comment_reply_rest_post:{tokens:[["variable","/","[0-9a-f]+","commentId"],["text","/comments"],["variable","/","[0-9a-f]+","id"],["text","/enrich/product"]],defaults:[],requirements:{id:"[0-9a-f]+",commentId:"[0-9a-f]+"},hosttokens:[]},pim_enrich_product_history_rest_get:{tokens:[["text","/history"],["variable","/","[0-9a-f]+","entityId"],["text","/enrich/product/rest/product"]],defaults:[],requirements:{entityId:"[0-9a-f]+"},hosttokens:[]},pim_pdf_generator_download_product_pdf:{tokens:[["text","/download-pdf"],["variable","/","[0-9a-f]+","id"],["text","/enrich/product"]],defaults:[],requirements:{id:"[0-9a-f]+"},hosttokens:[]},pim_enrich_product_model_category_rest_list:{tokens:[["text","/categories"],["variable","/","[0-9a-f]+","id"],["text","/enrich/product-model/rest"]],defaults:[],requirements:{id:"[0-9a-f]+"},hosttokens:[]},pim_enrich_product_model_rest_get:{tokens:[["variable","/","[0-9a-f]+","id"],["text","/enrich/product-model/rest"]],defaults:[],requirements:{id:"[0-9a-f]+"},hosttokens:[]},pim_enrich_product_model_rest_get_by_code:{tokens:[["variable","/","[^/]++","identifier"],["text","/enrich/product-model/rest-code"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_product_model_rest_index:{tokens:[["text","/enrich/product-model/rest/"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_product_model_rest_post:{tokens:[["variable","/","[0-9a-f]+","id"],["text","/enrich/product-model/rest"]],defaults:[],requirements:{id:"[0-9a-f]+"},hosttokens:[]},pim_enrich_product_model_rest_children_list:{tokens:[["text","/enrich/product-model/rest/children"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_product_model_family_variant_leaf:{tokens:[["text","/enrich/product-model/rest/family-variant-leaf"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_product_model_for_family_variant_rest_list:{tokens:[["text","/enrich/product-model/rest/product-model/family-variant"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_product_model_rest_remove:{tokens:[["variable","/","\\d+","id"],["text","/enrich/product-model/rest"]],defaults:[],requirements:{id:"\\d+"},hosttokens:[]},pim_enrich_product_model_history_rest_get:{tokens:[["text","/history"],["variable","/","[0-9a-f]+","entityId"],["text","/enrich/product-model/rest/product-model"]],defaults:[],requirements:{entityId:"[0-9a-f]+"},hosttokens:[]},pim_enrich_group_rest_index:{tokens:[["text","/enrich/group/rest"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_group_rest_search:{tokens:[["text","/enrich/group/rest/search"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_group_rest_get:{tokens:[["variable","/","[a-zA-Z0-9_]+","identifier"],["text","/enrich/group/rest"]],defaults:[],requirements:{identifier:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_enrich_group_rest_list_products:{tokens:[["text","/products"],["variable","/","[a-zA-Z0-9_]+","identifier"],["text","/enrich/group/rest"]],defaults:[],requirements:{identifier:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_enrich_group_rest_post:{tokens:[["variable","/","[a-zA-Z0-9_]+","code"],["text","/enrich/group/rest"]],defaults:[],requirements:{code:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_enrich_group_rest_remove:{tokens:[["variable","/","[a-zA-Z0-9_]+","code"],["text","/enrich/group/rest"]],defaults:[],requirements:{code:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_enrich_group_rest_create:{tokens:[["text","/enrich/group/rest"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_sequential_edit_rest_get_ids:{tokens:[["text","/rest/sequential_edit/"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_value_rest_validate:{tokens:[["text","/rest/value/validate"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_mass_edit_rest_get_filter:{tokens:[["text","/rest/mass_edit/"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_mass_edit_rest_launch:{tokens:[["text","/rest/mass_edit/"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_media_rest_post:{tokens:[["text","/media/"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_product_grid_category_tree_listtree:{tokens:[["variable",".","json","_format"],["text","/enrich/product-category-tree/product-grid/list-tree"]],defaults:[],requirements:{_format:"json"},hosttokens:[]},pim_enrich_product_grid_category_tree_children:{tokens:[["variable",".","json","_format"],["text","/enrich/product-category-tree/product-grid/children"]],defaults:[],requirements:{_format:"json"},hosttokens:[]},pim_enrich_categorytree_listtree:{tokens:[["variable",".","json","_format"],["text","/enrich/product-category-tree/list-tree"]],defaults:[],requirements:{_format:"json"},hosttokens:[]},pim_enrich_categorytree_movenode:{tokens:[["text","/enrich/product-category-tree/move-node"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_categorytree_children:{tokens:[["variable",".","json","_format"],["text","/enrich/product-category-tree/children"]],defaults:[],requirements:{_format:"json"},hosttokens:[]},pim_enrich_categorytree_index:{tokens:[["text","/enrich/product-category-tree/"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_categorytree_create:{tokens:[["variable","/","[^/]++","parent"],["text","/enrich/product-category-tree/create"]],defaults:{parent:null},requirements:[],hosttokens:[]},pim_enrich_categorytree_create_tree:{tokens:[["text","/enrich/product-category-tree/create"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_categorytree_edit:{tokens:[["text","/edit"],["variable","/","\\d+","id"],["text","/enrich/product-category-tree"]],defaults:[],requirements:{id:"\\d+"},hosttokens:[]},pim_enrich_categorytree_remove:{tokens:[["text","/remove"],["variable","/","\\d+","id"],["text","/enrich/product-category-tree"]],defaults:[],requirements:{id:"\\d+"},hosttokens:[]},pim_enrich_media_show:{tokens:[["variable","/","[^/]++","filter"],["variable","/","[^/]++","filename"],["text","/media/show"]],defaults:{filter:null},requirements:[],hosttokens:[]},pim_enrich_media_download:{tokens:[["variable","/","[^/]++","filename"],["text","/media/download"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_default_thumbnail:{tokens:[["variable","/","[a-z-]+/[a-z0-9.-]+","mimeType"],["text","/media/default-thumbnail"]],defaults:[],requirements:{mimeType:"[a-z-]+/[a-z0-9.-]+"},hosttokens:[]},pim_enrich_media_cache_resolve:{tokens:[["variable","/",".+","path"],["variable","/","[A-z0-9_-]*","filter"],["text","/media/cache/resolve"]],defaults:[],requirements:{filter:"[A-z0-9_-]*",path:".+"},hosttokens:[]},pim_enrich_media_cache:{tokens:[["variable","/",".+","path"],["variable","/","[A-z0-9_-]*","filter"],["text","/media/cache"]],defaults:[],requirements:{filter:"[A-z0-9_-]*",path:".+"},hosttokens:[]},pim_enrich_product_model_edit:{tokens:[["variable","/","[^/]++","id"],["text","/enrich/product-model"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_product_model_rest_create:{tokens:[["text","/enrich/product-model/rest/create"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_product_model_listcategories:{tokens:[["variable","/","\\d+","categoryId"],["text","/parent"],["variable","/","[0-9a-f]+","id"],["text","/enrich/product-model/list-categories/product-model"]],defaults:[],requirements:{id:"[0-9a-f]+",categoryId:"\\d+"},hosttokens:[]},pim_enrich_product_index:{tokens:[["text","/enrich/product/"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_product_edit:{tokens:[["variable","/","[0-9a-f]+","id"],["text","/enrich/product"]],defaults:[],requirements:{id:"[0-9a-f]+"},hosttokens:[]},pim_enrich_product_toggle_status:{tokens:[["text","/toggle-status"],["variable","/","[0-9a-f]+","id"],["text","/enrich/product"]],defaults:[],requirements:{id:"[0-9a-f]+"},hosttokens:[]},pim_enrich_product_listcategories:{tokens:[["variable","/","\\d+","categoryId"],["text","/parent"],["variable","/","[0-9a-f]+","id"],["text","/enrich/product/list-categories/product"]],defaults:[],requirements:{id:"[0-9a-f]+",categoryId:"\\d+"},hosttokens:[]},pim_enrich_group_index:{tokens:[["text","/enrich/group/"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_group_edit:{tokens:[["text","/edit"],["variable","/","[a-zA-Z0-9_]+","code"],["text","/enrich/group"]],defaults:[],requirements:{code:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_enrich_mass_edit_action:{tokens:[["text","/enrich/mass-edit-action/mass_action"]],defaults:[],requirements:[],hosttokens:[]},pim_analytics_data_collect:{tokens:[["text","/analytics/collect_data"]],defaults:[],requirements:[],hosttokens:[]},pim_analytics_system_info_index:{tokens:[["text","/system_info"]],defaults:[],requirements:[],hosttokens:[]},pim_analytics_system_info_download:{tokens:[["text","/system_info/download"]],defaults:[],requirements:[],hosttokens:[]},pim_datagrid_load:{tokens:[["text","/load"],["variable","/","[^/]++","alias"],["text","/datagrid"]],defaults:[],requirements:[],hosttokens:[]},pim_datagrid_productgrid_attributes_filters:{tokens:[["text","/datagrid/product-grid/attributes-filters"]],defaults:[],requirements:[],hosttokens:[]},pim_datagrid_productgrid_available_columns:{tokens:[["text","/datagrid/product-grid/available-columns"]],defaults:[],requirements:[],hosttokens:[]},pim_datagrid_productgrid_available_columns_groups:{tokens:[["text","/datagrid/product-grid/available-columns-groups"]],defaults:[],requirements:[],hosttokens:[]},pim_datagrid_export_index:{tokens:[["text","/datagrid/export/index"]],defaults:[],requirements:[],hosttokens:[]},pim_datagrid_export_product_index:{tokens:[["text","/datagrid/export/product/index"]],defaults:[],requirements:[],hosttokens:[]},pim_datagrid_view_rest_types:{tokens:[["text","/datagrid_view/rest/types"]],defaults:[],requirements:[],hosttokens:[]},pim_datagrid_view_rest_index:{tokens:[["text","/views"],["variable","/","[^/]++","alias"],["text","/datagrid_view/rest"]],defaults:[],requirements:[],hosttokens:[]},pim_datagrid_view_rest_default_columns:{tokens:[["text","/default-columns"],["variable","/","[^/]++","alias"],["text","/datagrid_view/rest"]],defaults:[],requirements:[],hosttokens:[]},pim_datagrid_view_list_available_columns:{tokens:[["text","/available-columns"],["variable","/","[^/]++","alias"],["text","/datagrid_view/rest"]],defaults:[],requirements:[],hosttokens:[]},pim_datagrid_view_rest_default_user_view:{tokens:[["text","/default"],["variable","/","[^/]++","alias"],["text","/datagrid_view/rest"]],defaults:[],requirements:[],hosttokens:[]},pim_datagrid_view_rest_save:{tokens:[["variable","/","[^/]++","alias"],["text","/datagrid_view/rest"]],defaults:[],requirements:[],hosttokens:[]},pim_datagrid_view_rest_remove:{tokens:[["variable","/","[^/]++","identifier"],["text","/datagrid_view/rest"]],defaults:[],requirements:[],hosttokens:[]},pim_datagrid_view_rest_get:{tokens:[["variable","/","[^/]++","identifier"],["text","/datagrid_view/rest"]],defaults:[],requirements:[],hosttokens:[]},pim_datagrid_mass_action:{tokens:[["variable","/","[^/]++","actionName"],["text","/massAction"],["variable","/","[^/]++","gridName"],["text","/datagrid"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_product_grid_filters:{tokens:[["text","/enrich/product-grid-filter/"]],defaults:[],requirements:[],hosttokens:[]},pim_dashboard_widget_data:{tokens:[["variable","/","[^/]++","alias"],["text","/widget"]],defaults:[],requirements:[],hosttokens:[]},pim_dashboard_index:{tokens:[["text","/dashboard"]],defaults:[],requirements:[],hosttokens:[]},pim_ui_ajaxentity_list:{tokens:[["text","/list.json"]],defaults:[],requirements:[],hosttokens:[]},pim_localization_locale_index:{tokens:[["text","/system/locale/ui"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_form_extension_rest_index:{tokens:[["text","/form/extensions"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_measures_rest_index:{tokens:[["text","/configuration/measures/rest"]],defaults:[],requirements:[],hosttokens:[]},pim_user_index:{tokens:[["text","/user/"]],defaults:[],requirements:[],hosttokens:[]},pim_user_edit:{tokens:[["text","/edit"],["variable","/","\\d+","identifier"],["text","/user"]],defaults:[],requirements:{identifier:"\\d+"},hosttokens:[]},pim_user_logout_redirect:{tokens:[["text","/user/logout/redirect"]],defaults:[],requirements:[],hosttokens:[]},pim_user_user_rest_get_current:{tokens:[["text","/rest/user/"]],defaults:[],requirements:[],hosttokens:[]},pim_user_user_rest_get:{tokens:[["variable","/","\\d+","identifier"],["text","/rest/user"]],defaults:[],requirements:{identifier:"\\d+"},hosttokens:[]},pim_user_user_rest_post:{tokens:[["variable","/","\\d+","identifier"],["text","/rest/user"]],defaults:[],requirements:{identifier:"\\d+"},hosttokens:[]},pim_user_user_rest_create:{tokens:[["text","/rest/user/"]],defaults:[],requirements:[],hosttokens:[]},pim_user_user_rest_delete:{tokens:[["variable","/","\\d+","identifier"],["text","/rest/user"]],defaults:[],requirements:{identifier:"\\d+"},hosttokens:[]},pim_user_user_group_rest_index:{tokens:[["text","/rest/user_group/"]],defaults:[],requirements:{method:"GET"},hosttokens:[]},pim_user_user_role_rest_index:{tokens:[["text","/rest/user_role/"]],defaults:[],requirements:{method:"GET"},hosttokens:[]},pim_user_security_rest_get:{tokens:[["text","/rest/security/"]],defaults:[],requirements:{method:"GET"},hosttokens:[]},pim_user_group_create:{tokens:[["text","/user/group/create"]],defaults:[],requirements:[],hosttokens:[]},pim_user_group_update:{tokens:[["variable","/","\\d+","id"],["text","/user/group/update"]],defaults:{id:0},requirements:{id:"\\d+"},hosttokens:[]},pim_user_group_index:{tokens:[["text","/user/group/"]],defaults:[],requirements:[],hosttokens:[]},pim_user_group_delete:{tokens:[["variable","/","\\d+","id"],["text","/user/group/delete"]],defaults:[],requirements:{id:"\\d+"},hosttokens:[]},pim_user_reset_request:{tokens:[["text","/user/reset-request"]],defaults:[],requirements:[],hosttokens:[]},pim_user_reset_send_email:{tokens:[["text","/user/send-email"]],defaults:[],requirements:[],hosttokens:[]},pim_user_reset_check_email:{tokens:[["text","/user/check-email"]],defaults:[],requirements:[],hosttokens:[]},pim_user_reset_reset:{tokens:[["variable","/","\\w+","token"],["text","/user/reset"]],defaults:[],requirements:{token:"\\w+"},hosttokens:[]},pim_user_role_create:{tokens:[["text","/user/role/create"]],defaults:[],requirements:[],hosttokens:[]},pim_user_role_update:{tokens:[["variable","/","\\d+","id"],["text","/user/role/update"]],defaults:{id:0},requirements:{id:"\\d+"},hosttokens:[]},pim_user_role_index:{tokens:[["text","/user/role/"]],defaults:[],requirements:[],hosttokens:[]},pim_user_role_delete:{tokens:[["variable","/","\\d+","id"],["text","/user/role/delete"]],defaults:[],requirements:{id:"\\d+"},hosttokens:[]},pim_user_security_login:{tokens:[["text","/user/login"]],defaults:[],requirements:[],hosttokens:[]},pim_user_security_check:{tokens:[["text","/user/login-check"]],defaults:[],requirements:[],hosttokens:[]},pim_user_security_logout:{tokens:[["text","/user/logout"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_api_connection_index:{tokens:[["text","/client/"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_api_connection_rest_create:{tokens:[["text","/client/rest"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_api_connection_rest_revoke:{tokens:[["variable","/","[^/]++","publicId"],["text","/client/rest"]],defaults:[],requirements:[],hosttokens:[]},pim_importexport_export_profile_index:{tokens:[["text","/spread/export/"]],defaults:[],requirements:[],hosttokens:[]},pim_importexport_export_profile_create:{tokens:[["text","/spread/export/create"]],defaults:[],requirements:[],hosttokens:[]},pim_importexport_export_profile_show:{tokens:[["variable","/","[a-zA-Z0-9_]+","code"],["text","/spread/export"]],defaults:[],requirements:{code:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_importexport_export_profile_edit:{tokens:[["text","/edit"],["variable","/","[a-zA-Z0-9_]+","code"],["text","/spread/export"]],defaults:[],requirements:{code:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_importexport_export_profile_report:{tokens:[["text","/reports"],["variable","/","[a-zA-Z0-9_]+","code"],["text","/spread/export"]],defaults:[],requirements:{code:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_importexport_import_profile_index:{tokens:[["text","/collect/import/"]],defaults:[],requirements:[],hosttokens:[]},pim_importexport_import_profile_create:{tokens:[["text","/collect/import/create"]],defaults:[],requirements:[],hosttokens:[]},pim_importexport_import_profile_show:{tokens:[["variable","/","[a-zA-Z0-9_]+","code"],["text","/collect/import"]],defaults:[],requirements:{code:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_importexport_import_profile_edit:{tokens:[["text","/edit"],["variable","/","[a-zA-Z0-9_]+","code"],["text","/collect/import"]],defaults:[],requirements:{code:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_importexport_import_profile_report:{tokens:[["text","/reports"],["variable","/","[a-zA-Z0-9_]+","code"],["text","/collect/import"]],defaults:[],requirements:{code:"[a-zA-Z0-9_]+"},hosttokens:[]},pim_importexport_import_execution_index:{tokens:[["text","/collect/import_execution/"]],defaults:[],requirements:[],hosttokens:[]},pim_importexport_import_execution_download_log:{tokens:[["text","/download"],["variable","/","\\d+","id"],["text","/collect/import_execution"]],defaults:[],requirements:{id:"\\d+"},hosttokens:[]},pim_importexport_import_execution_show:{tokens:[["variable","/","\\d+","id"],["text","/collect/import_execution"]],defaults:[],requirements:{id:"\\d+"},hosttokens:[]},pim_importexport_import_execution_download_file:{tokens:[["variable","/","[^/]++","key"],["variable","/","[^/]++","archiver"],["text","/download"],["variable","/","\\d+","id"],["text","/collect/import_execution"]],defaults:[],requirements:{id:"\\d+"},hosttokens:[]},pim_importexport_export_execution_index:{tokens:[["text","/spread/export_execution/"]],defaults:[],requirements:[],hosttokens:[]},pim_importexport_export_execution_download_log:{tokens:[["text","/download"],["variable","/","\\d+","id"],["text","/spread/export_execution"]],defaults:[],requirements:{id:"\\d+"},hosttokens:[]},pim_importexport_export_execution_show:{tokens:[["variable","/","\\d+","id"],["text","/spread/export_execution"]],defaults:[],requirements:{id:"\\d+"},hosttokens:[]},pim_importexport_export_execution_download_file:{tokens:[["variable","/","[^/]++","key"],["variable","/","[^/]++","archiver"],["text","/download"],["variable","/","\\d+","id"],["text","/spread/export_execution"]],defaults:[],requirements:{id:"\\d+"},hosttokens:[]},pim_enrich_job_instance_rest_import_get:{tokens:[["variable","/","[^/]++","identifier"],["text","/job-instance/rest/import"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_job_instance_rest_import_create:{tokens:[["text","/job-instance/rest/import"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_job_instance_rest_export_create:{tokens:[["text","/job-instance/rest/export"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_job_instance_rest_import_put:{tokens:[["variable","/","[^/]++","identifier"],["text","/job-instance/rest/import"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_job_instance_rest_import_delete:{tokens:[["variable","/","[^/]++","code"],["text","/job-instance/rest/import"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_job_instance_rest_import_launch:{tokens:[["text","/launch"],["variable","/","[^/]++","code"],["text","/job-instance/rest/import"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_job_instance_rest_export_get:{tokens:[["variable","/","[^/]++","identifier"],["text","/job-instance/rest/export"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_job_instance_rest_export_put:{tokens:[["variable","/","[^/]++","identifier"],["text","/job-instance/rest/export"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_job_instance_rest_export_delete:{tokens:[["variable","/","[^/]++","code"],["text","/job-instance/rest/export"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_job_instance_rest_export_launch:{tokens:[["text","/launch"],["variable","/","[^/]++","code"],["text","/job-instance/rest/export"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_job_instance_rest_jobs_get:{tokens:[["text","/job-instance/rest/jobs"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_job_execution_rest_get:{tokens:[["variable","/","[^/]++","identifier"],["text","/job-execution/rest"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_job_tracker_index:{tokens:[["text","/job/"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_job_tracker_download_log:{tokens:[["text","/download"],["variable","/","\\d+","id"],["text","/job"]],defaults:[],requirements:{id:"\\d+"},hosttokens:[]},pim_enrich_job_tracker_show:{tokens:[["variable","/","\\d+","id"],["text","/job/show"]],defaults:[],requirements:{id:"\\d+"},hosttokens:[]},pim_enrich_job_tracker_download_file:{tokens:[["variable","/","[^/]++","key"],["variable","/","[^/]++","archiver"],["text","/download"],["variable","/","\\d+","id"],["text","/job"]],defaults:[],requirements:{id:"\\d+"},hosttokens:[]},pim_notification_notification_list:{tokens:[["text","/notification/list"]],defaults:[],requirements:[],hosttokens:[]},pim_notification_notification_count_unread:{tokens:[["text","/notification/count_unread"]],defaults:[],requirements:[],hosttokens:[]},pim_notification_notification_mark_viewed:{tokens:[["variable","/","\\d+","id"],["text","/notification/mark_viewed"]],defaults:{id:null},requirements:{id:"\\d+"},hosttokens:[]},pim_notification_notification_remove:{tokens:[["variable","/","\\d+","id"],["text","/notification/remove"]],defaults:[],requirements:{id:"\\d+"},hosttokens:[]},pim_api_media_file_list:{tokens:[["text","/api/rest/v1/media-files"]],defaults:[],requirements:[],hosttokens:[]},pim_api_media_file_download:{tokens:[["text","/download"],["variable","/","([a-zA-Z0-9_./]+)","code"],["text","/api/rest/v1/media-files"]],defaults:[],requirements:{code:"([a-zA-Z0-9_./]+)"},hosttokens:[]},pim_api_media_file_get:{tokens:[["variable","/","([a-zA-Z0-9_./]+)","code"],["text","/api/rest/v1/media-files"]],defaults:[],requirements:{code:"([a-zA-Z0-9_./]+)"},hosttokens:[]},pim_api_media_file_create:{tokens:[["text","/api/rest/v1/media-files"]],defaults:[],requirements:[],hosttokens:[]},fos_oauth_server_token:{tokens:[["text","/api/oauth/v1/token"]],defaults:[],requirements:[],hosttokens:[]},pim_api_root_endpoint:{tokens:[["text","/api/rest/v1"]],defaults:[],requirements:[],hosttokens:[]},pim_api_measure_family_list:{tokens:[["text","/api/rest/v1/measure-families"]],defaults:[],requirements:[],hosttokens:[]},pim_api_measure_family_get:{tokens:[["variable","/","[^/]++","code"],["text","/api/rest/v1/measure-families"]],defaults:[],requirements:[],hosttokens:[]},pim_enrich_catalog_volume_index:{tokens:[["text","/catalog-volumes"]],defaults:[],requirements:[],hosttokens:[]},pim_volume_monitoring_get_volumes:{tokens:[["text","/catalog-volume-monitoring/volumes"]],defaults:[],requirements:[],hosttokens:[]},oro_default:{tokens:[["text","/"]],defaults:[],requirements:[],hosttokens:[]},oro_config_configuration_system:{tokens:[["text","/system/"]],defaults:[],requirements:[],hosttokens:[]},oro_config_configuration_system_get:{tokens:[["text","/system/rest"]],defaults:[],requirements:[],hosttokens:[]},oro_config_configuration_system_post:{tokens:[["text","/system/rest"]],defaults:[],requirements:[],hosttokens:[]},oro_datagrid_index:{tokens:[["variable","/","[^/]++","gridName"],["text","/datagrid"]],defaults:[],requirements:[],hosttokens:[]},oro_datagrid_mass_action:{tokens:[["variable","/","[^/]++","actionName"],["text","/massAction"],["variable","/","[^/]++","gridName"],["text","/datagrid"]],defaults:[],requirements:[],hosttokens:[]},oro_translation_jstranslation:{tokens:[["text",".js"],["variable","/","[^/\\.]++","_locale"],["text","/js/translation"]],defaults:[],requirements:[],hosttokens:[]},fos_js_routing_js:{tokens:[["variable",".","js|json","_format"],["text","/js/routing"]],defaults:{_format:"js"},requirements:{_format:"js|json"},hosttokens:[]},liip_imagine_filter_runtime:{tokens:[["variable","/",".+","path"],["variable","/","[^/]++","hash"],["text","/rc"],["variable","/","[A-z0-9_-]*","filter"],["text","/media/cache/resolve"]],defaults:[],requirements:{filter:"[A-z0-9_-]*",path:".+"},hosttokens:[]},liip_imagine_filter:{tokens:[["variable","/",".+","path"],["variable","/","[A-z0-9_-]*","filter"],["text","/media/cache/resolve"]],defaults:[],requirements:{filter:"[A-z0-9_-]*",path:".+"},hosttokens:[]}},prefix:"",host:"localhost",scheme:"http"})},function(t,e,i){t.exports=function(t){const e={"oro/form/system/config/tab/localization":834,"oro/form/system/config/tab/notification":836,"oro/form/system/config/save":837,"oro/form/system/config":838,"oro/template/system/tab/localization":257,"oro/template/system/tab/notification":258,"oro/datagrid/tab-redirect-action":839,"pim/datagrid/configure-columns-action":840,"pim/datagrid/column-selector":271,"pim/datagrid/display-selector":841,"oro/export-widget":842,"pim/datagrid/state":46,"pim/datagrid/state-listener":277,"pim/datagrid/column-form-listener":843,"oro/datagrid/action-launcher":264,"oro/datagrid/abstract-action":97,"oro/datagrid/delete-action":179,"oro/datagrid/sequential_edit-action":844,"oro/datagrid/mass_delete-action":845,"oro/datagrid/revoke-action":846,"oro/datagrid/ajax-action":279,"oro/datagrid/mass-action":180,"oro/datagrid/model-action":136,"oro/datagrid/navigate-action":177,"oro/datagrid/refresh-collection-action":847,"oro/datagrid/reset-collection-action":848,"oro/datagrid/actions-panel":849,"oro/datagrid/action-column":281,"oro/datagrid/body":283,"oro/datagrid/action-cell":282,"oro/datagrid/boolean-cell":850,"oro/datagrid/html-cell":851,"oro/datagrid/date-cell":852,"oro/datagrid/history-diff-cell":853,"oro/datagrid/datetime-cell":285,"oro/datagrid/number-cell":854,"oro/datagrid/integer-cell":855,"oro/datagrid/select-cell":856,"oro/datagrid/select-row-cell":181,"oro/datagrid/string-cell":47,"oro/datagrid/completeness-cell":857,"oro/datagrid/expand-history-cell":858,"oro/datagrid/enabled-cell":859,"oro/datagrid/image-cell":289,"oro/datagrid/boolean-label-cell":860,"oro/datagrid/boolean-status-cell":861,"oro/datagrid/credentials-cell":862,"oro/datagrid/complete-variant-product-cell":863,"oro/datagrid/label-cell":864,"oro/datagrid/cell-formatter":284,"oro/datagrid/grid":292,"oro/datagrid/header-cell":296,"oro/datagrid/select-all-header-cell":293,"oro/datagrid/header":295,"oro/datagrid/abstract-listener":138,"oro/datagrid/column-form-listener":278,"oro/datagrid/callback-listener":865,"oro/datagrid/grid-views/view":297,"oro/datagrid/grid-views/model":299,"oro/datagrid/grid-views/collection":298,"oro/datagrid/pagination-input":866,"oro/datagrid/pagination":300,"oro/datagrid/row":140,"oro/datagrid/history-row":867,"oro/datagrid/product-row":305,"oro/datagrid-builder":110,"oro/loading-mask":20,"oro/pageable-collection":87,"oro/datagrid/product-and-product-model-image-cell":868,"oro/datagrid/product-and-product-model-label-cell":869,"backbone/pageable-collection":267,backgrid:29,"jquery.multiselect":183,"jquery.multiselect.filter":184,"oro/multiselect-decorator":185,"oro/datafilter/search-filter":870,"oro/datafilter/label_or_identifier-filter":871,"oro/datafilter/price-filter":872,"oro/datafilter/metric-filter":873,"oro/datafilter/product_scope-filter":874,"oro/datafilter/product_category-filter":187,"oro/datafilter/product_completeness-filter":315,"oro/datafilter/ajax-choice-filter":875,"oro/datafilter/select2-choice-filter":876,"oro/datafilter/select2-rest-choice-filter":877,"oro/datafilter/product_and_product_model_completeness-filter":315,"oro/datafilter/filters-column":317,"oro/datafilter/filters-selector":318,"oro/datafilter/filters-list":878,"oro/datafilter/filters-button":879,"oro/datafilter/abstract-filter":99,"oro/datafilter/none-filter":880,"oro/datafilter/choice-filter":111,"oro/datafilter/date-filter":324,"oro/datafilter/datetime-filter":881,"oro/datafilter/multiselect-filter":316,"oro/datafilter/number-filter":142,"oro/datafilter/select-filter":113,"oro/datafilter/select-row-filter":882,"oro/datafilter/text-filter":112,"oro/datafilter/parent-filter":883,"oro/datafilter/identifier-filter":884,"pim/filter/text":112,"oro/datafilter/abstract-formatter":885,"oro/datafilter/filters-manager":319,"oro/datafilter/collection-filters-manager":189,"oro/datafilter-builder":886,"pim/datagrid-view-fetcher":887,"pim/saver/datagrid-view":190,"pim/remover/datagrid-view":327,"pim/template/datagrid/action-launcher-button":265,"pim/template/datagrid/action-launcher-list-item":266,"pim/template/datagrid/action-configure-columns":270,"pim/template/datagrid/actions-group":280,"pim/template/datagrid/add-filter-select":320,"pim/template/datagrid/add-filter-button":321,"pim/template/datagrid/done-container":322,"pim/template/datagrid/done-button":323,"pim/template/datagrid/pagination":301,"pim/template/datagrid/configure-columns-action":269,"pim/template/datagrid/display-selector":276,"pim/template/datagrid/filter/text-filter":309,"pim/template/datagrid/filter/price-filter":310,"pim/template/datagrid/filter/date-filter":326,"pim/template/datagrid/filter/metric-filter":311,"pim/template/datagrid/filter/search-filter":186,"pim/template/datagrid/cell/credentials-cell":291,"pim/template/datagrid/cell/history-diff-cell":286,"pim/template/datagrid/cell/expand-history-cell":287,"pim/template/datagrid/cell/enabled-cell":288,"pim/template/datagrid/filter/scope-filter":312,"pim/template/datagrid/row/version":303,"pim/template/datagrid/row/changes":304,"pim/template/datagrid/row/product":306,"pim/template/datagrid/row/product-thumbnail":307,"pim/template/datagrid/cell/image-cell":290,"pim/template/datagrid/cell/product-and-product-model-image-cell":308,"pim/template/datagrid/column-selector/button":272,"pim/template/datagrid/column-selector/columns":273,"pim/template/datagrid/column-selector/modal":274,"pim/template/datagrid/column-selector/selected":275,"pim/user/fields/channel":328,"pim/user/fields/category-tree":331,"pim/user/fields/ui-locale":332,"pim/user/fields/timezone":333,"pim/user/fields/user-group":334,"pim/user/fields/user-role":335,"pim/user/fields/default-product-grid-view":191,"pim/user/fields/default-grid-views":336,"pim/user/fields/product-grid-filters":337,"pim/user-edit-form/delete":888,"pim/remover/user":342,"pim/dashboard/completeness-widget":889,"pim/dashboard/template/completeness-widget":343,"pim/reference-simple-select-field":890,"pim/reference-multi-select-field":891,"pim/attribute-edit-form/properties/ref-data-name":892,"pim/dashboard/abstract-widget":192,"pim/dashboard/last-operations-widget":893,"pim/dashboard/widget-container":894,"pim/dashboard/template/last-operations-widget":350,"pim/dashboard/template/view-all-btn":351,"pim/data-collector":194,"pim/patch-fetcher":895,"pim/indicator":352,"pim/notifications":353,"pim/notification-list":354,"pim/template/notification/notification":356,"pim/template/notification/notification-footer":357,"pim/template/notification/notification-list":355,"jquery-ui":98,"jquery.numeric":302,"jquery.select2":17,"jquery.jstree":114,"jstree/jquery.hotkeys":896,bootstrap:75,"bootstrap-modal":73,"oro/app":72,"oro/error":109,"oro/init-layout":358,"oro/jquery-setup":195,"oro/layout":359,"oro/mediator":9,"oro/messenger":12,"oro/delete-confirmation":897,"oro/tools":141,"oro/form/state":898,"jquery.slimbox":143,"bootstrap.bootstrapswitch":58,"bootstrap.datetimepicker":325,wysiwyg:196,datepicker:88,"jquery.sidebarize":900,"pim/ui":198,"pim/initselect2":28,"pim/dialog":19,"pim/formupdatelistener":901,"pim/saveformstate":360,"pim/fileinput":361,"pim/dialogform":199,"pim/dropzonejs":902,"pim/form/system/config/tab/loading-message":903,"pim/template/flash-message":259,"pim/template/system/tab/loading-message":362,"jquery.form":363,"oro/navigation/collection":904,"oro/navigation/model":364,"pim/app":905,"pim/router":11,"pim/route-matcher":261,"pim/page-title":33,"pim/init-translator":368,"pimuser/js/init-signin":369,"translator-lib":135,routing:7,"jquery-setup":195,"pim/controller-registry":262,"pim/controller/base":108,"pim/controller/front":30,"pim/controller/template":178,"pim/controller/form":372,"pim/controller/product":373,"pim/controller/product/index":373,"pim/controller/entity-with-family-variant":907,"pim/controller/family":908,"pim/controller/catalog-volume":374,"pim/controller/channel/edit":909,"pim/controller/common/index":910,"pim/controller/association-type":911,"pim/controller/redirect":912,"pim/controller/job-instance":913,"pim/controller/group":914,"pim/controller/role":915,"pim/controller/job-execution":916,"pim/controller/group-type":917,"pim/controller/system":918,"pim/controller/user":919,"pim/controller/attribute-group/edit":920,"pim/controller/attribute-group/create":921,"pim/controller/attribute/edit":922,"pim/controller/attribute/create":923,"pim/controller/mass-edit":924,"pim/controller/logout":925,"jquery.wizard":926,"jstree/jquery.jstree.tree_selector":188,"jstree/nested_switch":314,"pim/init":365,"pim/asynctab":366,"pim/popinform":927,"pim/optionform":375,"pim/form-modal":200,"pim/scopable":928,"pim/currencyfield":929,"pim/tree/view":313,"pim/tree/associate":201,"pim/tree/manage":930,"pim/attributeoptionview":376,"pim/item/tableview":931,"pim/item/view":932,"pim/i18n":10,"pim/user-context":6,"pim/date-context":64,"pim/error":137,"oro/translator":2,"pim/common/property":23,"pim/common/select2/family":202,"pim/common/form-modal-creator":203,"pim/security-context":26,"pim/group-manager":380,"pim/attribute-manager":66,"pim/attribute-group-manager":204,"pim/fetcher-registry":5,"pim/base-fetcher":63,"pim/attribute-fetcher":933,"pim/attribute-group-fetcher":934,"pim/locale-fetcher":935,"pim/product-fetcher":381,"pim/product-model-fetcher":936,"pim/family-fetcher":937,"pim/remover/base":36,"pim/remover/association-type":383,"pim/remover/attribute-group":384,"pim/remover/group-type":385,"pim/remover/channel":386,"pim/remover/family":387,"pim/remover/family-variant":388,"pim/remover/product":389,"pim/remover/product-model":390,"pim/remover/group":391,"pim/remover/job-instance-import":392,"pim/remover/job-instance-export":393,"pim/remover/attribute":394,"pim/saver/base":60,"pim/saver/entity-saver":395,"pim/saver/channel":396,"pim/saver/family":397,"pim/saver/family-variant":398,"pim/saver/product":399,"pim/saver/product-model":400,"pim/saver/group":401,"pim/saver/job-instance-export":402,"pim/saver/job-instance-import":403,"pim/media-url-generator":48,"pim/form-builder":14,"pim/form-registry":175,"pim/form-config-provider":134,"pim/cache-invalidator":382,"pim/association-type-edit-form/delete":938,"pim/model/attribute-group":404,"pim/attribute-group-edit-form/delete":939,"pim/attribute-group-edit-form/list":940,"pim/group-type-edit-form/delete":941,"pim/catalog-volume/section":406,"pim/catalog-volume/header":408,"pim/channel-edit-form/delete":942,"pim/channel-edit-form/save":943,"pim/channel-edit-form/properties/general/currencies":944,"pim/channel-edit-form/properties/general/locales":945,"pim/channel-edit-form/properties/general/category-tree":946,"pim/channel-edit-form/properties/conversion-unit":947,"pim/family-edit-form/delete":948,"pim/family-edit-form/save":949,"pim/family-edit-form/family-variant":950,"pim/family-edit-form/properties/general/code":951,"pim/family-edit-form/properties/general/attribute-as-label":952,"pim/family-edit-form/properties/general/attribute-as-image":953,"pim/family-edit-form/properties/general/translation":954,"pim/family-edit-form/attributes/toolbar/add-select/attribute-group":955,"pim/family-edit-form/attributes/toolbar/add-select/attribute":425,"pim/family-edit-form/attributes/toolbar":956,"pim/family-edit-form/attributes/attributes":429,"pim/family-edit-form/attributes":957,"pim/family-edit-form/properties/general":958,"pim/family-edit-form/add-family-variant":959,"pim/family-edit-form/add-family-variant-form":960,"pim/family-edit-form/add-family-variant-header":961,"pim/family-edit-form/add-family-variant-fields-container":962,"pim/family-variant-edit-form/attribute-set":963,"pim/family-variant-edit-form/labels-container":964,"pim/family-variant-edit-form/save":965,"pim/family-variant-edit-form/delete":966,"pim/job-instance-edit-form/save":206,"pim/job-instance-export-edit-form/save":967,"pim/job-instance-import-edit-form/save":968,"pim/job-instance/import/switcher":969,"pim/job-instance/import/switcher-item":970,"pim/product-edit-form/product-label":971,"pim/product-edit-form/product-completeness":972,"pim/product-edit-form/total-missing-required-attributes":973,"pim/product-edit-form/attribute-filter":974,"pim/product-edit-form/attribute-filter-all":975,"pim/product-edit-form/attribute-filter-missing-required":976,"pim/product-edit-form/attribute-filter-at-this-level":977,"pim/product-edit-form/attributes/validation":978,"pim/product-edit-form/attributes/validation-error":443,"pim/product-edit-form/attributes/locale-specific":979,"pim/product-edit-form/attributes/read-only-form":980,"pim/product-edit-form/attributes/completeness":981,"pim/product-edit-form/attributes/localizable":982,"pim/product-edit-form/categories":983,"pim/product-edit-form/associations":984,"pim/product-edit-form/associated-product-row":985,"pim/product-edit-form/locale-switcher":451,"pim/product-edit-form/scope-switcher":453,"pim/product-edit-form/completeness":986,"pim/product-edit-form/history":456,"pim/product-edit-form/comments":987,"pim/product-edit-form/save":988,"pim/product-edit-form/sequential-edit":989,"pim/product-edit-form/delete":990,"pim/product-edit-form/meta/family":991,"pim/product-edit-form/meta/family-variant":992,"pim/product-edit-form/meta/change-family":993,"pim/product-edit-form/meta/created":994,"pim/product-edit-form/meta/updated":995,"pim/product-edit-form/meta/groups":996,"pim/product-edit-form/meta/status-switcher":997,"pim/product-edit-form/download-pdf":998,"pim/product-edit-form/attributes":999,"pim/product-edit-form/creation/identifier":1e3,"pim/product-edit-form/start-copy":1001,"pim/product-edit-form/variant-navigation":1002,"pim/product-edit-form/attributes/variant-axes":1003,"pim/product-edit-form/product-and-product-model-picker":1004,"pim/product-edit-form/attributes/read-only-parent-attributes":1005,"pim/product-model-edit-form/product-model-label":1006,"pim/product-model-edit-form/save":1007,"pim/product-model-edit-form/delete":1008,"pim/product-model-edit-form/complete-variant-product":1009,"pim/product-model-edit-form/history":456,"pim/product-model/form/creation/variant":484,"pim/product-model-edit-form/add-child-form":1010,"pim/product-model-edit-form/add-child-form-header":1011,"pim/product-model-edit-form/add-child-form-fields-container":1012,"oro/datagrid/navigate-product-and-product-model-action":1013,"oro/datagrid/edit-in-modal-action":1014,"oro/datagrid/delete-product-action":1015,"oro/datagrid/toggle-product-action":1016,"pim/attribute-group-form/tab/attribute":1017,"pim/job/product/edit/content/readonly":1018,"pim/job/product/edit/content/structure":1019,"pim/job/product/edit/content/structure/scope":1020,"pim/job/product/edit/content/structure/locales":1021,"pim/job/product/edit/content/structure/attributes":1022,"pim/job/product/edit/content/structure/attributes-selector":493,"pim/job/product/edit/content/data/add-select/attribute":1023,"pim/job/product/edit/content/data/default-attribute-filters":1024,"pim/job/common/edit/content/data/help":1025,"pim/job/product/edit/content/data":1026,"pim/job/product/edit/field/date-format":1027,"pim/job/common/edit/field/decimal-separator":1028,"pim/job/common/edit/properties":1029,"pim/job/common/edit/field/field":146,"pim/job/common/edit/field/text":1030,"pim/job/common/edit/field/select":212,"pim/job/common/edit/field/switch":1031,"pim/job/common/edit/label":1032,"pim/job/common/edit/meta":1033,"pim/job/export/edit/delete":1034,"pim/job/import/edit/delete":1035,"pim/job/common/edit/validation":1036,"pim/job/common/edit/launch":213,"pim/job/common/edit/upload":1037,"pim/job/common/edit/upload-launch":1038,"pim/job/common/file-path":1039,"pim/job/common/label":1040,"pim/job/common/grid":1041,"pim/job/execution/summary-table":1042,"pim/job/execution/auto-refresh":1043,"pim/job/execution/show-profile":1044,"pim/job/execution/download-archives-buttons":1045,"pim/job/execution/download-log":1046,"pim/job/product/edit/content":1047,"pim/filter/filter":76,"pim/filter/product/family":1048,"pim/filter/product/enabled":1049,"pim/filter/product/updated":1050,"pim/filter/product/completeness":1051,"pim/filter/product/category":1052,"pim/filter/product/category/selector":521,"pim/filter/attribute/identifier":1053,"pim/filter/attribute/attribute":67,"pim/filter/attribute/boolean":1054,"pim/filter/attribute/string":1055,"pim/filter/attribute/metric":1056,"pim/filter/attribute/price-collection":1057,"pim/filter/attribute/number":1058,"pim/filter/attribute/select":1059,"pim/filter/attribute/media":1060,"pim/filter/attribute/date":1061,"pim/mass-edit-form/form":1062,"pim/mass-edit-form/choose":1063,"pim/mass-edit-form/product/operation":68,"pim/mass-edit-form/product/associate":1064,"pim/mass-edit-form/product/change-status":1065,"pim/mass-edit-form/product/edit-common-attributes":538,"pim/mass-edit-form/product/add-attribute-values":538,"pim/mass-edit-form/product/update-entity-with-family-variant-parent":1066,"pim/mass-edit-form/product/change-family":1067,"pim/mass-edit-form/product/add-to-group":1068,"pim/mass-edit-form/product/category":1069,"pim/mass-edit-form/product/mass-edit-field":544,"pim/mass-edit-form/product/product-model-field":1070,"pim/mass-edit-form/product/variant-field":1071,"pim/mass-edit-form/family/set-requirements":1072,"pim/field-manager":37,"pim/provider/to-fill-field-provider":89,"pim/provider/sequential-edit-provider":139,"pim/mass-product-edit-form/form-model-updater":1073,"pim/mass-product-edit-form/attributes":1074,"pim/mass-family-edit-form/attributes":1075,"pim/mass-family-edit-form/form-model-updater":1076,"pim/mass-family-edit-form/toolbar/add-select/attribute":1077,"pim/attribute-option-form":1078,"pim/attribute-option/create":193,"pim/group-edit-form/products":1079,"pim/group-edit-form/delete":1080,"pim/group-edit-form/properties/general":1081,"pim/group-edit-form/meta/product-count":1082,"pim/group-edit-form/save":1083,"pim/model/attribute":550,"pim/attribute-edit-form/tab/choices":1084,"pim/attribute-edit-form/choices/options-grid":1085,"pim/attribute-edit-form/delete":1086,"pim/attribute-edit-form/properties/available-locales":1087,"pim/attribute-edit-form/properties/default-metric-unit":1088,"pim/attribute-edit-form/properties/group":1089,"pim/attribute-edit-form/properties/is-locale-specific":1090,"pim/attribute-edit-form/properties/localizable":1091,"pim/attribute-edit-form/properties/metric-family":1092,"pim/attribute-edit-form/properties/scopable":1093,"pim/attribute-edit-form/properties/type":1094,"pim/attribute-edit-form/properties/unique":1095,"pim/attribute-edit-form/properties/validation-regexp":1096,"pim/attribute-edit-form/type-specific-form":1097,"pim/attribute-edit-form/type-specific-form-registry":556,"pim/attribute-edit-form":1098,"pim/common/grid":101,"pim/common/redirect":510,"pim/common/column-list-view":268,"pim/common/breadcrumbs":1099,"pim/common/tab/history":1100,"pim/common/tab":329,"pim/common/properties/translation":419,"pim/common/properties/general":1101,"pim/common/add-select":205,"pim/common/add-select/line":144,"pim/common/add-select/footer":423,"pim/create/properties/general":1102,"pim/common/simple-view":1103,"pim/common/grid-title":1104,"pim/common/item-picker":480,"pim/form/common/edit-form":147,"pim/form/common/label":117,"pim/form/common/group-selector":560,"pim/form/common/attributes/attribute-group-selector":1105,"pim/form/common/save":59,"pim/form/common/delete":35,"pim/form/common/form-tabs":563,"pim/form/common/column-tabs":1106,"pim/form/common/column-tabs-navigation":1107,"pim/form/common/save-form":1108,"pim/form/common/save-buttons":1109,"pim/form/common/state":1110,"pim/form/common/meta":1111,"pim/form/common/subsection":1112,"pim/form/common/main-image":1113,"pim/form/common/meta/created":462,"pim/form/common/meta/updated":465,"pim/form/common/meta/status":1114,"pim/form/common/attributes":209,"pim/form/common/attributes/copy":1115,"pim/form/common/attributes/copy-field":574,"pim/form/common/attributes/create-button":1116,"pim/form/common/download-file":513,"pim/form/common/index/grid":1117,"pim/form/common/index/create-button":1118,"pim/form/common/column":579,"pim/form/common/secondary-actions":1119,"pim/form/common/index/confirm-button":1120,"pim/form/common/creation/field":473,"pim/form/common/creation/modal":584,"pim/form/common/creation/modal/client":1121,"pim/form/common/creation/type":1122,"pim/form/common/creation/job":1123,"pim/form/common/product/create-button":1124,"pim/menu/menu":1125,"pim/menu/tab":1126,"pim/menu/item":1127,"pim/menu/help":1128,"pim/menu/navigation-block":1129,"pim/menu/resizable":211,"pim/menu/user-navigation":1130,"pim/menu/logo":1131,"pim/menu/column":1132,"pim/form/common/fields/field":34,"pim/form/common/fields/boolean":102,"pim/form/common/fields/date":1133,"pim/form/common/fields/select":65,"pim/form/common/fields/simple-select-async":116,"pim/form/common/fields/multi-select-async":338,"pim/form/common/fields/text":103,"pim/form/common/fields/copiable-text":597,"pim/form/common/fields/textarea":1134,"pim/form/common/fields/metric":600,"pim/form/common/fields/password":602,"pim/form/common/fields/number":604,"pim/form/common/fields/media":606,"pim/form/common/fields/available-locales":214,"pim/form/common/fields/values/boolean":1135,"pim/form/common/fields/values/simple-select-async":1136,"pim/form/common/fields/values/text":1137,"pim/form/common/fields/values/metric":1138,"pim/form/common/fields/values/values-behavior":118,"pim/field":41,"pim/boolean-field":1139,"pim/date-field":1140,"pim/media-field":1141,"pim/metric-field":1142,"pim/multi-select-field":348,"pim/number-field":1143,"pim/price-collection-field":1144,"pim/simple-select-field":344,"pim/text-field":1145,"pim/textarea-field":1146,"pim/wysiwyg-field":1147,"pim/product/add-select/attribute/line":426,"pim/product/add-select/attribute":145,"pim/attribute-group/add-select/attribute":1148,"pim/formatter/choices/base":96,"pim/formatter/date":115,"pim/grid/locale-switcher":1149,"pim/grid/category-switcher":1150,"pim/grid/mass-actions":1151,"pim/grid/category-tree":1152,"pim/grid/category-tree-done":1153,"pim/grid/view-selector":1154,"pim/grid/view-selector/selector":619,"pim/grid/view-selector/line":621,"pim/grid/view-selector/create-view":1155,"pim/grid/view-selector/save-view":1156,"pim/grid/view-selector/remove-view":1157,"pim/grid/view-selector/current":627,"pim/grid/table":1158,"pim/template/common/default-template":176,"pim/template/common/drop-zone":1159,"pim/template/common/form-container":551,"pim/template/common/no-data":182,"pim/template/common/grid":294,"pim/template/common/item-picker":481,"pim/template/common/item-picker-basket":482,"pim/template/common/description-header":409,"pim/template/common/modal-centered":74,"pim/template/form/group-selector":561,"pim/template/form/save":260,"pim/template/form/delete":341,"pim/template/form/tab/history":1160,"pim/template/form/tab/section":432,"pim/template/form/tab/section-large":1161,"pim/template/form/tab/sections":1162,"pim/template/form/grid":414,"pim/template/form/add-select/select":421,"pim/template/form/add-select/line":422,"pim/template/form/add-select/footer":424,"pim/template/form/properties/translation":420,"pim/template/form/properties/general":558,"pim/template/form/properties/input":416,"pim/template/form/form-tabs":564,"pim/template/form/state":568,"pim/template/form/meta/created":463,"pim/template/form/meta/updated":466,"pim/template/form/meta/status":572,"pim/template/form/meta":569,"pim/template/form/tab/attributes":207,"pim/template/form/save-buttons":567,"pim/template/form/tab/attribute/attribute-filter":442,"pim/template/form/tab/attribute/attribute-group-selector":562,"pim/template/form/tab/attribute/attribute-group":472,"pim/template/form/tab/attribute/copy":573,"pim/template/form/tab/attribute/copy-field":575,"pim/template/form/tab/attribute/create-button":576,"pim/template/form/tab/attribute/create-modal-content":577,"pim/template/form/redirect":511,"pim/template/form/download-file":514,"pim/template/form/index/index":1163,"pim/template/form/index/create-button":578,"pim/template/form/index/confirm-button":583,"pim/template/form/creation/modal":215,"pim/template/form/creation/field":474,"pim/template/form/creation/type":585,"pim/template/form/creation/job":586,"pim/template/form/column":580,"pim/template/form/column-navigation":581,"pim/template/form/secondary-actions":582,"pim/template/form/column-tabs":565,"pim/template/form/column-tabs-navigation":566,"pim/template/form/subsection":570,"pim/template/form/main-image":571,"pim/template/form/common/fields/field":330,"pim/template/form/common/fields/boolean":554,"pim/template/form/common/fields/date":596,"pim/template/form/common/fields/select":100,"pim/template/form/common/fields/simple-select-async":339,"pim/template/form/common/fields/text":555,"pim/template/form/common/fields/copiable-text":598,"pim/template/form/common/fields/textarea":599,"pim/template/form/common/fields/textarea-monospaced":1164,"pim/template/form/common/fields/metric":601,"pim/template/form/common/fields/password":603,"pim/template/form/common/fields/number":605,"pim/template/form/common/fields/media":607,"pim/template/form/attribute-group/tab/attribute":488,"pim/template/form/attribute-group/list":405,"pim/template/channel/tab/properties/general/currencies":410,"pim/template/channel/tab/properties/general/locales":411,"pim/template/channel/tab/properties/general/category-tree":412,"pim/template/channel/tab/properties/conversion-unit":413,"pim/template/family/tab/attributes/toolbar":428,"pim/template/family/tab/attributes/attributes":430,"pim/template/family/tab/general/attribute-as-label":417,"pim/template/family/tab/attributes":431,"pim/template/family/tab/general/attribute-as-image":418,"pim/template/family/tab/family-variant":415,"pim/template/family-variant/add-variant-form":433,"pim/template/family-variant/add-variant-form-header":434,"pim/template/family-variant/add-variant-form-fields-container":435,"pim/template/family-variant/edit":1165,"pim/template/family-variant/attribute-set":436,"pim/template/family-variant/attribute-group":437,"pim/template/family-variant/labels-container":438,"pim/template/product/grid/locale-switcher":615,"pim/template/product/grid/column-inner":1166,"pim/template/product/grid/category-switcher":616,"pim/template/product/grid/category-tree-done":618,"pim/template/product/index":1167,"pim/template/product/tab/categories":445,"pim/template/product/tab/catalog-switcher":447,"pim/template/product/tab/attribute/validation-error":444,"pim/template/product/tab/associations":448,"pim/template/product/tab/associated-product-row":450,"pim/template/product/tab/association-panes":449,"pim/template/product/tab/jstree-locked-item":446,"pim/template/product/completeness":455,"pim/template/product/history":208,"pim/template/product/comments":457,"pim/template/product/locale-switcher":452,"pim/template/product/sequential-edit":458,"pim/template/product/download-pdf":471,"pim/template/product/start-copy":476,"pim/template/product/meta/status-switcher":470,"pim/template/product/meta/family":459,"pim/template/product/meta/family-variant":460,"pim/template/product/meta/change-family-modal":461,"pim/template/product/meta/groups":468,"pim/template/product/meta/group-modal":469,"pim/template/product/meta/created":464,"pim/template/product/meta/updated":467,"pim/template/product/scope-switcher":454,"pim/template/product/field/field":345,"pim/template/product/field/boolean":608,"pim/template/product/field/date":609,"pim/template/product/field/media":610,"pim/template/product/field/metric":611,"pim/template/product/field/multi-select":349,"pim/template/product/field/number":612,"pim/template/product/field/price-collection":613,"pim/template/product/field/simple-select":346,"pim/template/product/field/text":614,"pim/template/product/field/textarea":216,"pim/template/product-create-error":475,"pim/template/product/create-button":587,"pim/template/product/create-modal-content":588,"pim/template/product/add-select/attribute/line":427,"pim/template/product/form/product-completeness":440,"pim/template/product/form/total-missing-required-attributes":441,"pim/template/product/form/variant-navigation/navigation":477,"pim/template/product/form/variant-navigation/product-item":478,"pim/template/product/form/variant-navigation/product-model-item":210,"pim/template/product/form/variant-navigation/add-child-button":479,"pim/template/product/form/mass-edit/attributes":546,"pim/template/attribute-option/form":547,"pim/template/attribute-option/validation-error":347,"pim/template/attribute-option/index":377,"pim/template/attribute-option/edit":378,"pim/template/attribute-option/show":379,"pim/template/i18n/flag":1168,"pim/template/error/error":263,"pim/template/grid/mass-actions":617,"pim/template/mass-edit/form":533,"pim/template/mass-edit/choose":534,"pim/template/mass-edit/product/associate/pick":535,"pim/template/mass-edit/product/associate/confirm":536,"pim/template/mass-edit/product/change-status":537,"pim/template/mass-edit/product/edit-common-attributes":539,"pim/template/mass-edit/product/update-entity-with-family-variant-parent":540,"pim/template/mass-edit/product/change-family":541,"pim/template/mass-edit/product/add-to-group":542,"pim/template/mass-edit/product/category":543,"pim/template/mass-edit/family/set-requirements":545,"pim/template/menu/tab":590,"pim/template/menu/help":592,"pim/template/menu/menu":589,"pim/template/menu/item":591,"pim/template/menu/user-navigation":594,"pim/template/menu/navigation-block":593,"pim/template/menu/logo":595,"pim/template/app":370,"pim/template/common/flash":371,"pim/template/common/breadcrumbs":557,"pim/template/group/tab/properties/general":548,"pim/template/group/meta/product-count":549,"pim/template/create/tab/properties/general":559,"pim/template/export/product/edit/content/data/help":496,"pim/template/export/product/edit/content/data":497,"pim/template/export/product/edit/content/structure/scope":490,"pim/template/export/product/edit/content/structure/locales":491,"pim/template/export/product/edit/content/structure/attributes":492,"pim/template/export/product/edit/content/structure/attributes-selector":494,"pim/template/export/product/edit/content/structure/attribute-list":495,"pim/template/export/product/edit/content/structure":489,"pim/template/export/common/edit/properties":500,"pim/template/export/common/edit/field/field":498,"pim/template/export/common/edit/field/text":501,"pim/template/export/common/edit/field/select":499,"pim/template/export/common/edit/field/switch":502,"pim/template/export/common/edit/meta":503,"pim/template/export/common/edit/validation":504,"pim/template/export/common/edit/launch":505,"pim/template/export/common/edit/upload":506,"pim/template/export/product/edit/content":515,"pim/template/import/switcher":439,"pim/template/import/file-path":507,"pim/template/filter/filter":516,"pim/template/filter/simpleselect":1169,"pim/template/filter/product/family":517,"pim/template/filter/product/enabled":518,"pim/template/filter/product/updated":519,"pim/template/filter/product/completeness":520,"pim/template/filter/product/category/selector":522,"pim/template/filter/product/category":523,"pim/template/filter/product/identifier":524,"pim/template/filter/attribute/boolean":525,"pim/template/filter/attribute/string":526,"pim/template/filter/attribute/metric":527,"pim/template/filter/attribute/price-collection":528,"pim/template/filter/attribute/number":529,"pim/template/filter/attribute/select":530,"pim/template/filter/attribute/media":531,"pim/template/filter/attribute/date":532,"pim/template/grid/view-selector/create-view-label-input":623,"pim/template/grid/view-selector/line":622,"pim/template/grid/view-selector/create-view":624,"pim/template/grid/view-selector/save-view":625,"pim/template/grid/view-selector/remove-view":626,"pim/template/grid/view-selector/current":628,"pim/template/grid/view-selector":620,"pim/template/job-execution/summary-table":508,"pim/template/job-execution/auto-refresh":509,"pim/template/job-execution/download-archives-buttons":512,"pim/template/attribute/tab/properties/group":553,"pim/template/attribute/tab/choices/options-grid":552,"pim/template/attribute/attribute-line":340,"pim/template/product-model/complete-variant-product":483,"pim/template/product-model/history":208,"pim/template/product-model-edit-form/add-child-form":485,"pim/template/product-model-edit-form/add-child-form-header":486,"pim/template/product-model-edit-form/add-child-form-fields-container":487,"pim/form":3,"pimcommunity/job/common/edit/launch":213,"pimcommunity/grid/view-selector/selector":619,"pimcommunity/grid/view-selector/line":621,"pimcommunity/grid/view-selector/current":627,"pim/template/catalog-volume/section":407,"pim/template/catalog-volume/number":1170,"pim/template/catalog-volume/average-max":1171,"pimdatagrid/js/datafilter/filters-column":317,"pimdatagrid/js/datafilter/filters-selector":318,"pimdatagrid/js/datagrid/column-selector":271,"pimui/js/catalog-volume/header":408,"pimui/js/catalog-volume/section":406,"pimui/js/controller/catalog-volume":374,"pimui/js/form/common/fields/available-locales":214,"pimui/js/form/common/fields/copiable-text":597,"pimui/js/form/common/fields/media":606,"pimui/js/form/common/fields/number":604,"pimui/js/form/common/fields/password":602,"pimui/js/i18n":10,"pimui/js/model/attribute-group":404,"pimui/js/model/attribute":550,"pimui/js/provider/to-fill-field-provider":89,"pimui/js/view/base-interface":1172,"pimui/js/view/base":3,"pimuser/js/fields/category-tree":331,"pimuser/js/fields/channel":328,"pimuser/js/fields/default-grid-views":336,"pimuser/js/fields/default-product-grid-view":191,"pimuser/js/fields/product-grid-filters":337,"pimuser/js/fields/timezone":333,"pimuser/js/fields/ui-locale":332,"pimuser/js/fields/user-group":334,"pimuser/js/fields/user-role":335,"require-polyfill":367,"require-context":31,"module-registry":255,routes:254,"fos-routing-base":253,summernote:197,json:256,jquery:1,underscore:0};return void 0===e[t]?console.error(t+" is missing from the registry - include it in your requirejs.yml and clear the app cache"):i(e[t])}},function(module,exports,__webpack_require__){!function(JSON){"use strict";function f(t){return t<10?"0"+t:t}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var i,n,r,o,a,s=gap,l=e[t];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(t)),"function"==typeof rep&&(l=rep.call(e,t,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(l)){for(o=l.length,i=0;i<o;i+=1)a[i]=str(i,l)||"null";return r=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,r}if(rep&&"object"==typeof rep)for(o=rep.length,i=0;i<o;i+=1)"string"==typeof rep[i]&&(r=str(n=rep[i],l))&&a.push(quote(n)+(gap?": ":":")+r);else for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(r=str(n,l))&&a.push(quote(n)+(gap?": ":":")+r);return r=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,r}}"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,i){var n;if(gap="",indent="","number"==typeof i)for(n=0;n<i;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(t,e){var i,n,r=t[e];if(r&&"object"==typeof r)for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(void 0!==(n=walk(r,i))?r[i]=n:delete r[i]);return reviver.call(t,e,r)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(exports)},function(t,e){t.exports='<div class="AknFormContainer AknFormContainer--withPadding">\n    <div class="AknFieldContainer system-locale-field">\n        <div class="AknFieldContainer-header">\n            <label class="AknFieldContainer-label" for="system-locale"><%- _.__(\'oro_config.form.config.group.localization.system_locale\') %></label>\n        </div>\n\n        <div class="AknFieldContainer-inputContainer">\n            <select class="select2 select-field" name="system-locale">\n            <% _.each(locales, function(label, code) { %>\n                <option value="<%- code %>" <%- code === selected ? \'selected\' : \'\' %>><%- label %></option>\n            <% }); %>\n            </select>\n        </div>\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="AknFormContainer AknFormContainer--withPadding system-notification-field">\n    <div class="AknFieldContainer">\n        <div class="AknFieldContainer-header">\n            <label class="AknFieldContainer-label" for="system-notification"><%- label_system_notification %></label>\n        </div>\n        <div class="AknFieldContainer-inputContainer system-notification-field">\n            <div class="switch switch-small" data-on-label="<%- label_yes %>" data-off-label="<%- label_no %>">\n                <input type="checkbox" name="system-notification" <%- notification === \'1\' ? \'checked\' : \'\' %> />\n            </div>\n        </div>\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="AknFlash alert <% if (type) {  %><%= \'alert-\' + type + \' AknFlash--\' + type %><% } %> <% if (false !== delay) { %>AknFlash--withTimer<% } %> top-messages">\n    <img class="AknFlash-icon" src="/bundles/pimui/images/<%= icon %>"/>\n    <div class="AknFlash-message">\n        <% if (messageTitle) { %>\n            <div class="AknFlash-messageTitle">\n                 <%= messageTitle %>\n            </div>\n        <% } %>\n        <div class="AknFlash-messageContent">\n            <%= message %>\n        </div>\n    </div>\n    <img class="AknFlash-closeButton close" src="/bundles/pimui/images/<%= closeIcon %>" data-dismiss="alert"/>\n    <% if (false !== delay) { %>\n        <div class="AknFlash-timer">\n            <span class="flash-timer"><%= delay / 1000 %></span>s\n        </div>\n    <% } %>\n</div>\n'},function(t,e){t.exports='<button class="AknButton AknButton--apply save">\n    <%- label %>\n</button>\n'},function(t,e,i){"use strict";var n,r;n=[i(7)],void 0===(r=function(t){return{match:function(e){var i,n=t.getRoutes().c;-1!==e.indexOf("?")&&(e=e.substring(0,e.indexOf("?"))),0===e.indexOf("#")&&(e=e.substring(1)),-1!==e.indexOf("#")&&(e=e.substring(0,e.indexOf("#"))),0!==e.indexOf("/")&&(e="/"+e),e=e.replace(t.getBaseUrl(),"");var r=function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")};for(var o in n){var a="",s=[],l=!0;if((!(i=n[o]).requirements._method||-1!==i.requirements._method.indexOf("GET")||-1!==i.requirements._method.indexOf("POST"))&&(i.tokens.forEach(function(t){switch(t[0]){case"text":a=r(t[1])+a,l=l&&-1!==e.indexOf(t[1]);break;case"variable":var n=r(t[1]),o=t[2].replace("++","+"),c=t[3];a=void 0===i.defaults[t[3]]?n+"("+o+")"+a:"(?:"+n+"("+o+"))?"+a,s.push(c)}}),l)){var c=e.match(new RegExp("^"+a+"$"));if(c){var u={};return s.reverse(),s.forEach(function(t,e){var n=c[e+1];u[t]=void 0===n?i.defaults[t]:n}),{name:o,route:i,params:u}}}}return!1}}}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r,o={controllers:{pim_user_index:{module:"pim/controller/common/index",config:{entity:"user"}},pim_user_edit:{module:"pim/controller/user"},pim_user_profile_update:{module:"pim/controller/user"},pim_user_role_index:{module:"pim/controller/common/index",config:{entity:"user-role"}},pim_user_role_create:{module:"pim/controller/form"},pim_user_role_update:{module:"pim/controller/role"},pim_user_group_create:{module:"pim/controller/form"},pim_user_group_index:{module:"pim/controller/common/index",config:{entity:"user-group"}},pim_user_group_update:{module:"pim/controller/form"},pim_enrich_associationtype_edit:{module:"pim/controller/association-type",aclResourceId:"pim_enrich_associationtype_edit"},pim_enrich_associationtype_index:{module:"pim/controller/common/index",aclResourceId:"pim_enrich_associationtype_index",config:{entity:"association-type"}},pim_enrich_attribute_create:{module:"pim/controller/attribute/create",aclResourceId:"pim_enrich_attribute_create"},pim_enrich_attribute_edit:{module:"pim/controller/attribute/edit",aclResourceId:"pim_enrich_attribute_edit"},pim_enrich_attributegroup_create:{module:"pim/controller/attribute-group/create",aclResourceId:"pim_enrich_attributegroup_create"},pim_enrich_attributegroup_index:{module:"pim/controller/common/index",aclResourceId:"pim_enrich_attributegroup_index",config:{entity:"attribute-group"}},pim_enrich_attributegroup_edit:{module:"pim/controller/attribute-group/edit",aclResourceId:"pim_enrich_attributegroup_edit"},pim_enrich_categorytree_create:{module:"pim/controller/form",aclResourceId:"pim_enrich_product_category_create"},pim_enrich_categorytree_edit:{module:"pim/controller/form",aclResourceId:"pim_enrich_product_category_edit"},pim_enrich_categorytree_index:{module:"pim/controller/form",aclResourceId:"pim_enrich_product_category_list"},pim_enrich_channel_edit:{module:"pim/controller/channel/edit",aclResourceId:"pim_enrich_channel_edit"},pim_enrich_channel_create:{module:"pim/controller/channel/edit",aclResourceId:"pim_enrich_channel_create"},pim_enrich_grouptype_edit:{module:"pim/controller/group-type",aclResourceId:"pim_enrich_grouptype_edit"},pim_enrich_product_edit:{module:"pim/controller/entity-with-family-variant",config:{entity:"product"}},pim_enrich_product_model_edit:{module:"pim/controller/entity-with-family-variant",config:{entity:"product-model"}},pim_enrich_group_edit:{module:"pim/controller/group",aclResourceId:"pim_enrich_group_edit"},pim_enrich_channel_index:{module:"pim/controller/common/index",aclResourceId:"pim_enrich_channel_index",config:{entity:"channel"}},pim_importexport_export_profile_index:{module:"pim/controller/common/index",aclResourceId:"pim_importexport_export_profile_index",config:{entity:"export-profile"}},pim_importexport_import_profile_index:{module:"pim/controller/common/index",aclResourceId:"pim_importexport_import_profile_index",config:{entity:"import-profile"}},pim_importexport_export_profile_edit:{module:"pim/controller/job-instance",aclResourceId:"pim_importexport_export_profile_edit"},pim_importexport_import_profile_edit:{module:"pim/controller/job-instance",aclResourceId:"pim_importexport_import_profile_edit"},pim_importexport_import_profile_show:{module:"pim/controller/job-instance",aclResourceId:"pim_importexport_import_profile_show"},pim_importexport_export_profile_show:{module:"pim/controller/job-instance",aclResourceId:"pim_importexport_export_profile_show"},pim_enrich_currency_index:{module:"pim/controller/common/index",aclResourceId:"pim_enrich_currency_index",config:{entity:"currency"}},pim_enrich_currency_toggle:{module:"pim/controller/redirect",aclResourceId:"pim_enrich_currency_toggle"},pim_enrich_mass_edit_action_sequential_edit:{module:"pim/controller/redirect"},pim_enrich_mass_edit_action:{module:"pim/controller/mass-edit",config:{route:"pim_enrich_mass_edit_rest_get_filter"},aclResourceId:"pim_enrich_mass_edit"},pim_enrich_family_index:{module:"pim/controller/common/index",aclResourceId:"pim_enrich_family_index",config:{entity:"family"}},pim_enrich_family_edit:{module:"pim/controller/family",aclResourceId:"pim_enrich_family_index"},pim_importexport_import_profile_launch_upload:{module:"pim/controller/redirect",aclResourceId:"pim_importexport_import_profile_launch_upload"},pim_importexport_import_profile_launch:{module:"pim/controller/redirect",aclResourceId:"pim_importexport_import_profile_launch"},pim_importexport_import_profile_remove:{module:"pim/controller/redirect",aclResourceId:"pim_importexport_import_profile_remove"},pim_importexport_export_profile_launch:{module:"pim/controller/redirect",aclResourceId:"pim_importexport_export_profile_launch"},pim_importexport_export_profile_remove:{module:"pim/controller/redirect",aclResourceId:"pim_importexport_export_profile_remove"},pim_enrich_locale_index:{module:"pim/controller/common/index",aclResourceId:"pim_enrich_locale_index",config:{entity:"locale"}},pim_enrich_attribute_index:{module:"pim/controller/common/index",aclResourceId:"pim_enrich_attribute_index",config:{entity:"attribute"}},pim_enrich_attribute_sort:{module:"pim/controller/template",aclResourceId:"pim_enrich_attribute_sort"},pim_enrich_attribute_remove:{module:"pim/controller/template",aclResourceId:"pim_enrich_attribute_remove"},pim_enrich_product_index:{module:"pim/controller/product/index",aclResourceId:"pim_enrich_product_index"},pim_enrich_product_create:{module:"pim/controller/template",aclResourceId:"pim_enrich_product_create"},pim_enrich_group_index:{module:"pim/controller/common/index",aclResourceId:"pim_enrich_group_index",config:{entity:"group"}},pim_enrich_group_create:{module:"pim/controller/template",aclResourceId:"pim_enrich_group_create"},pim_enrich_group_history:{module:"pim/controller/template",aclResourceId:"pim_enrich_group_history"},pim_enrich_associationtype_create:{module:"pim/controller/template",aclResourceId:"pim_enrich_associationtype_create"},pim_enrich_grouptype_index:{module:"pim/controller/common/index",aclResourceId:"pim_enrich_grouptype_index",config:{entity:"group-type"}},pim_enrich_grouptype_create:{module:"pim/controller/template",aclResourceId:"pim_enrich_grouptype_create"},pim_enrich_grouptype_remove:{module:"pim/controller/template",aclResourceId:"pim_enrich_grouptype_remove"},pim_enrich_job_tracker_index:{module:"pim/controller/common/index",aclResourceId:"pim_enrich_job_tracker_index",config:{entity:"process"}},pim_importexport_import_execution_index:{module:"pim/controller/common/index",aclResourceId:"pim_importexport_import_execution_index",config:{entity:"import-execution"}},pim_importexport_import_execution_show:{module:"pim/controller/job-execution",aclResourceId:"pim_importexport_import_execution_show"},pim_importexport_export_execution_index:{module:"pim/controller/common/index",aclResourceId:"pim_importexport_export_execution_index",config:{entity:"export-execution"}},pim_importexport_export_execution_show:{module:"pim/controller/job-execution",aclResourceId:"pim_importexport_export_execution_show"},pim_enrich_job_tracker_show:{module:"pim/controller/job-execution"},oro_config_configuration_system:{module:"pim/controller/system"},pim_enrich_api_connection_index:{module:"pim/controller/common/index",aclResourceId:"pim_enrich_api_connection_manage",config:{entity:"api-connection"}},pim_enrich_catalog_volume_index:{module:"pim/controller/catalog-volume"},pim_user_security_logout:{module:"pim/controller/logout"}},defaultController:{module:"pim/controller/template"}};n=[i(1),i(31)],void 0===(r=function(t,e){var i=o.controllers||{},n=o.defaultController;return{get:function(r){var o=t.Deferred(),a=i[r]||n,s=e(a.module);return a.class=s,o.resolve(a),o.promise()}}}.apply(e,n))||(t.exports=r)},function(t,e){t.exports="<div class=\"AknInfoBlock AknInfoBlock--error\">\n    <img src=\"/bundles/pimui/images/illustration-error-<%- statusCode >= 400 && statusCode < 500 ? '404' : '503' %>.svg\"/>\n    <% if (statusCode > 0) {%>\n    <span class=\"AknInfoBlock-errorNumber AknInfoBlock-errorNumber--<%- statusCode >= 400 && statusCode < 500 ? '400' : '500' %>\"><%- statusCode %></span>\n    <h1>\n        <%- _.__('error.exception', {'status_code': statusCode}) %>\n    </h1>\n    <div class=\"AknMessageBox AknMessageBox--danger AknMessageBox--centered\"><%- message %></div>\n    <% } %>\n</div>\n"},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(8),i(265),i(266)],void 0===(r=function(t,e,i,n,r,o){return n.View.extend({enabled:!0,tagName:"a",onClickReturnValue:!0,action:void 0,label:void 0,icon:void 0,iconClassName:void 0,className:void 0,link:"javascript:void(0);",runAction:!0,group:void 0,buttonTemplate:e.template(r),listItemTemplate:e.template(o),events:{click:"onClick"},initialize:function(t){if(!(t=t||{}).action)throw new TypeError("'action' is required");t.template&&(this.template=t.template),t.label&&(this.label=t.label),t.icon&&(this.icon=t.icon),t.link&&(this.link=t.link),t.iconClassName&&(this.iconClassName=t.iconClassName),t.className&&(this.className=t.className),e.has(t,"runAction")&&(this.runAction=t.runAction),e.has(t,"group")&&(this.group=t.group),e.has(t,"onClickReturnValue")&&(this.onClickReturnValue=t.onClickReturnValue),e.has(t,"enabled")&&(this.enabled=t.enabled),this.action=t.action,n.View.prototype.initialize.apply(this,arguments)},render:function(){this.$el.empty();var e=this.label||this.action.label,n=t(this.buttonTemplate({label:e?i(e):"",icon:this.icon,className:this.className?this.className:"",iconClassName:this.iconClassName,link:this.link,action:this.action,attributes:this.attributes,enabled:this.enabled,tagName:this.tagName}));return this.setElement(n),this},renderAsListItem:function(){this.$el.empty();var e=this.label||this.action.label,n=t(this.listItemTemplate({label:e?i(e):"",className:"AknDropdown-menuLink"+(this.className?" "+this.className:""),link:this.link,action:this.action,attributes:this.attributes,enabled:this.enabled,tagName:this.tagName}));return this.setElement(n),this},onClick:function(){return this.enabled?(this.trigger("click",this),this.runAction?(this.action.run(),this.$el.closest(".btn-group").removeClass("open"),!1):this.onClickReturnValue):this.onClickReturnValue},disable:function(){return this.enabled=!1,this.$el.addClass("disabled"),this},enable:function(){return this.enabled=!0,this.$el.removeClass("disabled"),this},getGroup:function(){return this.group}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<% hidden = !icon && !iconClassName && !label %>\n<<%- tagName %> href="<%= link %>" class="<%- className %><% if (hidden) { %> AknIconButton--hide<% } %><% if (!enabled) { %> disabled<% } %>"\n    <% _.each(attributes, function(attribute, name) { %>\n        <%- name %>="<%- attribute %>"\n    <% }) %>\n    title="<%- label %>"\n>\n    <% if (icon) { %>\n        <i class="icon-<%- icon %>"></i>\n    <% } else { %>\n        <% if (iconClassName) { %>\n            <i class="<%- iconClassName %>"></i>\n        <% } %>\n        <%- label %>\n    <% } %>\n</<%- tagName %>>\n'},function(t,e){t.exports='<li>\n    <<%- tagName %> href="<%= link %>" class="<%- className %><% if (!enabled) { %> disabled<% } %>"\n        <% _.each(attributes, function(attribute, name) { %>\n            <%- name %>="<%- attribute %>"\n        <% }) %>\n        title="<%- label %>"\n    >\n        <%- label %>\n    </<%- tagName %>>\n</li>\n'},,function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(8),i(269)],void 0===(r=function(t,e,i,n,r){var o=n.Model.extend({defaults:{label:"",displayed:!1,group:i("pim_datagrid.column_configurator.system_group")}}),a=n.Collection.extend({model:o});return n.View.extend({collection:a,template:e.template(r),events:{'input input[type="search"]':"search","click .nav-list li":"filter","click button.reset":"reset","click #column-selection .action":"remove"},search:function(e){var i=t(e.currentTarget).val(),n=function(t){return 0<=(""+t).toUpperCase().indexOf((""+i).toUpperCase())};this.$("#column-list").find("li").each(function(){n(t(this).data("value"))||n(t(this).text())?t(this).removeClass("AknVerticalList-item--hide"):t(this).addClass("AknVerticalList-item--hide")})},filter:function(i){var n=t(i.currentTarget).data("value");t(i.currentTarget).addClass("active").siblings(".active").removeClass("active"),e.isUndefined(n)?this.$("#column-list li").removeClass("AknVerticalList-item--hide"):this.$("#column-list").find("li").each(function(){n===t(this).data("group")?t(this).removeClass("AknVerticalList-item--hide"):t(this).addClass("AknVerticalList-item--hide")})},remove:function(i){var n=t(i.currentTarget).parent();n.appendTo(this.$("#column-list")),e.first(this.collection.where({code:n.data("value")})).set("displayed",!1),this.validateSubmission()},reset:function(){e.each(this.collection.where({displayed:!0,removable:!0}),function(t){t.set("displayed",!1),this.$('#column-selection li[data-value="'+t.get("code")+'"]').appendTo(this.$("#column-list"))}.bind(this)),this.validateSubmission()},render:function(){var n=0===this.collection.where({group:i("pim_datagrid.column_configurator.system_group")}).length?[]:[{position:-1,name:i("pim_datagrid.column_configurator.system_group"),itemCount:0}];return e.each(this.collection.toJSON(),function(t){if(e.isEmpty(e.where(n,{name:t.group}))){var i=parseInt(t.groupOrder,10);e.isNumber(i)&&e.isEmpty(e.where(n,{position:i}))||(i=e.max(n,function(t){return t.position}).position+1),n.push({position:i,name:t.group,itemCount:1})}else e.first(e.where(n,{name:t.group})).itemCount+=1}),n=e.sortBy(n,function(t){return t.position}),this.$el.html(this.template({attributeGroupsLabel:i("pim_enrich.entity.attribute_group.plural_label"),groups:n,columns:this.collection.toJSON()})),this.$("#column-list, #column-selection").sortable({connectWith:".connected-sortable",containment:this.$el,tolerance:"pointer",cursor:"move",cancel:"div.alert",receive:function(i,n){var r=e.first(this.collection.where({code:n.item.data("value")}));r.set("displayed",n.sender.is("#column-list")&&r.get("removable")),r.get("removable")?this.validateSubmission():t(n.sender).sortable("cancel")}.bind(this)}).disableSelection(),this.$("ul").css("height",.7*t(window).height()),this},validateSubmission:function(){this.collection.where({displayed:!0}).length?(this.$(".alert").hide(),this.$(".AknMessageBox--error").addClass("AknMessageBox--hide"),this.$el.closest(".modal").find(".btn.ok:not(.btn-primary)").addClass("btn-primary").attr("disabled",!1)):(this.$(".alert").show(),this.$(".AknMessageBox--error").removeClass("AknMessageBox--hide"),this.$el.closest(".modal").find(".btn.ok.btn-primary").removeClass("btn-primary").attr("disabled",!0))},getDisplayed:function(){return e.map(this.$("#column-selection li"),function(e){return t(e).data("value")})}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<div class="AknColumnConfigurator">\n    <div class="AknColumnConfigurator-column AknColumnConfigurator-column--gray">\n        <div class="AknColumnConfigurator-columnHeader">\n            <%- attributeGroupsLabel %>\n        </div>\n        <div class="AknColumnConfigurator-listContainer">\n            <ul class="AknVerticalList nav-list">\n                <li class="AknVerticalList-item AknVerticalList-item--selectable tab active">\n                    <%- _.__("pim_datagrid.column_configurator.all_groups") %>\n                    <span class="badge badge-transparent pull-right"><%- columns.length %></span>\n                </li>\n                <% _.each(groups, function(group) { %>\n                <li class="AknVerticalList-item AknVerticalList-item--selectable tab" data-value="<%- group.name %>">\n                    <%- group.name %>\n                    <span class="AknBadge"><%- group.itemCount %></span>\n                </li>\n                <% }); %>\n            </ul>\n        </div>\n    </div>\n\n    <div class="AknColumnConfigurator-column">\n        <div class="AknColumnConfigurator-columnHeader">\n            <input class="AknTextField AknColumnConfigurator-searchInput" type="search" placeholder="<%- _.__(\'pim_datagrid.column_configurator.search\') %>"/>\n        </div>\n        <div class="AknColumnConfigurator-listContainer">\n            <ul id="column-list" class="AknVerticalList connected-sortable">\n                <% _.each(_.where(columns, {displayed: false}), function(column) { %>\n                <li class="AknVerticalList-item AknVerticalList-item--movable" data-value="<%- column.code %>" data-group="<%- column.group %>">\n                    <div><%- column.label %></div>\n                </li>\n                <% }); %>\n            </ul>\n        </div>\n    </div>\n\n    <div class="AknColumnConfigurator-column">\n        <div class="AknColumnConfigurator-columnHeader">\n            <%- _.__("pim_datagrid.column_configurator.displayed_columns") %>\n            <button class="AknButton AknButton--grey reset">\n                <%- _.__("pim_datagrid.column_configurator.clear") %>\n            </button>\n        </div>\n        <div class="AknColumnConfigurator-listContainer">\n            <ul id="column-selection" class="AknVerticalList connected-sortable">\n                <% _.each(_.sortBy(_.where(columns, {displayed: true}), \'position\'), function(column) { %>\n                <li class="AknVerticalList-item AknVerticalList-item--movable" data-value="<%- column.code %>" data-group="<%- column.group %>">\n                    <div><%- column.label %></div>\n                    <% if (column.removable) { %>\n                    <div class="AknVerticalList-delete action" title="<%- _.__(\'pim_datagrid.column_configurator.remove_column\') %>"></div>\n                    <% } %>\n                </li>\n                <% }); %>\n                <div class="AknMessageBox AknMessageBox--error AknMessageBox--hide alert alert-error"><%- _.__(\'pim_datagrid.column_configurator.min_message\') %></div>\n            </ul>\n        </div>\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="AknGridToolbar-actionButton">\n    <a class="AknActionButton configure-columns" title="<%- label %>">\n        <%- label %>\n    </a>\n</div>\n'},function(t,e,i){"use strict";(function(e){var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=i(3),s=i(0),l=i(8),c=i(9),u=i(2),d=i(7),p=i(46),h=i(272),f=i(273),m=i(274),g=i(275),v=i(74),b=function(t){function i(e){var i=t.call(this,o({},e,{className:"AknGridToolbar-right"}))||this;return i.page=1,i.buttonTemplate=s.template(h),i.innerModalTemplate=s.template(m),i.columnsTemplate=s.template(f),i.selectedTemplate=s.template(g),i.modalTemplate=s.template(v),i.loadedAttributeGroups=[],i.loadedColumns={},i.searchInputSelector='input[type="search"]',i.attributeGroupSelector="[data-attributes] [data-group]",i.config=o({},i.config,e.config),i}return r(i,t),i.prototype.events=function(){return{"click [data-open]":"openModal"}},i.prototype.configure=function(){var t=this;return c.once("datagrid_collection_set_after",function(e,i){t.datagridCollection=e,t.datagridElement=i,t.hideButton=!1===t.datagridElement.data("metadata").options.manageColumns,t.locale=t.getLocale(),t.renderColumnSelector()}),a.prototype.configure.apply(this,arguments)},i.prototype.getLocale=function(){var t=this.datagridCollection.url.split("?")[1],e=this.datagridCollection.decodeStateData(t),i=e["product-grid"]||{};return e.dataLocale||i.dataLocale},i.prototype.renderColumnSelector=function(){return!0===this.hideButton?this:(this.$el.html(this.buttonTemplate({label:u("pim_datagrid.column_configurator.label")})),this)},i.prototype.fetchAttributeGroups=function(){var t=this,i=d.generate("pim_datagrid_productgrid_available_columns_groups",{locale:this.locale});return s.isEmpty(this.loadedAttributeGroups)?e.get(i).then(function(e){return t.loadedAttributeGroups=e,e}):new Promise(function(e){return e(t.loadedAttributeGroups)})},i.prototype.fetchColumns=function(t){var i=this.modal.$el.find(this.searchInputSelector).val().trim(),n=this.modal.$el.find(".active[data-group]").data("value"),r=d.generate("pim_datagrid_productgrid_available_columns");!0===t&&(this.page=1);var o=e.param(s.omit({search:i,attribute_group:n,page:this.page,locale:this.locale},function(t){return!t}));return e.get(r+"?"+o)},i.prototype.normalizeColumn=function(t){var e=this.loadedColumns[t.code];return t.selected=!1,e&&(t.selected=e.selected,t.sortOrder=e.sortOrder),t.removable=!0,t},i.prototype.fetchColumnsWithSelected=function(){var t=this;this.fetchColumns(!0).then(function(e){t.loadedColumns=Object.assign(s.mapObject(e,t.normalizeColumn.bind(t)),t.getColumnsBySelected()),t.renderColumns()})},i.prototype.filterByAttributeGroup=function(t){this.modal.$el.find(this.attributeGroupSelector).removeClass("active"),e(t.currentTarget).addClass("active"),this.fetchColumnsWithSelected()},i.prototype.clearSearch=function(){this.modal.$el.find(this.searchInputSelector).val("").trigger("keyup")},i.prototype.debounceSearch=function(t){if(null!==this.debounceSearchTimer&&clearTimeout(this.debounceSearchTimer),27===t.keyCode)return this.clearSearch();13===t.keyCode?this.fetchColumnsWithSelected():this.debounceSearchTimer=setTimeout(this.fetchColumnsWithSelected.bind(this),300)},i.prototype.setColumnsSelectedByDefault=function(t){var e=this.datagridElement.data("metadata").columns,i={};return s.each(Object.assign(t,e),function(t){var n=e.map(function(t){return t.name}),r=t.name||t.code,o={selected:n.includes(r),sortOrder:n.indexOf(r),removable:!0};i[r]=Object.assign(t,o)}),i},i.prototype.renderColumns=function(){var t=this.getColumnsBySelected(!1),e=this.getColumnsBySelected();this.modal.$el.find("[data-columns]").empty().append(this.columnsTemplate({columns:t}));var i=s.map(e,function(t){return t}).sort(function(t,e){return t.sortOrder-e.sortOrder});this.modal.$el.find("[data-columns-selected]").empty().append(this.selectedTemplate({columns:i})),this.modal.$el.on("click","#column-selection .action",this.unselectColumn.bind(this)),this.setSortable(),this.setValidation(),this.listenToListScroll();var n=this.modal.$el.find("[data-columns]");n.get(0).scrollHeight===n.outerHeight()&&this.fetchNextColumns(!0)},i.prototype.listenToListScroll=function(){this.modal.$el.find("[data-columns]").off("scroll").on("scroll",this.fetchNextColumns.bind(this))},i.prototype.stopListeningToListScroll=function(){this.modal.$el.find("[data-columns]").removeClass("more").off("scroll").unbind()},i.prototype.fetchNextColumns=function(t){var e=this;void 0===t&&(t=!1);var i=this.modal.$el.find("[data-columns]").get(0),n=Math.max(0,i.scrollTop);(i.scrollHeight-i.offsetHeight===n||!0===t)&&(this.page=this.page+1,this.fetchColumns().then(function(t){if(s.isEmpty(t))return e.stopListeningToListScroll();var i=s.mapObject(t,e.normalizeColumn.bind(e));e.loadedColumns=Object.assign(e.loadedColumns,i),e.renderColumns()}))},i.prototype.setColumnStatus=function(t,e){void 0===e&&(e=!0),this.loadedColumns=s.mapObject(this.loadedColumns,function(i){return i.code===t&&(i.selected=e),i})},i.prototype.unselectColumn=function(t){var i=e(t.currentTarget).parent(),n=e(t.currentTarget).parents("[data-value]").data("value");i.appendTo(this.modal.$el.find("#column-list")),this.setColumnStatus(n,!1),this.setValidation()},i.prototype.setValidation=function(){var t=this.getColumnsBySelected(),e=s.isEmpty(t),i=this.modal.$el.find("#column-selection .alert-error");return e?i.show():i.hide()},i.prototype.clearAllColumns=function(){this.loadedColumns=s.mapObject(this.loadedColumns,function(t){return t.selected=!1,t}),this.renderColumns()},i.prototype.openModal=function(){var t=this;this.page=1,this.modal&&(this.modal.$el.off(),this.modal.close(),this.modal.remove()),this.fetchAttributeGroups().then(function(e){var i=new l.BootstrapModal({okCloses:!1,title:u("pim_datagrid.column_configurator.title"),innerDescription:u("pim_datagrid.column_configurator.description"),okText:u("pim_common.apply"),template:t.modalTemplate,innerClassName:"AknFullPage--full",content:t.innerModalTemplate({groups:e,attributeGroupsLabel:u("pim_enrich.entity.attribute_group.plural_label")})});i.open(),i.on("ok",t.saveColumnsToDatagridState.bind(t)),t.modal=i,t.modal.$el.on("keyup search",t.searchInputSelector,t.debounceSearch.bind(t)),t.modal.$el.on("click",t.attributeGroupSelector,t.filterByAttributeGroup.bind(t)),t.modal.$el.on("click",".reset",t.clearAllColumns.bind(t)),t.fetchColumns().then(function(e){t.loadedColumns=t.setColumnsSelectedByDefault(e),t.renderColumns()})})},i.prototype.setSortable=function(){var t=this;this.modal.$el.find("#column-list, #column-selection").sortable({connectWith:".connected-sortable",containment:this.modal.$el,tolerance:"pointer",cursor:"move",cancel:"div.alert",receive:function(e,i){var n=i.item.data("value"),r=i.sender.is("#column-list");t.setColumnStatus(n,r),t.setColumnSortOrder(),t.setValidation()}}).disableSelection(),this.setColumnSortOrder()},i.prototype.setColumnSortOrder=function(){var t=this;this.loadedColumns=s.mapObject(this.loadedColumns,function(e){var i=t.modal.$el.find('#column-selection [data-value="'+e.code+'"]').index();return i>-1&&(e.sortOrder=i),e})},i.prototype.getColumnsBySelected=function(t){return void 0===t&&(t=!0),s.pick(this.loadedColumns,function(e){return e.selected===t})},i.prototype.saveColumnsToDatagridState=function(){this.setColumnSortOrder();var t=this.getColumnsBySelected(),e=Object.values(s.mapObject(t,"code")).sort(function(e,i){return t[e].sortOrder-t[i].sortOrder}).join().trim();if(e.length){p.set("product-grid","columns",e),this.modal.close();var i=window.location.hash;l.history.fragment=(new Date).getTime(),l.history.navigate(i,!0)}},i}(a);t.exports=b}).call(e,i(1))},function(t,e){t.exports='<div class="AknGridToolbar-actionButton"><a class="AknActionButton configure-columns" title="<%- label %>" data-open><%- label %></a></div>\n'},function(t,e){t.exports='<ul id="column-list" class="AknVerticalList connected-sortable">\n    <% _.each(columns, function(column) { %>\n    <li class="AknVerticalList-item AknVerticalList-item--movable" data-value="<%- column.code %>" data-group="<%- column.group %>">\n        <div><%- column.label %></div>\n    </li>\n    <% }); %>\n</ul>\n'},function(t,e){t.exports='<div class="AknColumnConfigurator">\n    <div class="AknColumnConfigurator-column AknColumnConfigurator-column--gray">\n        <div class="AknColumnConfigurator-columnHeader"><%- attributeGroupsLabel %></div>\n        <div class="AknColumnConfigurator-listContainer" data-attributes>\n            <ul class="AknVerticalList nav-list">\n                <li class="AknVerticalList-item AknVerticalList-item--selectable tab active" data-group data-value="">\n                    All Groups\n                </li>\n                <% _.each(groups, (group) => { %>\n                <li class="AknVerticalList-item AknVerticalList-item--selectable tab" data-group data-value="<%- group.code %>">\n                    <%- group.label %><span class="AknBadge"><%- group.count %></span>\n                </li>\n                <% }) %>\n            </ul>\n        </div>\n    </div>\n    <div class="AknColumnConfigurator-column">\n        <div class="AknColumnConfigurator-columnHeader"> <input class="AknTextField AknColumnConfigurator-searchInput" type="search" placeholder="<%- _.__(\'pim_datagrid.column_configurator.search\') %>"/> </div>\n        <div class="AknColumnConfigurator-listContainer more" data-columns></div>\n    </div>\n    <div class="AknColumnConfigurator-column">\n        <div class="AknColumnConfigurator-columnHeader"><%- _.__("pim_datagrid.column_configurator.displayed_columns") %>\n            <button class="AknButton AknButton--grey reset"><%- _.__("pim_datagrid.column_configurator.clear") %></button>\n        </div>\n        <div class="AknColumnConfigurator-listContainer" data-columns-selected></div>\n    </div>\n</div>\n'},function(t,e){t.exports='<ul id="column-selection" class="AknVerticalList connected-sortable ui-sortable">\n    <% _.each(columns, (column) => { %>\n    <li class="AknVerticalList-item AknVerticalList-item--movable" data-value="<%- column.code %>" data-group="<%- column.group %>">\n        <div><%- column.label %></div>\n        <% if (column.removable) { %>\n        <div class="AknVerticalList-delete action" title="<%- _.__(\'pim_datagrid.column_configurator.remove_column\') %>"></div>\n        <% } %>\n    </li>\n    <% }) %>\n    <div class="AknMessageBox AknMessageBox--error AknMessageBox--hide alert alert-error"><%- _.__(\'pim_datagrid.column_configurator.min_message\') %></div>\n</ul>\n'},function(t,e){t.exports='<div class="AknActionButton AknActionButton--withoutBorder" data-toggle="dropdown">\n    <span class="AknActionButton-highlight"><%- types[selectedType].label %></span>\n    <span class="AknActionButton-caret"></span>\n</div>\n<ul class="AknDropdown-menu">\n    <div class="AknDropdown-menuTitle"><%- displayLabel %></div>\n    <% _.each(types, (type, key) => { %>\n        <li class="AknDisplaySelector-item" data-type="<%- key %>">\n            <a class="AknDropdown-menuLink<% if (type === selectedType) { %> AknDropdown-menuLink--active<% } %>" data-type="<%- key %>"><%- type.label %></a>\n        </li>\n    <% }) %>\n</ul>\n'},function(t,e,i){"use strict";var n,r;n=[i(0),i(9),i(138),i(46)],void 0===(r=function(t,e,i,n){var r=i.extend({gridName:null,$gridContainer:null,initialize:function(e){if(!t.has(e,"gridName"))throw new Error("Grid name not specified");if(!t.has(e,"$gridContainer"))throw new Error("Grid container not specified");this.gridName=e.gridName,this.$gridContainer=e.$gridContainer,this.subscribe()},subscribe:function(){e.once("datagrid_collection_set_after",this.afterCollectionSet,this),e.on("grid_load:complete",this.saveGridState,this),this.$gridContainer.on("preExecute:reset:"+this.gridName,this.onGridReset.bind(this)),e.once("hash_navigation_request:start",this.unsubscribe,this)},unsubscribe:function(){e.off("grid_load:complete",this.saveGridState,this)},afterCollectionSet:function(){e.once("datagrid_filters:rendered",function(e){e.trigger("updateState",e),setTimeout(t.bind(function(){this.$gridContainer.find("div.toolbar, div.filter-box").show()},this),20)},this)},saveGridState:function(t){if(t.inputName===this.gridName){var e=this.$gridContainer.find(".filter-box");e.length&&!e.is(":visible")&&e.show();var i=t.encodeStateData(t.state);n.set(this.gridName,"filters",i)}},onGridReset:function(t,e){e.collection.initialState.filters={}}});return r.init=function(t,e){new r({$gridContainer:t,gridName:e})},r}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";(function(n){var r,o;r=[i(1),i(0),i(2),i(9),i(138)],void 0===(o=function(t,e,i,r,o){var a=o.extend({selectors:{included:null,excluded:null},initialize:function(t){if(!e.has(t,"selectors"))throw new Error("Field selectors is not specified");this.selectors=t.selectors,o.prototype.initialize.apply(this,arguments)},setDatagridAndSubscribe:function(){o.prototype.setDatagridAndSubscribe.apply(this,arguments),this.$gridContainer.on("preExecute:refresh:"+this.gridName,this._onExecuteRefreshAction.bind(this)),this.$gridContainer.on("preExecute:reset:"+this.gridName,this._onExecuteResetAction.bind(this)),r.on("grid_load:complete",this._restoreState.bind(this)),this._clearState(),this._restoreState()},_processValue:function(t,i){var n,r=this.get("original"),o=this.get("included"),a=this.get("excluded"),s=i.get(this.columnName);e.has(r,t)?n=r[t]:(n=!s,r[t]=n),s?(o=n?e.without(o,[t]):e.union(o,[t]),a=e.without(a,t)):(o=e.without(o,t),a=n?e.union(a,[t]):e.without(a,[t])),this.set("included",o),this.set("excluded",a),this.set("original",r),this._synchronizeState()},_clearState:function(){this.set("included",[]),this.set("excluded",[]),this.set("original",{})},_synchronizeState:function(){var e=this.get("included"),i=this.get("excluded");this.selectors.included&&t(this.selectors.included).val(e.join(",")),this.selectors.excluded&&t(this.selectors.excluded).val(i.join(","))},_explode:function(t){return t?e.map(t.split(","),function(t){return t?parseInt(t,10):null}):[]},_restoreState:function(){var e="",i="";this.selectors.included&&t(this.selectors.included).length&&(e=this._explode(t(this.selectors.included).val()),this.set("included",e)),this.selectors.excluded&&t(this.selectors.excluded).length&&(i=this._explode(t(this.selectors.excluded).val()),this.set("excluded",i)),(e||i)&&r.trigger("datagrid:restoreState:"+this.gridName,this.columnName,this.dataField,e,i)},_onExecuteRefreshAction:function(t,e,n){this._confirmAction(e,n,"refresh",{title:i("pim_datagrid.refresh_confirmation.title"),content:i("pim_datagrid.refresh_confirmation.content")})},_onExecuteResetAction:function(t,e,n){this._confirmAction(e,n,"reset",{title:i("pim_datagrid.reset_confirmation.title"),content:i("pim_datagrid.reset_confirmation.content")})},_confirmAction:function(t,e,i,n){this.confirmed=this.confirmed||{},!this.confirmed[i]&&this._hasChanges()&&(e.doExecute=!1,this._openConfirmDialog(i,n,function(){this.confirmed[i]=!0,this._clearState(),this._synchronizeState(),t.run()})),this.confirmed[i]=!1},_hasChanges:function(){return!e.isEmpty(this.get("included"))||!e.isEmpty(this.get("excluded"))},_openConfirmDialog:function(t,r,o){this.confirmModal=this.confirmModal||{},this.confirmModal[t]||(this.confirmModal[t]=new n.BootstrapModal(e.extend({title:i("pim_common.confirm"),okText:i("pim_common.yes")},r)),this.confirmModal[t].on("ok",e.bind(o,this))),this.confirmModal[t].open()}});return a.init=function(t,i){var n=t.data("metadata").options||{};n.columnListener&&new a(e.extend({$gridContainer:t,gridName:i},n.columnListener))},a}.apply(e,r))||(t.exports=o)}).call(e,i(8))},function(t,e,i){"use strict";var n,r;n=[i(136)],void 0===(r=function(t){return t.extend()}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<div class="AknButtonList-item AknDropdown <%- classname %>">\n    <div class="AknButton AknButton--dropdown AknButton--grey" title="<%- group.title %>" data-toggle="dropdown">\n        <%- __(group.label) %>\n    </div>\n    <ul class="AknDropdown-menu">\n        <li class="AknDropdown-menuTitle"><%- __(group.label) %></li>\n    </ul>\n</div>\n'},function(t,e,i){"use strict";var n,r;n=[i(0),i(29),i(282)],void 0===(r=function(t,e,i){return e.Column.extend({defaults:t.extend({},e.Column.prototype.defaults,{name:"rowActions",label:"",editable:!1,cell:i,headerCell:e.HeaderCell.extend({className:"AknGrid-headerCell action-column"}),sortable:!1,actions:[]}),initialize:function(i){(i=i||{}).cell||(i.cell=this.defaults.cell),i.name||(i.name=this.defaults.name),(!i.actions||t.isEmpty(i.actions))&&this.set("renderable",!1),e.Column.prototype.initialize.apply(this,arguments)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(29)],void 0===(r=function(t,e,i){return i.Cell.extend({className:"AknGrid-bodyCell AknGrid-bodyCell--actions action-cell",actions:void 0,launchers:void 0,initialize:function(){i.Cell.prototype.initialize.apply(this,arguments),this.actions=this.createActions(),this.launchers=this.createLaunchers()},createActions:function(){var t=[],i=this.column.get("actions"),n=this.model.get("action_configuration");return e.each(i,function(i,r){(e.isUndefined(n)||e.isUndefined(n[r])||n[r])&&!0!==i.prototype.hidden&&t.push(this.createAction(i))},this),t},createAction:function(t){return new t({model:this.model,datagrid:this.column.get("datagrid")})},createLaunchers:function(){return e.map(this.actions,function(t){var i=t.launcherOptions.className;return(e.isUndefined(i)||""===i||"no-hash"===i)&&(i="AknIconButton AknIconButton--small AknIconButton--grey"),t.createLauncher({className:i+" AknButtonList-item"})})},render:function(){this.$el.empty();var i=t("<div>").addClass("AknButtonList AknButtonList--right");return e.isEmpty(this.launchers)||e.each(this.launchers,function(t){i.append(t.render().$el)},this),this.$el.append(i),this}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(29),i(140)],void 0===(r=function(t,e,i){return e.Body.extend({row:i,rowClassName:void 0,initialize:function(t){(t=t||{}).row||(t.row=this.row),t.rowClassName&&(this.rowClassName=t.rowClassName),e.Body.prototype.initialize.apply(this,arguments),this._listenToRowsEvents(this.rows)},refresh:function(){return e.Body.prototype.refresh.apply(this,arguments),this._listenToRowsEvents(this.rows),this},insertRow:function(t,i){e.Body.prototype.insertRow.apply(this,arguments);var n=i.indexOf(t);n<this.rows.length&&this._listenToOneRowEvents(this.rows[n])},_listenToRowsEvents:function(e){t.each(e,function(t){this._listenToOneRowEvents(t)},this)},_listenToOneRowEvents:function(t){this.listenTo(t,"clicked",function(t,e){this.trigger("rowClicked",t,e)})},render:function(){return e.Body.prototype.render.apply(this,arguments),this.rowClassName&&this.$("> *").addClass(this.rowClassName),this}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(29)],void 0===(r=function(t,e){var i=function(){};return i.prototype=new e.CellFormatter,t.extend(i.prototype,{fromRaw:function(t){return null==t?"":e.CellFormatter.prototype.fromRaw.apply(this,arguments)}}),i}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(47)],void 0===(r=function(t){return t.extend({type:"dateTime"})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<table class="table-history-details">\n    <tbody>\n        <% _.each(changes, function(value, label) { %>\n            <tr class="AknGrid-bodyRow">\n                <td class="AknGrid-bodyCell AknGrid-bodyCell--highlightAlternative AknGrid-bodyCell--withoutBottomBorder property" colspan="2"><%= label %></td>\n            </tr>\n            <tr class="AknGrid-bodyRow AknGrid-bodyRow--wordBreakable">\n                <td class="AknGrid-bodyCell AknGrid-bodyCell--withoutTopBorder"><span class="AknDiff--remove"><%- __(\'pim_enrich.entity.product.module.history.old_value\') %>:</span> <span class="old-values"><%- value.old %></span></td>\n                <td class="AknGrid-bodyCell AknGrid-bodyCell--withoutTopBorder"><span class="AknDiff--add"><%- __(\'pim_enrich.entity.product.module.history.new_value\') %>:</span> <span class="new-values"><%- value.new %></span></td>\n            </tr>\n        <% }); %>\n    </tbody>\n</table>\n'},function(t,e){t.exports='<span class="AknButtonList"><div class="AknButtonList-item version-expander AknGrid-expand"></div><span class="AknButtonList-item AknButton AknButton--grey"><%- value %></span></span>\n'},function(t,e){t.exports='<div class="AknBadge AknBadge--medium AknBadge--<%- enabled %> status-<%- enabled %>">\n    <i class="AknBadge-icon icon-status-<%- enabled %> icon-circle"></i><%- label %>\n</div>\n'},function(t,e,i){"use strict";var n,r;n=[i(0),i(47),i(48),i(290)],void 0===(r=function(t,e,i,n){return e.extend({template:t.template(n),render:function(){var t=this.formatter.fromRaw(this.model.get(this.column.get("name"))),e=i.getMediaShowUrl(t.filePath,"thumbnail_small");return this.$el.empty().html(this.getTemplate({label:t.originalFilename,src:e})),this},getTemplate(t){return this.template(t)}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<img class="AknGrid-image" src="<%- src %>" title="<%- label %>" />\n'},function(t,e){t.exports='<div>\n    <span class="AknGrid-label">\n        <%- clientIdLabel %>:\n    </span>\n    <%- publicId %>\n</div>\n<div>\n    <span class="AknGrid-label">\n        <%- secretLabel %>:\n    </span>\n    <%- secret %>\n</div>\n'},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(29),i(135),i(2),i(9),i(20),i(295),i(283),i(281),i(181),i(293),i(182),i(294)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c,u,d,p,h){return i.Grid.extend({name:"datagrid",tagName:"div",requestsCount:0,className:"clearfix",template:e.template(h),noDataTemplate:e.template(p),selectors:{grid:".grid",noDataBlock:".no-data",loadingMask:".loading-mask",toolbar:'[data-drop-zone="toolbar"]'},header:s,body:l,loadingMask:a,actionsColumn:c,defaults:{rowClickActionClass:"row-click-action",rowClassName:"AknGrid-bodyRow",rowClickAction:void 0,multipleSorting:!0,rowActions:[],massActionsGroups:[],massActions:[],emptyGridOptions:null},initialize:function(t){if(!(t=t||{}).collection)throw new TypeError("'collection' is required");if(this.collection=t.collection,!t.columns)throw new TypeError("'columns' is required");e.extend(this,this.defaults,t),this.collection.multipleSorting=this.multipleSorting,this._initRowActions(),this.rowClickAction&&(t.rowClassName=this.rowClickActionClass+" "+this.rowClassName),t.columns.push(this._createActionsColumn()),t.columns.unshift(this._getMassActionsColumn()),this.loadingMask=this._createLoadingMask(),i.Grid.prototype.initialize.apply(this,arguments),this._listenToCollectionEvents(),this._listenToBodyEvents(),this._listenToCommands(),o.trigger("grid_load:start",this.collection,this)},_initRowActions:function(){this.rowClickAction||(this.rowClickAction=e.find(this.rowActions,function(t){return!!t.prototype.rowAction}))},_createActionsColumn:function(){return new this.actionsColumn({actions:this.rowActions,datagrid:this})},_getMassActionsColumn:function(){return this.massActionsColumn||(this.massActionsColumn=new i.Column({name:"massAction",label:r("Selected Rows"),renderable:!e.isEmpty(this.massActions),sortable:!1,editable:!1,cell:u,headerCell:d})),this.massActionsColumn},getSelectionState:function(){return this.header.row.cells[0].getSelectionState()},resetSelectionState:function(){return this.header.row.cells[0].selectNone()},_createLoadingMask:function(){return new this.loadingMask},_listenToCollectionEvents:function(){this.collection.on("request",function(t,e){this._beforeRequest();var i=this,n=e.always;e.always=function(){n.apply(this,arguments),i._afterRequest()}},this),this.collection.on("remove",this._onRemove,this),this.collection.on("change",function(t){this.$el.trigger("datagrid:change:"+this.name,t)}.bind(this))},_listenToBodyEvents:function(){this.listenTo(this.body,"rowClicked",function(t){this.trigger("rowClicked",this,t),this._runRowClickAction(t)})},_runRowClickAction:function(t){if(this.rowClickAction){var e=new this.rowClickAction({datagrid:this,model:t.model}),i=t.model.get("action_configuration");i&&!1===i[e.name]||e.run()}},_listenToCommands:function(){var t=this;o.on("datagrid:setParam:"+t.name,function(e,i){t.setAdditionalParameter(e,i)}),o.on("datagrid:removeParam:"+t.name,function(e){t.removeAdditionalParameter(e)}),o.on("datagrid:restoreState:"+t.name,function(i,n,r,o){t.collection.each(function(t){-1!==e.indexOf(r,t.get(n))&&t.set(i,!0),-1!==e.indexOf(o,t.get(n))&&t.set(i,!1)})}),o.on("datagrid:doRefresh:"+t.name,this.refreshCollection.bind(this))},render:function(){return this.$el.empty(),this.$el=this.$el.append(t(this.template({hasCheckbox:!0===this.massActionsColumn.get("renderable")}))),this.renderGrid(),this.renderNoDataBlock(),this.renderLoadingMask(),this.trigger("rendered"),this},renderGrid:function(){var t=this.$(this.selectors.grid);t.append(this.header.render().$el),this.footer&&t.append(this.footer.render().$el),t.append(this.body.render().$el)},renderLoadingMask:function(){this.$(this.selectors.loadingMask).append(this.loadingMask.render().$el),this.loadingMask.hide()},getDefaultNoDataOptions(){var t=(this.entityHint?this.entityHint.replace(/_/," "):r("pim_datagrid.entity_hint")).toLowerCase(),i=e.isEmpty(this.collection.state.filters)?"pim_datagrid.no_entities":"pim_datagrid.no_results";return n.has("jsmessages:"+i+"."+t)&&(i+="."+t),{hint:r(i,{entityHint:t}).replace("\n","<br />"),subHint:"pim_datagrid.no_results_subtitle",imageClass:"",__:r}},renderNoDataBlock:function(){var e=this.emptyGridOptions,i=this.getDefaultNoDataOptions();null!==e&&void 0!==e&&((i=e).__=r),this.$(this.selectors.noDataBlock).html(t(this.noDataTemplate(i))).hide(),this._updateNoDataBlock()},refreshCollection:function(){this.setAdditionalParameter("refresh",!0),this.collection.fetch(),this.removeAdditionalParameter("refresh")},_beforeRequest:function(){this.requestsCount+=1,this.showLoading()},_afterRequest:function(){this.requestsCount-=1,0===this.requestsCount&&(this.hideLoading(),this.renderNoDataBlock(),o.trigger("grid_load:complete",this.collection,this))},showLoading:function(){this.loadingMask.show()},hideLoading:function(){this.loadingMask.hide()},_updateNoDataBlock:function(){0<this.collection.models.length?(this.$(this.selectors.grid).show(),t(this.selectors.toolbar).show(),this.$(this.selectors.noDataBlock).hide()):(this.$(this.selectors.grid).hide(),t(this.selectors.toolbar).hide(),this.$(this.selectors.noDataBlock).show())},_onRemove:function(){this.collection.fetch()},setAdditionalParameter:function(t,i){var n=this.collection.state;e.has(n,"parameters")||(n.parameters={}),n.parameters[t]=i},removeAdditionalParameter:function(t){var i=this.collection.state;e.has(i,"parameters")&&delete i.parameters[t]}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(29),i(181)],void 0===(r=function(t,e,i,n){return n.extend({className:"AknGrid-headerCell AknGrid-headerCell--checkbox select-all-header-cell",tagName:"th",events:{},initialize:function(n){this.column=n.column,this.column instanceof i.Column||(this.column=new i.Column(this.column)),this.initialState(),this.listenTo(this.collection,{remove:this.removeModel,updateState:this.initialState,"backgrid:selected":this.selectModel,"backgrid:selectAll":this.selectAll,"backgrid:selectAllVisible":this.selectAllVisible,"backgrid:selectNone":this.selectNone,"backgrid:isSelected":e.bind(function(e,i){t.isPlainObject(i)&&(i.selected=this.isSelectedModel(e))},this),"backgrid:getSelected":e.bind(function(i){t.isEmptyObject(i)&&(i.selected=e.keys(this.selectedModels),i.inset=this.inset)},this)})},initialState:function(){this.selectedModels={},this.inset=!0},getSelectionState:function(){return{selectedModels:this.selectedModels,inset:this.inset}},isSelectedModel:function(t){return this.inset===e.has(this.selectedModels,t.id||t.cid)},removeModel:function(t){delete this.selectedModels[t.id||t.cid]},selectModel:function(t,e){e===this.inset?this.selectedModels[t.id||t.cid]=t:this.removeModel(t)},selectAll:function(){this.initialState(),this.inset=!1,this._selectAll()},selectNone:function(){this.initialState(),this.inset=!0,this._selectNone()},selectAllVisible:function(){this.inset||this.initialState(),this._selectAllNotSelected()},_selectAll:function(){this.collection.each(function(t){t.trigger("backgrid:select",t,!0)})},_selectAllNotSelected:function(){this.collection.each(t=>{this.isSelectedModel(t)||t.trigger("backgrid:select",t,!0)})},_selectNone:function(){this.collection.each(function(t){t.trigger("backgrid:select",t,!1)})},render:function(){return this.$el.empty().append('<div class="AknSeveralActionsButton AknSeveralActionsButton--small AknDropdown">                <button type="button" class="AknSeveralActionsButton-mainAction" data-select-all>'+e.__("pim_common.all")+'</button>                <button type="button" class="AknSeveralActionsButton-caretContainer dropdown-toggle" data-toggle="dropdown">                    <i class="AknCaret AknCaret--inverse"></i>                </button>                <ul class="AknSeveralActionsButton-menu AknDropdown-menu">                    <li><a class="AknDropdown-menuLink" href="#" data-select-all-visible>'+e.__("oro_datagrid.select.visible")+'</a></li>                    <li><a class="AknDropdown-menuLink" href="#" data-select-none>'+e.__("pim_common.none")+"</a></li>                </ul>            </div>"),this.$el.find("[data-select-all]").on("click",e.bind(function(t){this.collection.trigger("backgrid:selectAll"),t.preventDefault()},this)),this.$el.find("[data-select-all-visible]").on("click",e.bind(function(t){this.collection.trigger("backgrid:selectAllVisible"),t.preventDefault()},this)),this.$el.find("[data-select-none]").on("click",e.bind(function(t){this.collection.trigger("backgrid:selectNone"),t.preventDefault()},this)),this}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<div class="AknGridContainer <% if (hasCheckbox) { %> AknGridContainer--withCheckbox <% } %>grid-container container-fluid">\n    <table class="AknGrid grid"></table>\n    <div class="no-data"></div>\n    <div class="loading-mask"></div>\n</div>\n'},function(t,e,i){"use strict";var n,r;n=[i(8),i(29),i(296)],void 0===(r=function(t,e,i){return e.Header.extend({tagName:"thead",row:e.HeaderRow,headerCell:i,initialize:function(i){if(!i.collection)throw new TypeError("'collection' is required");if(!i.columns)throw new TypeError("'columns' is required");this.columns=i.columns,this.columns instanceof t.Collection||(this.columns=new e.Columns(this.columns)),this.row=new this.row({columns:this.columns,collection:this.collection,headerCell:this.headerCell})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(8),i(29),i(87)],void 0===(r=function(t,e,i,n,r){return n.HeaderCell.extend({template:e.template('<% if (sortable) { %><a href="#"><%= label %> <span class="AknGrid-caret AknCaret caret"></span></a><% } else { %><span><%= label %></span><% } %>'),allowNoSorting:!0,initialize:function(){this.allowNoSorting=this.collection.multipleSorting,n.HeaderCell.prototype.initialize.apply(this,arguments),this._initCellDirection(this.collection),this.collection.on("reset",this._initCellDirection,this)},_resetCellDirection:function(){},_initCellDirection:function(t){if(t==this.collection){var i=t.state,n=null,r=this.column.get("name");this.column.get("sortable")&&e.has(i.sorters,r)&&(1==i.sorters[r]?n="descending":-1==i.sorters[r]&&(n="ascending")),n!=this.direction()&&this.direction(n)}},render:function(){return this.$el.empty(),this.$el.append(t(this.template({label:this.column.get("label"),sortable:this.column.get("sortable")}))),this.column.has("width")&&this.$el.width(this.column.get("width")),this},onClick:function(t){t.preventDefault();var e=this.column.get("name");this.column.get("sortable")&&("ascending"===this.direction()?this.sort(e,"descending",function(t,i){var n=t.get(e),r=i.get(e);return n===r?0:n>r?-1:1}):this.allowNoSorting&&"descending"===this.direction()?this.sort(e,null):this.sort(e,"ascending",function(t,i){var n=t.get(e),r=i.get(e);return n===r?0:n<r?-1:1}))},sort:function(t,e,n){n=n||this._cidComparator;var o,a=this.collection;a instanceof r?(o="ascending"===e?-1:"descending"===e?1:null,a.setSorting(t,o),"client"==a.mode?(!a.fullCollection.comparator&&(a.fullCollection.comparator=n),a.fullCollection.sort()):a.fetch()):(a.comparator=n,a.sort());i.trigger("backgrid:sort",t,e,n,this.collection)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";(function(n){var r,o;r=[i(8),i(0),i(2),i(298)],void 0===(o=function(t,e,i,r){return t.View.extend({events:{"click a":"onChange"},template:e.template('<div class="btn-group "><button data-toggle="dropdown" class="btn dropdown-toggle <% if (disabled) { %>disabled<% } %>"><%=  current %><span class="caret"></span></button><ul class="dropdown-menu pull-right"><% _.each(choices, function (choice) { %><li><a href="#" data-value="<%= choice.value %>"><%= choice.label %></a></li><% }); %></ul></div>'),enabled:!0,choices:[],viewsCollection:r,initialize:function(i){if(!(i=i||{}).collection)throw new TypeError("'collection' is required");i.choices&&(this.choices=e.union(this.choices,i.choices)),this.collection=i.collection,this.enabled=0!=i.enable,this.listenTo(this.collection,"updateState",this.render),this.listenTo(this.collection,"beforeFetch",this.render),i.views=i.views||[],this.viewsCollection=new this.viewsCollection(i.views),t.View.prototype.initialize.call(this,i)},disable:function(){return this.enabled=!1,this.render(),this},enable:function(){return this.enabled=!0,this.render(),this},onChange:function(t){t.preventDefault();var e=n(t.target).data("value");e!==this.collection.state.gridView&&this.changeView(e)},changeView:function(t){var i=this.viewsCollection.get(t);if(i){var n=e.extend({},this.collection.initialState,i.toGridState());this.collection.updateState(n),this.collection.fetch()}return this},render:function(){if(this.$el.empty(),0<this.choices.length){var t=e.filter(this.choices,e.bind(function(t){return t.value==this.collection.state.gridView},this)),r=t.length?e.first(t).label:i("pim_datagrid.view_selector.select");this.$el.append(n(this.template({disabled:!this.enabled,choices:this.choices,current:r})))}return this}})}.apply(e,r))||(t.exports=o)}).call(e,i(1))},function(t,e,i){"use strict";var n,r;n=[i(8),i(299)],void 0===(r=function(t,e){return t.Collection.extend({model:e})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(8),i(0)],void 0===(r=function(t,e){return t.Model.extend({idAttribute:"name",defaults:{filters:[],sorters:[]},directions:{ASC:"-1",DESC:"1"},initialize:function(t){if(!t.name)throw new TypeError("'name' is required");e.each(t.sorters,e.bind(function(e,i){t.sorters[i]=this.directions[e]},this))},toGridState:function(){return{filters:this.get("filters"),sorters:this.get("sorters"),gridView:this.get("name")}}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(8),i(3)],void 0===(r=function(t,e,i,n){return n.extend({tagName:"div",className:"AknGridToolbar-center",windowSize:10,enabled:!0,hidden:!1,template:e.template('<label>Page:</label><ul class="AknPagination-icons"><% _.each(handles, function (handle) { %><li class="AknPagination-item <% if (handle.className) { %><%= handle.className %><% } %>"><a href="#" class="AknPagination-link" <% if (handle.title) {%> title="<%= handle.title %>"<% } %>><% if (handle.wrapClass) {%><i <% if (handle.wrapClass) { %>class="<%= handle.wrapClass %>"<% } %>><%= handle.label %></i><% } else { %><%= handle.label %><% } %></a></li><% }); %></ul><label>of <%= state.totalPages ? state.totalPages : 1 %> | <%= state.totalRecords %> records</label>'),events:{"click a":"onChangePage"},fastForwardHandleConfig:{prev:{label:"",wrapClass:"icon-chevron-left hide-text"},next:{label:"",wrapClass:"icon-chevron-right hide-text"}},initialize:function(t){if(!(t=t||{}).collection)throw new TypeError("'collection' is required");this.collection=t.collection,this.listenTo(this.collection,"add",this.render),this.listenTo(this.collection,"remove",this.render),this.listenTo(this.collection,"reset",this.render),this.hidden=1==t.hide,n.prototype.initialize.call(this,t)},disable:function(){return this.enabled=!1,this.render(),this},enable:function(){return this.enabled=!0,this.render(),this},onChangePage:function(i){if(i.preventDefault(),this.enabled){var n=t(i.target).text(),r=this.fastForwardHandleConfig,o=this.collection;if(r){var a=e.has(r.prev,"label")?r.prev.label:void 0,s=e.has(r.next,"label")?r.next.label:void 0;switch(n){case a:return void(o.hasPrevious()&&o.getPreviousPage());case s:return void(o.hasNext()&&o.getNextPage())}}var l=o.state,c=1*n-l.firstPage;o.getPage(0===l.firstPage?c:c+1)}},makeHandles:function(t){t=t||[];var i=this.collection,n=i.state,r=n.lastPage?n.lastPage:n.firstPage;r=0===n.firstPage?r:r-1;var o=0===n.firstPage?n.currentPage:n.currentPage-1,a=Math.floor(o/this.windowSize)*this.windowSize,s=a+this.windowSize;if(s=s<=r?s:r+1,"infinite"!==i.mode)for(var l=a;l<s;l++)t.push({label:l+1,title:"No. "+(l+1),className:o===l?"active":void 0});var c=this.fastForwardHandleConfig||{};return c.prev&&t.unshift({label:e.has(c.prev,"label")?c.prev.label:void 0,wrapClass:e.has(c.prev,"wrapClass")?c.prev.wrapClass:void 0,className:i.hasPrevious()?void 0:"AknActionButton--disabled"}),c.next&&t.push({label:e.has(c.next,"label")?c.next.label:void 0,wrapClass:e.has(c.next,"wrapClass")?c.next.wrapClass:void 0,className:i.hasNext()?void 0:"AknActionButton--disabled"}),t},renderPagination:function(){this.$el.empty();var e=this.collection.state;return this.$el.append(t(this.template({disabled:!this.enabled||!e.totalRecords,handles:this.makeHandles(),state:e}))),this.hidden&&this.$el.hide(),this}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<% _.each(handles, function (handle) { %>\n<a class="AknActionButton AknGridToolbar-actionButton <% if (handle.className || disabled) { %><%- handle.className %> <% if (disabled) { %>disabled<% } %><% } %>" href="#" <% if (handle.title) {%> title="<%- handle.title %>"<% } %>>\n    <span <% if (handle.wrapClass) { %>class="<%- handle.wrapClass %>"<% } %>><%- handle.label %></span>\n</a>\n<% }); %>\n'},,function(t,e){t.exports='<tr class="AknGrid-bodyRow AknGrid-bodyRow--withoutTopBorder entity-version" data-version="<%- version %>"></tr>\n'},function(t,e){t.exports='<tr class="AknGrid-bodyRow AknGrid-bodyRow--withoutTopBorder changeset" data-version="<%- version %>">\n    <td class="AknGrid-bodyCell"></td>\n</tr>\n'},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(140),i(306),i(307),i(48)],void 0===(r=function(t,e,i,n,r,o){return i.extend({tagName:"div",rowTemplate:e.template(n),thumbnailTemplate:e.template(r),renderedRow:null,getRenderableColumns(){return[this.getCompletenessCellType(),"massAction","rowActions"]},getTemplateOptions(){return{useLayerStyle:this.isProductModel(),label:this.model.get("label"),identifier:this.model.get("identifier"),imagePath:this.getThumbnailImagePath()}},render(){var e=this.getTemplateOptions(),i=t(this.rowTemplate(e)),n=this.thumbnailTemplate(e);return i.html(n),this.renderCells(i),this.$el.empty().html(i),i.on("click",this.onClick.bind(this)),this.listenTo(this.model,"backgrid:selected",(t,e)=>{i.toggleClass("AknGrid-bodyRow--selected",e)}),this.delegateEvents(),this.renderedRow=i,this},isProductModel(){return"product_model"===this.model.get("document_type")},getCompletenessCellType(){return this.isProductModel()?"complete_variant_products":"completeness"},getThumbnailImagePath(){var t=this.model.get("image");return void 0===t||null===t?"/media/show/undefined/preview":o.getMediaShowUrl(t.filePath,"thumbnail")},renderCells(t){var e=this.getRenderableColumns();this.cells.forEach(i=>{var n=i.column.get("name");if(!1!==e.includes(n)){var r=i.render().el;this.setCellModifiers(n,r),t.append(r)}})},setCellModifiers(e,i){e===this.getCompletenessCellType()?t(i).addClass("AknBadge--topRight"):"rowActions"===e&&t(".AknIconButton",i).addClass("AknIconButton--white")}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<tr title="<%- label %>" class="AknGrid-bodyRow AknGrid-bodyRow--thumbnail AknGrid-bodyRow--withoutTopBorder <% if (useLayerStyle) { %>AknGrid-bodyRow--withLayer<% } %>"></tr>\n'},function(t,e){t.exports='<div class="AknGrid-fullImage" style="background-image: url(\'<%- imagePath %>\')"></div>\n<div class="AknGrid-title"><%- label %></div>\n<div class="AknGrid-subTitle"><%- identifier %></div>\n'},function(t,e){t.exports='<div class="AknGrid-imageLayer"></div>\n<img class="AknGrid-image AknGrid-image--withLayer" src="<%- src %>" title="<%- label %>" />\n'},function(t,e){t.exports='<div class="AknFilterChoice choicefilter">\n    <div class="AknFilterChoice-header">\n        <div class="AknFilterChoice-title"><%- label %></div>\n        <% if (emptyChoice) { %>\n        <div class="AknDropdown operator">\n            <div class="AknActionButton AknActionButton--withoutBorder" data-toggle="dropdown">\n                <span class="AknActionButton-highlight"><%- selectedOperatorLabel %></span>\n                <span class="AknActionButton-caret"></span>\n            </div>\n            <div class="AknDropdown-menu">\n                <div class="AknDropdown-menuTitle"><%- operatorLabel %></div>\n                <% _.each(operatorChoices, function (label, operator) { %>\n                <div class="AknDropdown-menuLink<% if (selectedOperator == operator) { %> AknDropdown-menuLink--active active<% } %>">\n                    <span class="label operator_choice" data-value="<%= operator %>"><%- label %></span>\n                </div>\n                <% }); %>\n            </div>\n        </div>\n        <% } %>\n    </div>\n    <div>\n        <input type="text" name="value" class="AknTextField select-field"/>\n    </div>\n    <div class="AknFilterChoice-button">\n        <button type="button" class="AknButton AknButton--apply filter-update"><%- updateLabel %></button>\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="AknFilterChoice currencyfilter choicefilter">\n    <div class="AknFilterChoice-header">\n        <div class="AknFilterChoice-title"><%- label %></div>\n        <div class="AknDropdown operator">\n            <div class="AknActionButton AknActionButton--withoutBorder" data-toggle="dropdown">\n                <span class="AknActionButton-highlight"><%- selectedOperatorLabel %></span>\n                <span class="AknActionButton-caret"></span>\n            </div>\n            <div class="AknDropdown-menu">\n                <div class="AknDropdown-menuTitle"><%- operatorLabel %></div>\n                <% _.each(operatorChoices, function (label, operator) { %>\n                <div class="AknDropdown-menuLink<% if (selectedOperator == operator) { %> AknDropdown-menuLink--active active<% } %>">\n                    <span class="label operator_choice" data-value="<%= operator %>"><%- label %></span>\n                </div>\n                <% }); %>\n            </div>\n        </div>\n    </div>\n    <div class="AknFilterChoice-inputContainer">\n        <input type="text" name="value" class="AknTextField select-field" value="<%- value %>"/>\n        <div class="AknFilterChoice-currency">\n            <div class="AknDropdown currency">\n                <div class="AknActionButton AknActionButton--withoutBorder" data-toggle="dropdown">\n                    <span class="AknActionButton-highlight"><%- selectedCurrency %></span>\n                    <span class="AknActionButton-caret"></span>\n                </div>\n                <div class="AknDropdown-menu">\n                    <div class="AknDropdown-menuTitle"><%- currencyLabel %></div>\n                    <% _.each(currencies, function (currency) { %>\n                    <div class="AknDropdown-menuLink<% if (selectedCurrency == currency) { %> AknDropdown-menuLink--active active<% } %>">\n                        <span class="label currency_choice" data-value="<%= currency %>"><%- currency %></span>\n                    </div>\n                    <% }); %>\n                </div>\n            </div>\n        </div>\n        <input class="name_input" type="hidden" name="currency_currency" value="<%- selectedCurrency %>"/>\n    </div>\n    <div class="AknFilterChoice-button">\n        <button type="button" class="AknButton AknButton--apply filter-update"><%- updateLabel %></button>\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="AknFilterChoice unitfilter choicefilter">\n    <div class="AknFilterChoice-header">\n        <div class="AknFilterChoice-title"><%- label %></div>\n        <div class="AknDropdown operator">\n            <div class="AknActionButton AknActionButton--withoutBorder" data-toggle="dropdown">\n                <span class="AknActionButton-highlight"><%- selectedOperatorLabel %></span>\n                <span class="AknActionButton-caret"></span>\n            </div>\n            <div class="AknDropdown-menu">\n                <div class="AknDropdown-menuTitle"><%- operatorLabel %></div>\n                <% _.each(operatorChoices, function (label, operator) { %>\n                <div class="AknDropdown-menuLink<% if (selectedOperator == operator) { %> AknDropdown-menuLink--active active<% } %>">\n                    <span class="label operator_choice" data-value="<%- operator %>"><%- label %></span>\n                </div>\n                <% }); %>\n            </div>\n        </div>\n    </div>\n    <div>\n        <input type="text" name="value" class="AknTextField select-field" value="<%- value %>"/>\n        <div class="AknFilterChoice-unit">\n            <div class="AknDropdown unit">\n                <div class="AknActionButton AknActionButton--withoutBorder" data-toggle="dropdown">\n                    <span class="AknActionButton-highlight"><%- __(`pim_measure.unit.${selectedUnit}`) %></span>\n                    <span class="AknActionButton-caret"></span>\n                </div>\n                <div class="AknDropdown-menu unit">\n                    <div class="AknDropdown-menuTitle"><%- unitLabel %></div>\n                    <% _.each(units, function (symbol, code) { %>\n                    <div class="AknDropdown-menuLink<% if (selectedUnit == code) { %> AknDropdown-menuLink--active active<% } %>">\n                        <span class="label unit_choice" data-value="<%- code %>">\n                            <span class="label unit_choice" data-value="<%- code %>">\n                               <%- __(`pim_measure.units.${code}`) %>\n                            </span>\n                        </span>\n                    </div>\n                    <% }); %>\n                </div>\n            </div>\n        </div>\n        <input class="name_input" type="hidden" name="metric_unit" value="<%- selectedUnit %>"/>\n    </div>\n    <div class="AknFilterChoice-button">\n        <button type="button" class="AknButton AknButton--apply filter-update"><%- updateLabel %></button>\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="AknFilterBox-filter filter-select" data-toggle="dropdown">\n    <span class="AknFilterBox-filterLabel"><%- label %></span>\n    <span class="AknFilterBox-filterCriteria value"></span>\n    <span class="AknFilterBox-filterCaret"></span>\n</div>\n<div class="AknDropdown-menu">\n    <div class="AknDropdown-menuTitle"><%- label %></div>\n    <% _.each(options, function (option) { %>\n    <div class="AknDropdown-menuLink" data-value="<%- option.value %>">\n        <span class="label"><%- option.label %></span>\n    </div>\n    <% }) %>\n</div>\n'},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(7),i(114),i(188),i(314)],void 0===(r=function(t,e,i,n){var r=0,o=0,a=!0,s=null,l=null,c=null,u="",d=function(t){return t?0<r?r:o:0==r?o:r},p=function(){c.trigger("tree.updated")},h=function(){return n.generate(y("listtree"),{_format:"json",dataLocale:s,select_node_id:d(!0),include_sub:+a,context:"view"})},f=function(t){c.jstree("select_node","#node_"+t)},m=function(t,e,n){var r=null===e?-1:"#"+e;c.jstree("create",r,"last",{attr:{class:"jstree-unclassified",id:"node_"+t},data:{title:i(n)}},null,!0),t===d()&&f(t)},g=function(t){return+(t&&t.attr&&t.attr("id")?t.attr("id").replace("node_",""):"")},v=function(){return{core:{animation:200,strings:{loading:e.__("pim_common.loading")}},plugins:["tree_selector","nested_switch","themes","json_data","ui","crrm","types"],nested_switch:{state:a,label:i("jstree.include_sub"),callback:function(t){a=t,c.jstree("instance").data.tree_selector.ajax.url=h(),c.jstree("refresh"),c.trigger("after_tree_loaded.jstree"),p()}},tree_selector:{ajax:{url:h()},auto_open_root:!0,node_label_field:"label",preselect_node_id:d()},themes:{dots:!0,icons:!0},json_data:{ajax:{url:n.generate(y("children"),{_format:"json",dataLocale:s,context:"view"}),data:function(t){return{id:g(t),select_node_id:d(),with_items_count:1,include_sub:+a}}}},types:{max_depth:-2,max_children:-2,valid_children:["folder"],types:{default:{valid_children:"folder"}}},ui:{select_limit:1,select_multiple_modifier:!1}}},b=function(){c.jstree(v()).on("trees_loaded.jstree",_).on("after_tree_loaded.jstree",k).on("after_open.jstree correct_state.jstree",x).on("select_node.jstree",A)},y=function(t){return u+"_"+t},_=function(e,i){t("#"+i).select2({width:"100%"})},k=function(e,i){var n=o;o=+i,n&&n!=o?(r=0,f(o),p()):f(d()),t("#node_-2").length||m(-2,null,"jstree."+l+".all")},x=function(e,i){var n=t(i.args[0]);"folder"!==n.attr("rel")||t("#node_-1").length||m(-1,n.attr("id"),"jstree."+l+".unclassified"),p()},A=function(e,i){if(1!==i.args.length){var n=t(i.args).parent(),a=g(n);"folder"!==n.attr("rel")||n.hasClass("jstree-unclassified")?(r=a,o=g(c.find("li").first())):(r=0,o=a),p()}};return{init:function(t,i,n){t&&t.length&&e.isObject(t)&&(s=(c=t).attr("data-datalocale"),l=c.attr("data-relatedentity"),r=e.has(i,"selectedNode")?i.selectedNode:r,o=e.has(i,"selectedTree")?i.selectedTree:o,a=e.has(i,"includeSub")?i.includeSub:a,u=n,b())},getState:function(){return{selectedNode:r,selectedTree:o,includeSub:a}},refresh:function(){b()},reset:function(){c&&(c.jstree("deselect_all"),f(r=-2))}}}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";(function(t){var e;e=t,new Promise(function(t){t()}).then(function(){var t=[i(58)];(function(){var t="nested_switch_input";e.jstree.plugin("nested_switch",{__init:function(){var n=this.get_container();n.bind("init.jstree",e.proxy(function(){var r=this._get_settings().nested_switch;this.data.nested_switch.state=r.state,this.data.nested_switch.label=r.label,this.data.nested_switch.callback=r.callback;var o=this,a=e("<div>",{id:"nested-switch",class:"jstree-footer"}),s=e("<input>",{type:"checkbox",id:t,class:"input-large jstree-tree-select",checked:!!this.data.nested_switch.state}),l=i(2),c=e("<div>",{class:"switch switch-small pull-right",attr:{"data-on-label":l("pim_common.yes"),"data-off-label":l("pim_common.no"),"data-animated":!1}}).html(s),u=e("<label>",{for:t,html:this.data.nested_switch.label,class:"control-label pull-left"});c.on("switch-change",function(t,e){setTimeout(function(){var t=o.data.nested_switch.callback;t&&t(e.value)},25)}),a.html(u),a.append(c.bootstrapSwitch()),n.append(a),n.closest(".sidebar-content").css("height","calc(100% - 60px)")},this))},defaults:{state:!0,label:null,callback:null},_fn:{get_nested_switch:function(){return e("#"+t)}}}),e.jstree.defaults.plugins.push("nested_switch")}).apply(null,t)}).catch(i.oe)}).call(e,i(1))},function(t,e,i){"use strict";var n,r;n=[i(0),i(113)],void 0===(r=function(t,e){return e.extend({})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(113)],void 0===(r=function(t,e,i){return i.extend({template:t.template('<div class="AknFilterBox-filter filter-select filter-criteria-selector"><% if (showLabel) { %><span class="AknFilterBox-filterLabel"><%= label %></span><% } %><select multiple><% _.each(options, function (option) { %><% if(_.isObject(option.value)) { %><optgroup label="<%= option.label %>"><% _.each(option.value, function (value) { %><option value="<%= value.value %>"><%= _.__(value.label) %></option><% }); %></optgroup><% } else { %><option value="<%= option.value %>"><%= _.__(option.label) %></option><% } %><% }); %></select></div><% if (canDisable) { %><a href="<%= nullLink %>" class="AknFilterBox-disableFilter AknIconButton AknIconButton--small AknIconButton--remove disable-filter"></a><% } %>'),widgetOptions:{multiple:!0,classes:"AknFilterBox-filterCriteria select-filter-widget multiselect-filter-widget"},_onSelectChange:function(){var e=this._readDOMValue(),i=""===this.getValue().value?[""]:this.getValue().value,n=t.contains(t.difference(e.value,i),"");e.value=t.contains(e.value,"")?t.without(e.value,""):e.value,e.value=t.isEmpty(e.value)?[""]:e.value,e.value=n?[""]:e.value,this.setValue(this._formatRawValue(e)),this._setDropdownWidth(),this._updateCriteriaSelectorPosition()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";(function(e){var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=i(3),s=i(0),l=i(9),c=i(7),u=function(t){function i(e){var i=t.call(this,e)||this;return i.defaultFilters=[],i.loadedFilters=[],i.opened=!1,i.page=1,i.template='\n    <button type="button" class="AknFilterBox-addFilterButton" aria-haspopup="true" style="width: 280px" data-toggle>\n        <div>Filters</div>\n    </button>\n    <div class="filter-selector"><div>\n    <div class="ui-multiselect-menu ui-widget ui-widget-content ui-corner-all AknFilterBox-addFilterButton AknFilterBox-column filter-list select-filter-widget pimmultiselect">\n        <div class="ui-multiselect-filter"><input placeholder="" type="search"></div>\n        <div class="AknLoadingMask loading-mask filter-loading" style="top: 50px"></div>\n        <div class="filters-column"></div>\n        <div class="AknColumn-bottomButtonContainer AknColumn-bottomButtonContainer--sticky"><div class="AknButton AknButton--apply close">Done</div></div>\n    </div>\n  ',i.filterGroupTemplate='\n    <ul class="ui-multiselect-checkboxes ui-helper-reset full">\n        <li class="ui-multiselect-optgroup-label">\n            <a><%- groupName %></a>\n        </li>\n        <% filters.forEach(filter => { %>\n          <li>\n              <label for="<%- filter.name %>" title="" class="ui-corner-all ui-state-hover">\n                  <input\n                  id="<%- filter.name %>"\n                  name="multiselect_add-filter-select"\n                  type="checkbox" value="<%- filter.name %>"\n                  title="<%- filter.label %>"\n                  <%- filter.enabled ? \'checked="checked"\' : \'\'  %>\n                  <%- true === ignoredFilters.includes(filter.name) ? \'disabled="true"\' : \'\'  %>\n                    aria-selected="true">\n                      <span><%- filter.label %></span>\n              </label>\n          </li>\n        <% }) %>\n    </ul>',i.config=o({},i.config,e.config),i.defaultFilters=[],i.gridCollection={},i.ignoredFilters=["scope"],i.loadedFilters=[],i.searchSelector='input[type="search"]',i}return r(i,t),i.prototype.events=function(){return{"click [data-toggle]":"togglePanel"}},i.prototype.togglePanel=function(){var t=this;this.opened=!this.opened;var i=null;this.opened?(e(this.filterList).show(),i=setTimeout(function(){e(t.filterList).addClass("AknFilterBox-column--expanded"),e(t.searchSelector,t.filterList).focus(),clearTimeout(i)},100)):(e(this.filterList).removeClass("AknFilterBox-column--expanded"),i=setTimeout(function(){e(t.filterList).hide(),clearTimeout(i)},200))},i.prototype.toggleFilter=function(t){var i=e(t.currentTarget),n=i.attr("id"),r=i.is(":checked"),o=this.loadedFilters.find(function(t){return t.name===n});o&&(o.enabled=r),this.triggerFiltersUpdated()},i.prototype.getLocale=function(){var t=this.gridCollection.url.split("?")[1],e=this.gridCollection.decodeStateData(t),i=e["product-grid"]||{};return e.dataLocale||i.dataLocale},i.prototype.fetchFilters=function(t,i){void 0===i&&(i=this.page);var n=this.getLocale(),r=c.generate("pim_datagrid_productgrid_attributes_filters");return e.get(t?r+"?search="+t+"&locale="+n:r+"?page="+i+"&locale="+n)},i.prototype.mergeAddedFilters=function(t,e){var i=Object.keys(this.gridCollection.state.filters),n=[];return t.concat(e).forEach(function(t){i.includes(t.name)&&(t.enabled=!0),void 0===n.find(function(e){return e.name===t.name})&&n.push(t)}),n},i.prototype.fetchNextFilters=function(t){var e=this,i=t.currentTarget,n=Math.max(0,i.scrollTop);i.scrollHeight-i.offsetHeight===n&&(this.page=this.page+1,this.fetchFilters(null,this.page).then(function(t){if(0===t.length)return e.stopListeningToListScroll();e.loadedFilters=e.mergeAddedFilters(e.loadedFilters,t),e.renderFilters(),e.hideLoading()}))},i.prototype.searchFilters=function(t){if(null!==this.timer&&clearTimeout(this.timer),27===t.keyCode)return e(this.filterList).find(this.searchSelector).val("").trigger("keyup"),this.togglePanel();13===t.keyCode?this.doSearch():this.timer=setTimeout(this.doSearch.bind(this),200)},i.prototype.doSearch=function(){var t=this;this.showLoading();var i=e(this.filterList).find(this.searchSelector).val();return 0===i.length?this.renderFilters():this.fetchFilters(i,1).then(function(e){var n=t.mergeAddedFilters(t.defaultFilters,e);t.loadedFilters=t.mergeAddedFilters(t.loadedFilters,n);var r=t.filterBySearchTerm(n,i);return t.renderFilters(r)})},i.prototype.filterBySearchTerm=function(t,e){return t.filter(function(t){var i=t.label.toLowerCase(),n=t.name.toLowerCase(),r=e.toLowerCase();return i.includes(r)||n.includes(r)})},i.prototype.listenToListScroll=function(){e(this.filterList).off("scroll").on("scroll",this.fetchNextFilters.bind(this))},i.prototype.stopListeningToListScroll=function(){e(this.filterList).off("scroll")},i.prototype.renderFilters=function(t){void 0===t&&(t=this.loadedFilters);var i=this.groupFilters(t),n=document.createDocumentFragment(),r=e(this.filterList).find(".filters-column");for(var o in r.empty(),i){var a=i[o],s=this.renderFilterGroup(a,o);n.appendChild(e(s).get(0))}r.append(n);var l=e('input[type="checkbox"]',r);l.off("change"),l.on("change",this.toggleFilter.bind(this)),this.hideLoading()},i.prototype.loadFilterList=function(t,e){var i=this,n=e.data("metadata")||{};this.defaultFilters=n.filters,this.gridCollection=t,this.showLoading(),this.fetchFilters().then(function(t){i.loadedFilters=i.mergeAddedFilters(i.defaultFilters,t),i.renderFilters(),i.listenToListScroll(),i.triggerFiltersUpdated()})},i.prototype.disableFilter=function(t){this.loadedFilters.forEach(function(e){e.name===t.name&&(e.enabled=!1)}),this.renderFilters()},i.prototype.triggerFiltersUpdated=function(){l.trigger("filters-column:update-filters",this.loadedFilters,this.gridCollection)},i.prototype.renderFilterGroup=function(t,e){return s.template(this.filterGroupTemplate)({filters:t,groupName:e,ignoredFilters:this.ignoredFilters})},i.prototype.groupFilters=function(t){return s.groupBy(t,function(t){return t.group||"System"})},i.prototype.configure=function(){return this.listenTo(l,"datagrid_collection_set_after",this.loadFilterList),this.listenTo(l,"filters-selector:disable-filter",this.disableFilter),a.prototype.configure.apply(this,arguments)},i.prototype.render=function(){return e(".filter-list").remove(),this.$el.html(s.template(this.template)),this.filterList=e(".filter-list").appendTo(e("body")),e(this.searchSelector,this.filterList).on("keyup search",this.searchFilters.bind(this)),e(".filter-list",this.filterList).on("scroll",this.searchFilters.bind(this)),e(".close",this.filterList).on("click",this.togglePanel.bind(this)),this.hideLoading(),this},i.prototype.shutdown=function(){e(this.filterList).off().remove(),a.prototype.shutdown.apply(this,arguments)},i.prototype.showLoading=function(){e(".filter-loading").show()},i.prototype.hideLoading=function(){e(".filter-loading").hide()},i}(a);t.exports=u}).call(e,i(1))},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=i(3),s=i(0),l=i(9),c=i(31),u=function(t){function e(e){var i=t.call(this,o({},e,{className:"filter-box"}))||this;return i.config={filterTypes:{string:"choice",choice:"select",selectrow:"select-row",multichoice:"multiselect",boolean:"select"}},i.config=o({},i.config,e.config),i.modules={},i.datagridCollection=null,i.silent=!1,i.categoryFilter={},i}return r(e,t),e.prototype.configure=function(){var t=this;return this.listenTo(l,"filters-column:update-filters",this.renderFilters),this.listenTo(l,"filters-column:update-filter",function(e,i){void 0===i&&(i=!1),t.categoryFilter=e,!1===i&&t.updateGridState()}),a.prototype.configure.apply(this,arguments)},e.prototype.getFilterModule=function(t){var e=this.config.filterTypes[t.type]||t.type,i=this.modules[t.name];if(!i){var n=c("oro/datafilter/"+e+"-filter");if(!n)throw Error("No module found for the "+t.name+" filter");return this.modules[t.name]=new(n.extend(t))(t)}return i},e.prototype.disableFilter=function(t){l.trigger("filters-selector:disable-filter",t),this.updateGridState()},e.prototype.renderFilters=function(t,e){var i=this;this.datagridCollection=e;var n=document.createDocumentFragment(),r=e.state.filters;t.forEach(function(t){var o=i.getFilterModule(t);(!0===t.enabled||r[t.name])&&(o.render(),o.off(),i.stopListening(o,"update"),i.stopListening(o,"disable"),i.listenTo(o,"update",i.updateGridState.bind(i)),i.listenTo(o,"disable",i.disableFilter.bind(i,t)),n.appendChild(o.el)),void 0!==o.moveFilter&&o.moveFilter(e,i.getRoot())}),this.el.appendChild(n),this.restoreFilterState(r,t),l.trigger("filters-column:init",this.updateGridState.bind(this)),l.trigger("datagrid_filters:rendered",e)},e.prototype.restoreFilterState=function(t,e){var i=this;this.silent=!0,e.forEach(function(e){var n=e.name,r=i.modules[n],o=t[n];if(!1===e.enabled?r.disable():(r.enabled=!1,r.enable()),o)try{r.setValue(o),r.enabled=!0}catch(t){console.error("cant restore filter state for",n)}}),this.silent=!1},e.prototype.getState=function(){var t={};for(var e in this.modules){var i=this.modules[e],n="__"+e;i.enabled?i.isEmpty()?i.defaultEnabled||(t[n]=1):t[e]=i.getValue():i.defaultEnabled&&(t[n]=0)}return t},e.prototype.updateGridState=function(){var t=o({},this.categoryFilter),e=this.datagridCollection.state.filters,i=Object.assign(this.getState(),t),n=!s.isEqual(e,i),r=s.isEmpty(e);(n||r)&&!1===this.silent&&(this.datagridCollection.state.filters=i,this.datagridCollection.state.currentPage=1,this.datagridCollection.fetch())},e}(a);t.exports=u},function(t,e,i){"use strict";var n,r;n=[i(2),i(1),i(0),i(8),i(9),i(185),i(320),i(321),i(322),i(323)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c){return n.View.extend({displayAsPanel:!1,filters:{},displayManageFilters:function(){return i.result(this.options,"displayManageFilters",!0)},filtersAsColumn:function(){return i.result(this.options,"filtersAsColumn",!1)},addButtonTemplate:i.template(a),addFilterButtonTemplate:i.template(s),doneContainerTemplate:i.template(l),doneButtonTemplate:i.template(c),filterSelector:"#add-filter-select",selectWidget:null,buttonSelector:".ui-multiselect.filter-list",events:{"change #add-filter-select":"_onChangeFilterSelect"},initialize:function(t){t.filters&&(this.filters=t.filters),this.displayAsPanel=t.displayAsPanel,i.each(this.filters,function(t){this.listenTo(t,"update",this._onFilterUpdated),this.listenTo(t,"disable",this._onFilterDisabled)},this),n.View.prototype.initialize.apply(this,arguments),r.once("hash_navigation_request:start",function(){i.each(this.filters,function(t){this.stopListening(t,"update",this._onFilterUpdated),this.stopListening(t,"disable",this._onFilterDisabled)},this)},this)},_onFilterUpdated:function(t){this.trigger("updateFilter",t)},_onFilterDisabled:function(t){this.trigger("disableFilter",t),this.disableFilter(t)},getValues:function(){var t={};return i.each(this.filters,function(e){e.enabled&&(t[e.name]=e.getValue())},this),t},setValues:function(t){i.each(t,function(t,e){i.has(this.filters,e)&&this.filters[e].setValue(t)},this)},_onChangeFilterSelect:function(){this.trigger("updateList",this),this._processFilterStatus()},_onClose(){this.selectWidget.multiselect("close")},enableFilter:function(t){return this.enableFilters([t])},disableFilter:function(t){return this.disableFilters([t])},enableFilters:function(t){if(i.isEmpty(t))return this;var e=[];i.each(t,function(t){t.enable(),e.push(`option[value="${t.name}"]:not(:selected)`)},this);var n=this.$(this.filterSelector).find(e.join(","));return n.length&&n.attr("selected",!0),this.displayManageFilters()&&e.length&&this.selectWidget.multiselect("refresh"),this},disableFilters:function(t){if(i.isEmpty(t))return this;var e=[];i.each(t,function(t){t.disable(),e.push(`option[value="${t.name}"]:selected`)},this);var n=this.$(this.filterSelector).find(e.join(","));return n.length&&n.removeAttr("selected"),this.displayManageFilters()&&e.length&&this.selectWidget.multiselect("refresh"),this},className:function(){if(this.options.renderFilterList)return"AknFilterBox filter-box oro-clearfix-width AknFilterBox--search"},render:function(){this.$el.empty();var t=document.createDocumentFragment();return this.options.renderFilterList&&i.each(this.filters,function(e){e.enabled||e.hide(),e.enabled&&e.render(),0<e.$el.length&&t.appendChild(e.$el.get(0))},this),this.trigger("rendered"),i.isEmpty(this.filters)?this.$el.hide():(this._fillEmptyGroupFilters(),this.$el.append(t),this.displayManageFilters()&&this.$el.append(this.addButtonTemplate({filters:this.filters,groups:this._getSortedGroups()})),this._initializeSelectWidget()),this},_getSortedGroups:function(){var e=[],i=[];return Object.values(this.filters).forEach(n=>{n.group!==t("pim_datagrid.column_configurator.system_group")&&(null===n.groupOrder?-1>=i.indexOf(n.group)&&i.push(n.group):0===e.filter(t=>t.label===n.group).length&&e.push({label:n.group,order:n.groupOrder}))}),[t("pim_datagrid.filters.system")].concat(e.sort((t,e)=>t.order-e.order).map(t=>t.label)).concat(i)},_fillEmptyGroupFilters:function(){Object.keys(this.filters).forEach(e=>{(""===this.filters[e].group||null===this.filters[e].group||void 0===this.filters[e].group)&&(this.filters[e].group=t("pim_datagrid.filters.system"))})},_initializeSelectWidget:function(){if(this.displayManageFilters()){var e={multiple:!0,selectedList:0,classes:"AknFilterBox-addFilterButton AknFilterBox-addFilterButton--asPanel filter-list select-filter-widget",position:{at:"right top",my:"right top"}};this.displayAsPanel||(e.classes="AknFilterBox-addFilterButton filter-list select-filter-widget",e.beforeopen=(()=>(this.selectWidget.getWidget().css({left:this._getLeftStartPosition()}),this._addDoneButton(),!0)),e.open=(()=>{this.$el.is(":visible")&&(this.selectWidget.onOpenDropdown(),this._updateDropdownPosition())}),e.beforeclose=(()=>null===this.selectWidget.getWidget()||0===this.selectWidget.getWidget().length||this.selectWidget.getWidget().position().left<=this._getLeftStartPosition()||(this.selectWidget.getWidget().css({left:this._getLeftEndPosition()+"px"}),this.selectWidget.getWidget().css({left:this._getLeftStartPosition()+"px"}),setTimeout(()=>this.selectWidget.multiselect("close"),500),!1)),e.position={left:this._getLeftStartPosition()}),this.selectWidget=new o({element:this.$(this.filterSelector),parameters:e}),this.selectWidget.setViewDesign(this),this.selectWidget.getWidget().addClass("pimmultiselect"),this.$(".filter-list span:first").replaceWith(this.addFilterButtonTemplate({label:t("pim_datagrid.filters.label")}))}},_addDoneButton(){if(!this.selectWidget.getWidget().find(".close").length){var i=e(this.doneButtonTemplate({label:t("pim_common.done")}));i.on("click",()=>this._onClose());var n=e(this.doneContainerTemplate());n.append(i),this.selectWidget.getWidget().append(n)}},_processFilterStatus:function(){var t=this.$(this.filterSelector).val();i.each(this.filters,function(e,n){e.enabled||-1===i.indexOf(t,n)?e.enabled&&-1===i.indexOf(t,n)&&this.disableFilter(e):this.enableFilter(e)},this)},_updateDropdownPosition:function(){this.selectWidget.getWidget().css({left:this._getLeftStartPosition()+"px"}),this.selectWidget.getWidget().css({left:this._getLeftEndPosition()+"px"})},_getOffsetWidth:()=>e(".AknHeader").width()+e(".AknDefault-contentWithColumn .AknColumn").width(),_getLeftStartPosition(){return this._getOffsetWidth()-300},_getLeftEndPosition(){return this._getOffsetWidth()}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<select id="add-filter-select" multiple>\n    <% groups.forEach((group) => { %>\n        <optgroup label="<%= group %>">\n            <% Object.keys(filters).forEach((filterKey) => { %>\n                <% if (filters[filterKey].group === group) { %>\n                    <option value="<%= filterKey %>" <% if (filters[filterKey].enabled) { %>selected<% } %>>\n                        <%= filters[filterKey].label %>\n                    </option>\n                    <% } %>\n            <% }); %>\n        </optgroup>\n    <% }); %>\n</select>\n'},function(t,e){t.exports='<div id="add-filter-button" ><%- label %></div>\n'},function(t,e){t.exports='<div class="AknColumn-bottomButtonContainer"></div>\n'},function(t,e){t.exports='<div class="AknButton AknButton--apply close"><%- label %></div>\n'},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(111),i(88),i(64),i(115),i(326)],void 0===(r=function(t,e,i,n,r,o,a,s){return n.extend({popupCriteriaTemplate:e.template(s),criteriaValueSelectors:{type:".AknActionButton-highlight",value:{start:".from",end:".to"}},inputClass:"AknTextField",datetimepickerOptions:{format:o.get("date").format,defaultFormat:o.get("date").defaultFormat,language:o.get("language")},dateWidgets:{start:null,end:null},typeValues:{between:1,notBetween:2,moreThan:3,lessThan:4},dateWidgetSelector:"datepicker",events:{"click .filter-update":"_onClickUpdateCriteria","click .filter-criteria-selector":"_onClickCriteriaSelector","click .AknDropdown-menuLink":"_onSelectOperator","click .disable-filter":"_onClickDisableFilter"},initialize:function(){e.isUndefined(this.emptyValue)&&(this.emptyValue={type:e.isEmpty(this.choices)?"":e.first(this.choices).value,value:{start:"",end:""}}),n.prototype.initialize.apply(this,arguments)},_onSelectOperator:function(e){var i=t(e.currentTarget).find(".operator_choice").attr("data-value");this._highlightDropdown(i,".operator"),this._displayFilterType(i),e.preventDefault()},_displayFilterType:function(t){this.$el.find(".AknFilterChoice-separator").show(),this.$el.find(this.criteriaValueSelectors.value.end).show(),this.$el.find(this.criteriaValueSelectors.value.start).show(),this.typeValues.moreThan==parseInt(t)?(this.$el.find(".AknFilterChoice-separator").hide(),this.$el.find(this.criteriaValueSelectors.value.end).hide()):this.typeValues.lessThan==parseInt(t)?(this.$el.find(".AknFilterChoice-separator").hide(),this.$el.find(this.criteriaValueSelectors.value.start).hide()):e.contains(["empty","not empty"],t)&&(this.$el.find(".AknFilterChoice-separator").hide(),this.$el.find(this.criteriaValueSelectors.value.end).hide(),this.$el.find(this.criteriaValueSelectors.value.start).hide())},_renderCriteria:function(n){var o=this._getDisplayValue();return t(n).empty().append(this.popupCriteriaTemplate({label:this.label,name:this.name,choices:this.choices,selectedChoice:o.type,inputClass:this.inputClass,selectedOperatorLabel:e.findWhere(this.choices,{value:o.type+""}).label,operatorLabel:i("pim_datagrid.filters.common.operator"),updateLabel:i("pim_common.update"),fromLabel:i("pim_common.from"),toLabel:i("pim_common.to"),from:o.value.start,to:o.value.end})),e.each(this.criteriaValueSelectors.value,function(t,e){this.dateWidgets[e]=r.init(this.$(t),this.datetimepickerOptions)},this),this._displayFilterType(o.type),this},_getCriteriaHint:function(){var t,n,r="",o=0<arguments.length?this._getDisplayValue(arguments[0]):this._getDisplayValue();if(e.contains(["empty","not empty"],o.type))return this._getChoiceOption(o.type).label;if(o.value){switch(t=o.value.start,n=o.value.end,o.type?o.type.toString():""){case this.typeValues.moreThan.toString():r+=[i("pim_common.more_than"),t].join(" ");break;case this.typeValues.lessThan.toString():r+=[i("pim_common.less_than"),n].join(" ");break;case this.typeValues.notBetween.toString():t&&n?r+=[this._getChoiceOption(this.typeValues.notBetween).label,t,i("pim_common.and"),n].join(" "):t?r+=[i("pim_common.before"),t].join(" "):n&&(r+=[i("pim_common.after"),n].join(" "));break;case this.typeValues.between.toString():default:t&&n?r+=[this._getChoiceOption(this.typeValues.between).label,t,i("pim_common.and"),n].join(" "):t?r+=[i("pim_common.from"),t].join(" "):n&&(r+=[i("pim_common.to"),n].join(" "))}if(r)return r}return this.placeholder},_formatDisplayValue:function(t){return e.each(t.value,function(e,i){e&&(t.value[i]=a.format(e,this.datetimepickerOptions.defaultFormat,this.datetimepickerOptions.format))},this),t},_formatRawValue:function(t){return e.each(t.value,function(e,i){e&&(t.value[i]=a.format(e,this.datetimepickerOptions.format,this.datetimepickerOptions.defaultFormat))},this),t},_writeDOMValue:function(t){return this._setInputValue(this.criteriaValueSelectors.value.start+" input",t.value.start),this._setInputValue(this.criteriaValueSelectors.value.end+" input",t.value.end),this._setInputValue(this.criteriaValueSelectors.type,t.type),this},_readDOMValue:function(){return{type:this.$(".active .operator_choice").data("value"),value:{start:this._getInputValue(this.criteriaValueSelectors.value.start+" input"),end:this._getInputValue(this.criteriaValueSelectors.value.end+" input")}}},_focusCriteria:function(){},_hideCriteria:function(){n.prototype._hideCriteria.apply(this,arguments)},_triggerUpdate:function(){},_onValueUpdated:function(t){n.prototype._onValueUpdated.apply(this,arguments),e.contains(["empty","not empty"],t.type)?this.$el.find(".AknFilterChoice-separator").hide().end().find(this.criteriaValueSelectors.value.end).hide().end().find(this.criteriaValueSelectors.value.start).hide():this._displayFilterType(t.type)},_onClickUpdateCriteria:function(){this._hideCriteria(),this.setValue(this._formatRawValue(this._readDOMValue())),this.trigger("update")},reset:function(){return this.setValue(this.emptyValue),this.trigger("update"),this}})}.apply(e,n))||(t.exports=r)},,function(t,e){t.exports='<div class="AknFilterChoice">\n    <div class="AknFilterChoice-header">\n        <div class="AknFilterChoice-title"><%- label %></div>\n\n        <div class="AknDropdown operator">\n            <div class="AknActionButton AknActionButton--withoutBorder" data-toggle="dropdown">\n                <span class="AknActionButton-highlight"><%- selectedOperatorLabel %></span>\n                <span class="AknActionButton-caret"></span>\n            </div>\n            <div class="AknDropdown-menu">\n                <div class="AknDropdown-menuTitle"><%- operatorLabel %></div>\n                <% _.each(choices, function (option) { %>\n                <div class="AknDropdown-menuLink<% if (selectedChoice == option.value) { %> AknDropdown-menuLink--active active<% } %>">\n                    <span class="label operator_choice" data-value="<%= option.value %>"><%= option.label %></span>\n                </div>\n                <% }); %>\n            </div>\n        </div>\n    </div>\n    <div class="AknFilterChoice-dates">\n        <span class="AknFilterChoice-date from">\n            <input type="text" value="<%- from %>" class="date-selector <%= inputClass %> add-on" name="start" placeholder="<%- fromLabel %>" size="1">\n        </span>\n        <span class="AknFilterChoice-separator separator">-</span>\n        <span class="AknFilterChoice-date to">\n            <input type="text" value="<%- to %>" class="date-selector <%= inputClass %> add-on" name="end" placeholder="<%- toLabel %>" size="1">\n        </span>\n    </div>\n    <div class="AknFilterChoice-button">\n        <button class="AknButtonList-item AknButton AknButton--apply filter-update" type="button"><%- updateLabel %></button>\n    </div>\n</div>\n'},function(t,e,i){var n,r,o="pim_datagrid_view_rest_remove";n=[i(1),i(7)],void 0===(r=function(t,e){return{remove:function(i){var n=e.generate(o,{identifier:i.id});return t.ajax({url:n,type:"DELETE"})}}}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=i(1),a=i(65),s=i(5),l=i(6),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.configure=function(){var t=this;return o.when(a.prototype.configure.apply(this,arguments),s.getFetcher("channel").fetchAll().then(function(e){t.config.choices=e}))},e.prototype.formatChoices=function(t){return t.reduce(function(t,e){var i=e.labels[l.get("uiLocale")];return t[e.code]=void 0!==i?i:"["+e.code+"]",t},{})},e}(a);t.exports=c},function(t,e,i){"use strict";var n,r;n=[i(2),i(3)],void 0===(r=function(t,e){return e.extend({initialize:function(t){this.config=t.config,e.prototype.initialize.apply(this,arguments)},configure:function(){return this.trigger("tab:register",{code:this.code,label:t(this.config.label)}),e.prototype.configure.apply(this,arguments)},render:function(){this.$el.empty(),this.renderExtensions()}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<% if (fieldLabel !== \'\') { %><div class="AknFieldContainer-header">\n    <label class="AknFieldContainer-label control-label" for="pim_enrich_form_<%- fieldId %>">\n        <%- fieldLabel %><% if (required) { %> <em><%- requiredLabel %></em><% } %>\n    </label>\n</div><% } %>\n<div class="AknFieldContainer-inputContainer">\n    <div class="field-input"></div>\n</div>\n<div class="AknFieldContainer-footer">\n    <% _.each(errors, function(error) { %>\n        <span class="AknFieldContainer-validationError">\n            <span class="error-message"><%- error.message %></span>\n        </span>\n    <% }) %>\n</div>\n'},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=i(1),a=i(65),s=i(5),l=i(6),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.configure=function(){var t=this;return o.when(a.prototype.configure.apply(this,arguments),s.getFetcher("category").fetchAll().then(function(e){t.config.choices=e}))},e.prototype.formatChoices=function(t){return t.reduce(function(t,e){var i=e.labels[l.get("uiLocale")];return t[e.code]=void 0!==i?i:"["+e.code+"]",t},{})},e}(a);t.exports=c},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=i(1),a=i(65),s=i(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.configure=function(){var t=this;return o.when(a.prototype.configure.apply(this,arguments),s.getFetcher("ui-locale").fetchAll().then(function(e){t.config.choices=e}))},e.prototype.formatChoices=function(t){return t.reduce(function(t,e){return t[e.code]=e.label,t},{})},e}(a);t.exports=l},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=i(65),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.configure=function(){o.prototype.configure.apply(this,arguments),this.config.choices={Africa:{"Africa/Abidjan":"Abidjan GMT (UTC+00:00)","Africa/Accra":"Accra GMT (UTC+00:00)","Africa/Addis_Ababa":"Addis Ababa EAT (UTC+03:00)","Africa/Algiers":"Algiers CET (UTC+01:00)","Africa/Asmara":"Asmara EAT (UTC+03:00)","Africa/Bamako":"Bamako GMT (UTC+00:00)","Africa/Bangui":"Bangui WAT (UTC+01:00)","Africa/Banjul":"Banjul GMT (UTC+00:00)","Africa/Bissau":"Bissau GMT (UTC+00:00)","Africa/Blantyre":"Blantyre CAT (UTC+02:00)","Africa/Brazzaville":"Brazzaville WAT (UTC+01:00)","Africa/Bujumbura":"Bujumbura CAT (UTC+02:00)","Africa/Cairo":"Cairo EET (UTC+02:00)","Africa/Casablanca":"Casablanca WEST (UTC+01:00)","Africa/Ceuta":"Ceuta CEST (UTC+02:00)","Africa/Conakry":"Conakry GMT (UTC+00:00)","Africa/Dakar":"Dakar GMT (UTC+00:00)","Africa/Dar_es_Salaam":"Dar es Salaam EAT (UTC+03:00)","Africa/Djibouti":"Djibouti EAT (UTC+03:00)","Africa/Douala":"Douala WAT (UTC+01:00)","Africa/El_Aaiun":"El Aaiun WEST (UTC+01:00)","Africa/Freetown":"Freetown GMT (UTC+00:00)","Africa/Gaborone":"Gaborone CAT (UTC+02:00)","Africa/Harare":"Harare CAT (UTC+02:00)","Africa/Johannesburg":"Johannesburg SAST (UTC+02:00)","Africa/Juba":"Juba EAT (UTC+03:00)","Africa/Kampala":"Kampala EAT (UTC+03:00)","Africa/Khartoum":"Khartoum EAT (UTC+03:00)","Africa/Kigali":"Kigali CAT (UTC+02:00)","Africa/Kinshasa":"Kinshasa WAT (UTC+01:00)","Africa/Lagos":"Lagos WAT (UTC+01:00)","Africa/Libreville":"Libreville WAT (UTC+01:00)","Africa/Lome":"Lome GMT (UTC+00:00)","Africa/Luanda":"Luanda WAT (UTC+01:00)","Africa/Lubumbashi":"Lubumbashi CAT (UTC+02:00)","Africa/Lusaka":"Lusaka CAT (UTC+02:00)","Africa/Malabo":"Malabo WAT (UTC+01:00)","Africa/Maputo":"Maputo CAT (UTC+02:00)","Africa/Maseru":"Maseru SAST (UTC+02:00)","Africa/Mbabane":"Mbabane SAST (UTC+02:00)","Africa/Mogadishu":"Mogadishu EAT (UTC+03:00)","Africa/Monrovia":"Monrovia GMT (UTC+00:00)","Africa/Nairobi":"Nairobi EAT (UTC+03:00)","Africa/Ndjamena":"Ndjamena WAT (UTC+01:00)","Africa/Niamey":"Niamey WAT (UTC+01:00)","Africa/Nouakchott":"Nouakchott GMT (UTC+00:00)","Africa/Ouagadougou":"Ouagadougou GMT (UTC+00:00)","Africa/Porto-Novo":"Porto-Novo WAT (UTC+01:00)","Africa/Sao_Tome":"Sao Tome GMT (UTC+00:00)","Africa/Tripoli":"Tripoli EET (UTC+02:00)","Africa/Tunis":"Tunis CET (UTC+01:00)","Africa/Windhoek":"Windhoek WAT (UTC+01:00)"},America:{"America/Adak":"Adak HDT (UTC-09:00)","America/Anchorage":"Anchorage AKDT (UTC-08:00)","America/Anguilla":"Anguilla AST (UTC-04:00)","America/Antigua":"Antigua AST (UTC-04:00)","America/Araguaina":"Araguaina BRT (UTC-03:00)","America/Argentina/Buenos_Aires":"Argentina - Buenos Aires ART (UTC-03:00)","America/Argentina/Catamarca":"Argentina - Catamarca ART (UTC-03:00)","America/Argentina/Cordoba":"Argentina - Cordoba ART (UTC-03:00)","America/Argentina/Jujuy":"Argentina - Jujuy ART (UTC-03:00)","America/Argentina/La_Rioja":"Argentina - La Rioja ART (UTC-03:00)","America/Argentina/Mendoza":"Argentina - Mendoza ART (UTC-03:00)","America/Argentina/Rio_Gallegos":"Argentina - Rio Gallegos ART (UTC-03:00)","America/Argentina/Salta":"Argentina - Salta ART (UTC-03:00)","America/Argentina/San_Juan":"Argentina - San Juan ART (UTC-03:00)","America/Argentina/San_Luis":"Argentina - San Luis ART (UTC-03:00)","America/Argentina/Tucuman":"Argentina - Tucuman ART (UTC-03:00)","America/Argentina/Ushuaia":"Argentina - Ushuaia ART (UTC-03:00)","America/Aruba":"Aruba AST (UTC-04:00)","America/Asuncion":"Asuncion PYT (UTC-04:00)","America/Atikokan":"Atikokan EST (UTC-05:00)","America/Bahia":"Bahia BRT (UTC-03:00)","America/Bahia_Banderas":"Bahia Banderas CDT (UTC-05:00)","America/Barbados":"Barbados AST (UTC-04:00)","America/Belem":"Belem BRT (UTC-03:00)","America/Belize":"Belize CST (UTC-06:00)","America/Blanc-Sablon":"Blanc-Sablon AST (UTC-04:00)","America/Boa_Vista":"Boa Vista AMT (UTC-04:00)","America/Bogota":"Bogota COT (UTC-05:00)","America/Boise":"Boise MDT (UTC-06:00)","America/Cambridge_Bay":"Cambridge Bay MDT (UTC-06:00)","America/Campo_Grande":"Campo Grande AMT (UTC-04:00)","America/Cancun":"Cancun EST (UTC-05:00)","America/Caracas":"Caracas VET (UTC-04:00)","America/Cayenne":"Cayenne GFT (UTC-03:00)","America/Cayman":"Cayman EST (UTC-05:00)","America/Chicago":"Chicago CDT (UTC-05:00)","America/Chihuahua":"Chihuahua MDT (UTC-06:00)","America/Costa_Rica":"Costa Rica CST (UTC-06:00)","America/Creston":"Creston MST (UTC-07:00)","America/Cuiaba":"Cuiaba AMT (UTC-04:00)","America/Curacao":"Curacao AST (UTC-04:00)","America/Danmarkshavn":"Danmarkshavn GMT (UTC+00:00)","America/Dawson":"Dawson PDT (UTC-07:00)","America/Dawson_Creek":"Dawson Creek MST (UTC-07:00)","America/Denver":"Denver MDT (UTC-06:00)","America/Detroit":"Detroit EDT (UTC-04:00)","America/Dominica":"Dominica AST (UTC-04:00)","America/Edmonton":"Edmonton MDT (UTC-06:00)","America/Eirunepe":"Eirunepe ACT (UTC-05:00)","America/El_Salvador":"El Salvador CST (UTC-06:00)","America/Fort_Nelson":"Fort Nelson MST (UTC-07:00)","America/Fortaleza":"Fortaleza BRT (UTC-03:00)","America/Glace_Bay":"Glace Bay ADT (UTC-03:00)","America/Godthab":"Godthab WGST (UTC-02:00)","America/Goose_Bay":"Goose Bay ADT (UTC-03:00)","America/Grand_Turk":"Grand Turk AST (UTC-04:00)","America/Grenada":"Grenada AST (UTC-04:00)","America/Guadeloupe":"Guadeloupe AST (UTC-04:00)","America/Guatemala":"Guatemala CST (UTC-06:00)","America/Guayaquil":"Guayaquil ECT (UTC-05:00)","America/Guyana":"Guyana GYT (UTC-04:00)","America/Halifax":"Halifax ADT (UTC-03:00)","America/Havana":"Havana CDT (UTC-04:00)","America/Hermosillo":"Hermosillo MST (UTC-07:00)","America/Indiana/Indianapolis":"Indiana - Indianapolis EDT (UTC-04:00)","America/Indiana/Knox":"Indiana - Knox CDT (UTC-05:00)","America/Indiana/Marengo":"Indiana - Marengo EDT (UTC-04:00)","America/Indiana/Petersburg":"Indiana - Petersburg EDT (UTC-04:00)","America/Indiana/Tell_City":"Indiana - Tell City CDT (UTC-05:00)","America/Indiana/Vevay":"Indiana - Vevay EDT (UTC-04:00)","America/Indiana/Vincennes":"Indiana - Vincennes EDT (UTC-04:00)","America/Indiana/Winamac":"Indiana - Winamac EDT (UTC-04:00)","America/Inuvik":"Inuvik MDT (UTC-06:00)","America/Iqaluit":"Iqaluit EDT (UTC-04:00)","America/Jamaica":"Jamaica EST (UTC-05:00)","America/Juneau":"Juneau AKDT (UTC-08:00)","America/Kentucky/Louisville":"Kentucky - Louisville EDT (UTC-04:00)","America/Kentucky/Monticello":"Kentucky - Monticello EDT (UTC-04:00)","America/Kralendijk":"Kralendijk AST (UTC-04:00)","America/La_Paz":"La Paz BOT (UTC-04:00)","America/Lima":"Lima PET (UTC-05:00)","America/Los_Angeles":"Los Angeles PDT (UTC-07:00)","America/Lower_Princes":"Lower Princes AST (UTC-04:00)","America/Maceio":"Maceio BRT (UTC-03:00)","America/Managua":"Managua CST (UTC-06:00)","America/Manaus":"Manaus AMT (UTC-04:00)","America/Marigot":"Marigot AST (UTC-04:00)","America/Martinique":"Martinique AST (UTC-04:00)","America/Matamoros":"Matamoros CDT (UTC-05:00)","America/Mazatlan":"Mazatlan MDT (UTC-06:00)","America/Menominee":"Menominee CDT (UTC-05:00)","America/Merida":"Merida CDT (UTC-05:00)","America/Metlakatla":"Metlakatla AKDT (UTC-08:00)","America/Mexico_City":"Mexico City CDT (UTC-05:00)","America/Miquelon":"Miquelon PMDT (UTC-02:00)","America/Moncton":"Moncton ADT (UTC-03:00)","America/Monterrey":"Monterrey CDT (UTC-05:00)","America/Montevideo":"Montevideo UYT (UTC-03:00)","America/Montserrat":"Montserrat AST (UTC-04:00)","America/Nassau":"Nassau EDT (UTC-04:00)","America/New_York":"New York EDT (UTC-04:00)","America/Nipigon":"Nipigon EDT (UTC-04:00)","America/Nome":"Nome AKDT (UTC-08:00)","America/Noronha":"Noronha FNT (UTC-02:00)","America/North_Dakota/Beulah":"North Dakota - Beulah CDT (UTC-05:00)","America/North_Dakota/Center":"North Dakota - Center CDT (UTC-05:00)","America/North_Dakota/New_Salem":"North Dakota - New Salem CDT (UTC-05:00)","America/Ojinaga":"Ojinaga MDT (UTC-06:00)","America/Panama":"Panama EST (UTC-05:00)","America/Pangnirtung":"Pangnirtung EDT (UTC-04:00)","America/Paramaribo":"Paramaribo SRT (UTC-03:00)","America/Phoenix":"Phoenix MST (UTC-07:00)","America/Port-au-Prince":"Port-au-Prince EST (UTC-05:00)","America/Port_of_Spain":"Port of Spain AST (UTC-04:00)","America/Porto_Velho":"Porto Velho AMT (UTC-04:00)","America/Puerto_Rico":"Puerto Rico AST (UTC-04:00)","America/Rainy_River":"Rainy River CDT (UTC-05:00)","America/Rankin_Inlet":"Rankin Inlet CDT (UTC-05:00)","America/Recife":"Recife BRT (UTC-03:00)","America/Regina":"Regina CST (UTC-06:00)","America/Resolute":"Resolute CDT (UTC-05:00)","America/Rio_Branco":"Rio Branco ACT (UTC-05:00)","America/Santarem":"Santarem BRT (UTC-03:00)","America/Santiago":"Santiago CLT (UTC-04:00)","America/Santo_Domingo":"Santo Domingo AST (UTC-04:00)","America/Sao_Paulo":"Sao Paulo BRT (UTC-03:00)","America/Scoresbysund":"Scoresbysund EGST (UTC+00:00)","America/Sitka":"Sitka AKDT (UTC-08:00)","America/St_Barthelemy":"St Barthelemy AST (UTC-04:00)","America/St_Johns":"St Johns NDT (UTC-02:30)","America/St_Kitts":"St Kitts AST (UTC-04:00)","America/St_Lucia":"St Lucia AST (UTC-04:00)","America/St_Thomas":"St Thomas AST (UTC-04:00)","America/St_Vincent":"St Vincent AST (UTC-04:00)","America/Swift_Current":"Swift Current CST (UTC-06:00)","America/Tegucigalpa":"Tegucigalpa CST (UTC-06:00)","America/Thule":"Thule ADT (UTC-03:00)","America/Thunder_Bay":"Thunder Bay EDT (UTC-04:00)","America/Tijuana":"Tijuana PDT (UTC-07:00)","America/Toronto":"Toronto EDT (UTC-04:00)","America/Tortola":"Tortola AST (UTC-04:00)","America/Vancouver":"Vancouver PDT (UTC-07:00)","America/Whitehorse":"Whitehorse PDT (UTC-07:00)","America/Winnipeg":"Winnipeg CDT (UTC-05:00)","America/Yakutat":"Yakutat AKDT (UTC-08:00)","America/Yellowknife":"Yellowknife MDT (UTC-06:00)"},Antarctica:{"Antarctica/Casey":"Casey AWST (UTC+08:00)","Antarctica/Davis":"Davis DAVT (UTC+07:00)","Antarctica/DumontDUrville":"DumontDUrville DDUT (UTC+10:00)","Antarctica/Macquarie":"Macquarie MIST (UTC+11:00)","Antarctica/Mawson":"Mawson MAWT (UTC+05:00)","Antarctica/McMurdo":"McMurdo NZST (UTC+12:00)","Antarctica/Palmer":"Palmer CLT (UTC-04:00)","Antarctica/Rothera":"Rothera ROTT (UTC-03:00)","Antarctica/Syowa":"Syowa SYOT (UTC+03:00)","Antarctica/Troll":"Troll CEST (UTC+02:00)","Antarctica/Vostok":"Vostok VOST (UTC+06:00)"},Arctic:{"Arctic/Longyearbyen":"Longyearbyen CEST (UTC+02:00)"},Asia:{"Asia/Aden":"Aden AST (UTC+03:00)","Asia/Almaty":"Almaty +06 (UTC+06:00)","Asia/Amman":"Amman EEST (UTC+03:00)","Asia/Anadyr":"Anadyr ANAT (UTC+12:00)","Asia/Aqtau":"Aqtau +05 (UTC+05:00)","Asia/Aqtobe":"Aqtobe +05 (UTC+05:00)","Asia/Ashgabat":"Ashgabat TMT (UTC+05:00)","Asia/Baghdad":"Baghdad AST (UTC+03:00)","Asia/Bahrain":"Bahrain AST (UTC+03:00)","Asia/Baku":"Baku AZT (UTC+04:00)","Asia/Bangkok":"Bangkok ICT (UTC+07:00)","Asia/Barnaul":"Barnaul +07 (UTC+07:00)","Asia/Beirut":"Beirut EEST (UTC+03:00)","Asia/Bishkek":"Bishkek KGT (UTC+06:00)","Asia/Brunei":"Brunei BNT (UTC+08:00)","Asia/Chita":"Chita YAKT (UTC+09:00)","Asia/Choibalsan":"Choibalsan CHOST (UTC+09:00)","Asia/Colombo":"Colombo IST (UTC+05:30)","Asia/Damascus":"Damascus EEST (UTC+03:00)","Asia/Dhaka":"Dhaka BDT (UTC+06:00)","Asia/Dili":"Dili TLT (UTC+09:00)","Asia/Dubai":"Dubai GST (UTC+04:00)","Asia/Dushanbe":"Dushanbe TJT (UTC+05:00)","Asia/Gaza":"Gaza EEST (UTC+03:00)","Asia/Hebron":"Hebron EEST (UTC+03:00)","Asia/Ho_Chi_Minh":"Ho Chi Minh ICT (UTC+07:00)","Asia/Hong_Kong":"Hong Kong HKT (UTC+08:00)","Asia/Hovd":"Hovd HOVST (UTC+08:00)","Asia/Irkutsk":"Irkutsk IRKT (UTC+08:00)","Asia/Jakarta":"Jakarta WIB (UTC+07:00)","Asia/Jayapura":"Jayapura WIT (UTC+09:00)","Asia/Jerusalem":"Jerusalem IDT (UTC+03:00)","Asia/Kabul":"Kabul AFT (UTC+04:30)","Asia/Kamchatka":"Kamchatka PETT (UTC+12:00)","Asia/Karachi":"Karachi PKT (UTC+05:00)","Asia/Kathmandu":"Kathmandu NPT (UTC+05:45)","Asia/Khandyga":"Khandyga YAKT (UTC+09:00)","Asia/Kolkata":"Kolkata IST (UTC+05:30)","Asia/Krasnoyarsk":"Krasnoyarsk KRAT (UTC+07:00)","Asia/Kuala_Lumpur":"Kuala Lumpur MYT (UTC+08:00)","Asia/Kuching":"Kuching MYT (UTC+08:00)","Asia/Kuwait":"Kuwait AST (UTC+03:00)","Asia/Macau":"Macau CST (UTC+08:00)","Asia/Magadan":"Magadan MAGT (UTC+11:00)","Asia/Makassar":"Makassar WITA (UTC+08:00)","Asia/Manila":"Manila PHT (UTC+08:00)","Asia/Muscat":"Muscat GST (UTC+04:00)","Asia/Nicosia":"Nicosia EEST (UTC+03:00)","Asia/Novokuznetsk":"Novokuznetsk KRAT (UTC+07:00)","Asia/Novosibirsk":"Novosibirsk NOVT (UTC+06:00)","Asia/Omsk":"Omsk OMST (UTC+06:00)","Asia/Oral":"Oral +05 (UTC+05:00)","Asia/Phnom_Penh":"Phnom Penh ICT (UTC+07:00)","Asia/Pontianak":"Pontianak WIB (UTC+07:00)","Asia/Pyongyang":"Pyongyang KST (UTC+08:30)","Asia/Qatar":"Qatar AST (UTC+03:00)","Asia/Qyzylorda":"Qyzylorda +06 (UTC+06:00)","Asia/Rangoon":"Rangoon MMT (UTC+06:30)","Asia/Riyadh":"Riyadh AST (UTC+03:00)","Asia/Sakhalin":"Sakhalin SAKT (UTC+11:00)","Asia/Samarkand":"Samarkand UZT (UTC+05:00)","Asia/Seoul":"Seoul KST (UTC+09:00)","Asia/Shanghai":"Shanghai CST (UTC+08:00)","Asia/Singapore":"Singapore SGT (UTC+08:00)","Asia/Srednekolymsk":"Srednekolymsk SRET (UTC+11:00)","Asia/Taipei":"Taipei CST (UTC+08:00)","Asia/Tashkent":"Tashkent UZT (UTC+05:00)","Asia/Tbilisi":"Tbilisi GET (UTC+04:00)","Asia/Tehran":"Tehran IRDT (UTC+04:30)","Asia/Thimphu":"Thimphu BTT (UTC+06:00)","Asia/Tokyo":"Tokyo JST (UTC+09:00)","Asia/Tomsk":"Tomsk +07 (UTC+07:00)","Asia/Ulaanbaatar":"Ulaanbaatar ULAST (UTC+09:00)","Asia/Urumqi":"Urumqi XJT (UTC+06:00)","Asia/Ust-Nera":"Ust-Nera VLAT (UTC+10:00)","Asia/Vientiane":"Vientiane ICT (UTC+07:00)","Asia/Vladivostok":"Vladivostok VLAT (UTC+10:00)","Asia/Yakutsk":"Yakutsk YAKT (UTC+09:00)","Asia/Yekaterinburg":"Yekaterinburg YEKT (UTC+05:00)","Asia/Yerevan":"Yerevan AMT (UTC+04:00)"},Atlantic:{"Atlantic/Azores":"Azores AZOST (UTC+00:00)","Atlantic/Bermuda":"Bermuda ADT (UTC-03:00)","Atlantic/Canary":"Canary WEST (UTC+01:00)","Atlantic/Cape_Verde":"Cape Verde CVT (UTC-01:00)","Atlantic/Faroe":"Faroe WEST (UTC+01:00)","Atlantic/Madeira":"Madeira WEST (UTC+01:00)","Atlantic/Reykjavik":"Reykjavik GMT (UTC+00:00)","Atlantic/South_Georgia":"South Georgia GST (UTC-02:00)","Atlantic/St_Helena":"St Helena GMT (UTC+00:00)","Atlantic/Stanley":"Stanley FKST (UTC-03:00)"},Australia:{"Australia/Adelaide":"Adelaide ACST (UTC+09:30)","Australia/Brisbane":"Brisbane AEST (UTC+10:00)","Australia/Broken_Hill":"Broken Hill ACST (UTC+09:30)","Australia/Currie":"Currie AEST (UTC+10:00)","Australia/Darwin":"Darwin ACST (UTC+09:30)","Australia/Eucla":"Eucla ACWST (UTC+08:45)","Australia/Hobart":"Hobart AEST (UTC+10:00)","Australia/Lindeman":"Lindeman AEST (UTC+10:00)","Australia/Lord_Howe":"Lord Howe LHST (UTC+10:30)","Australia/Melbourne":"Melbourne AEST (UTC+10:00)","Australia/Perth":"Perth AWST (UTC+08:00)","Australia/Sydney":"Sydney AEST (UTC+10:00)"},Europe:{"Europe/Amsterdam":"Amsterdam CEST (UTC+02:00)","Europe/Andorra":"Andorra CEST (UTC+02:00)","Europe/Astrakhan":"Astrakhan +04 (UTC+04:00)","Europe/Athens":"Athens EEST (UTC+03:00)","Europe/Belgrade":"Belgrade CEST (UTC+02:00)","Europe/Berlin":"Berlin CEST (UTC+02:00)","Europe/Bratislava":"Bratislava CEST (UTC+02:00)","Europe/Brussels":"Brussels CEST (UTC+02:00)","Europe/Bucharest":"Bucharest EEST (UTC+03:00)","Europe/Budapest":"Budapest CEST (UTC+02:00)","Europe/Busingen":"Busingen CEST (UTC+02:00)","Europe/Chisinau":"Chisinau EEST (UTC+03:00)","Europe/Copenhagen":"Copenhagen CEST (UTC+02:00)","Europe/Dublin":"Dublin IST (UTC+01:00)","Europe/Gibraltar":"Gibraltar CEST (UTC+02:00)","Europe/Guernsey":"Guernsey BST (UTC+01:00)","Europe/Helsinki":"Helsinki EEST (UTC+03:00)","Europe/Isle_of_Man":"Isle of Man BST (UTC+01:00)","Europe/Istanbul":"Istanbul EEST (UTC+03:00)","Europe/Jersey":"Jersey BST (UTC+01:00)","Europe/Kaliningrad":"Kaliningrad EET (UTC+02:00)","Europe/Kiev":"Kiev EEST (UTC+03:00)","Europe/Kirov":"Kirov +03 (UTC+03:00)","Europe/Lisbon":"Lisbon WEST (UTC+01:00)","Europe/Ljubljana":"Ljubljana CEST (UTC+02:00)","Europe/London":"London BST (UTC+01:00)","Europe/Luxembourg":"Luxembourg CEST (UTC+02:00)","Europe/Madrid":"Madrid CEST (UTC+02:00)","Europe/Malta":"Malta CEST (UTC+02:00)","Europe/Mariehamn":"Mariehamn EEST (UTC+03:00)","Europe/Minsk":"Minsk MSK (UTC+03:00)","Europe/Monaco":"Monaco CEST (UTC+02:00)","Europe/Moscow":"Moscow MSK (UTC+03:00)","Europe/Oslo":"Oslo CEST (UTC+02:00)","Europe/Paris":"Paris CEST (UTC+02:00)","Europe/Podgorica":"Podgorica CEST (UTC+02:00)","Europe/Prague":"Prague CEST (UTC+02:00)","Europe/Riga":"Riga EEST (UTC+03:00)","Europe/Rome":"Rome CEST (UTC+02:00)","Europe/Samara":"Samara SAMT (UTC+04:00)","Europe/San_Marino":"San Marino CEST (UTC+02:00)","Europe/Sarajevo":"Sarajevo CEST (UTC+02:00)","Europe/Simferopol":"Simferopol MSK (UTC+03:00)","Europe/Skopje":"Skopje CEST (UTC+02:00)","Europe/Sofia":"Sofia EEST (UTC+03:00)","Europe/Stockholm":"Stockholm CEST (UTC+02:00)","Europe/Tallinn":"Tallinn EEST (UTC+03:00)","Europe/Tirane":"Tirane CEST (UTC+02:00)","Europe/Ulyanovsk":"Ulyanovsk +04 (UTC+04:00)","Europe/Uzhgorod":"Uzhgorod EEST (UTC+03:00)","Europe/Vaduz":"Vaduz CEST (UTC+02:00)","Europe/Vatican":"Vatican CEST (UTC+02:00)","Europe/Vienna":"Vienna CEST (UTC+02:00)","Europe/Vilnius":"Vilnius EEST (UTC+03:00)","Europe/Volgograd":"Volgograd MSK (UTC+03:00)","Europe/Warsaw":"Warsaw CEST (UTC+02:00)","Europe/Zagreb":"Zagreb CEST (UTC+02:00)","Europe/Zaporozhye":"Zaporozhye EEST (UTC+03:00)","Europe/Zurich":"Zurich CEST (UTC+02:00)"},Indian:{"Indian/Antananarivo":"Antananarivo EAT (UTC+03:00)","Indian/Chagos":"Chagos IOT (UTC+06:00)","Indian/Christmas":"Christmas CXT (UTC+07:00)","Indian/Cocos":"Cocos CCT (UTC+06:30)","Indian/Comoro":"Comoro EAT (UTC+03:00)","Indian/Kerguelen":"Kerguelen TFT (UTC+05:00)","Indian/Mahe":"Mahe SCT (UTC+04:00)","Indian/Maldives":"Maldives MVT (UTC+05:00)","Indian/Mauritius":"Mauritius MUT (UTC+04:00)","Indian/Mayotte":"Mayotte EAT (UTC+03:00)","Indian/Reunion":"Reunion RET (UTC+04:00)"},Pacific:{"Pacific/Apia":"Apia WSST (UTC+13:00)","Pacific/Auckland":"Auckland NZST (UTC+12:00)","Pacific/Bougainville":"Bougainville BST (UTC+11:00)","Pacific/Chatham":"Chatham CHAST (UTC+12:45)","Pacific/Chuuk":"Chuuk CHUT (UTC+10:00)","Pacific/Easter":"Easter EAST (UTC-06:00)","Pacific/Efate":"Efate VUT (UTC+11:00)","Pacific/Enderbury":"Enderbury PHOT (UTC+13:00)","Pacific/Fakaofo":"Fakaofo TKT (UTC+13:00)","Pacific/Fiji":"Fiji FJT (UTC+12:00)","Pacific/Funafuti":"Funafuti TVT (UTC+12:00)","Pacific/Galapagos":"Galapagos GALT (UTC-06:00)","Pacific/Gambier":"Gambier GAMT (UTC-09:00)","Pacific/Guadalcanal":"Guadalcanal SBT (UTC+11:00)","Pacific/Guam":"Guam ChST (UTC+10:00)","Pacific/Honolulu":"Honolulu HST (UTC-10:00)","Pacific/Johnston":"Johnston HST (UTC-10:00)","Pacific/Kiritimati":"Kiritimati LINT (UTC+14:00)","Pacific/Kosrae":"Kosrae KOST (UTC+11:00)","Pacific/Kwajalein":"Kwajalein MHT (UTC+12:00)","Pacific/Majuro":"Majuro MHT (UTC+12:00)","Pacific/Marquesas":"Marquesas MART (UTC-09:30)","Pacific/Midway":"Midway SST (UTC-11:00)","Pacific/Nauru":"Nauru NRT (UTC+12:00)","Pacific/Niue":"Niue NUT (UTC-11:00)","Pacific/Norfolk":"Norfolk NFT (UTC+11:00)","Pacific/Noumea":"Noumea NCT (UTC+11:00)","Pacific/Pago_Pago":"Pago Pago SST (UTC-11:00)","Pacific/Palau":"Palau PWT (UTC+09:00)","Pacific/Pitcairn":"Pitcairn PST (UTC-08:00)","Pacific/Pohnpei":"Pohnpei PONT (UTC+11:00)","Pacific/Port_Moresby":"Port Moresby PGT (UTC+10:00)","Pacific/Rarotonga":"Rarotonga CKT (UTC-10:00)","Pacific/Saipan":"Saipan ChST (UTC+10:00)","Pacific/Tahiti":"Tahiti TAHT (UTC-10:00)","Pacific/Tarawa":"Tarawa GILT (UTC+12:00)","Pacific/Tongatapu":"Tongatapu TOT (UTC+13:00)","Pacific/Wake":"Wake WAKT (UTC+12:00)","Pacific/Wallis":"Wallis WFT (UTC+12:00)"},Other:{UTC:"UTC"}}},e.prototype.formatChoices=function(t){return t},e}(o);t.exports=a},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=i(1),a=i(65),s=i(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.configure=function(){var t=this;return o.when(a.prototype.configure.apply(this,arguments),s.getFetcher("user-group").fetchAll().then(function(e){t.config.choices=e.filter(function(t){return!0!==t.meta.default})}))},e.prototype.formatChoices=function(t){return t.reduce(function(t,e){return t[e.name]=e.name,t},{})},e}(a);t.exports=l},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=i(1),a=i(65),s=i(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.configure=function(){var t=this;return o.when(a.prototype.configure.apply(this,arguments),s.getFetcher("user-role").fetchAll().then(function(e){t.config.choices=e}))},e.prototype.formatChoices=function(t){return t.reduce(function(t,e){return t[e.role]=e.label,t},{})},e}(a);t.exports=l},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=i(1),s=i(3),l=i(191),c=i(7),u=function(t){function e(e){var i=t.call(this,e)||this;return i.datagridAliases=[],i.config=o({},i.config,e.config),i}return r(e,t),e.prototype.configure=function(){var t=this;return a.when(s.prototype.configure.apply(this,arguments),a.get(c.generate("pim_datagrid_view_rest_types")).then(function(e){t.datagridAliases=e}))},e.prototype.render=function(){var t=this;return this.$el.html(""),this.datagridAliases.forEach(function(e){var i=new l({config:{datagridAlias:e,fieldName:"default_"+e.replace(/-/g,"_")+"_view",label:"pim_user_management.entity.user.properties.default_"+e.replace(/-/g,"_")+"_view",allowClear:!0,isMultiple:!1,readOnly:t.config.readOnly}});i.configure().then(function(){i.setParent(t),t.$el.append(i.render().$el)})}),this},e}(s);t.exports=u},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=i(1),s=i(10),l=i(0),c=i(2),u=i(338),d=i(6),p=i(5),h=i(340),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lineView=l.template(h),e.attributeGroups={},e}return r(e,t),e.prototype.configure=function(){var t=this;return this.attributeGroups={system:e.getSystemAttributeGroup()},a.when(u.prototype.configure.apply(this,arguments),p.getFetcher("attribute-group").fetchAll().then(function(e){t.attributeGroups=o({},t.attributeGroups,e)}))},e.prototype.getSelect2Options=function(){var t=u.prototype.getSelect2Options.apply(this,arguments);return t.formatResult=this.onGetResult.bind(this),t.dropdownCssClass="select2--annotedLabels "+t.dropdownCssClass,t},e.prototype.convertBackendItem=function(t){return{id:t.code,text:s.getLabel(t.labels,d.get("catalogLocale"),t.code),group:{text:t.group?s.getLabel(this.attributeGroups[t.group].labels,d.get("catalogLocale"),t.group):""}}},e.prototype.select2InitSelection=function(t,e){var i=this,n=a(t).val(),r=n.split(",");r.length>0&&a.ajax({url:this.choiceUrl,data:{identifiers:n},type:this.choiceVerb}).then(function(t){var n=Object.values(t).filter(function(t){return r.indexOf(t.code)>-1});e(n.map(function(t){return i.convertBackendItem(t)}))})},e.getSystemAttributeGroup=function(){var t={labels:{}};return t.labels[d.get("catalogLocale")]=c("pim_datagrid.filters.system"),t},e.prototype.onGetResult=function(t){return this.lineView({item:t})},e}(u);t.exports=f},function(t,e,i){"use strict";var n,r;n=[i(1),i(116)],void 0===(r=function(t,e){return e.extend({getSelect2Options(){var t=e.prototype.getSelect2Options.apply(this,arguments);return t.multiple=!0,t},select2InitSelection(e,i){var n=t(e).val(),r=n.split(",");0<r.length&&t.ajax({url:this.choiceUrl,data:{options:{identifiers:n}},type:this.choiceVerb}).then(t=>{var e=Object.values(t.results).filter(t=>-1<r.indexOf(t.code));e=0===e.length?Object.values(t.results).filter(t=>-1<r.indexOf(t.id)):e.map(t=>this.convertBackendItem(t)),i(e)})}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<input\n    id="pim_enrich_form_<%- fieldId %>"\n    type="hidden"\n    class="select2 select-field"\n    name="<%- fieldName %>"\n    value="<%- value %>"\n    <% if (readOnly) { %>readonly disabled<% } %>\n>\n<div class="AknFieldContainer-iconsContainer icons-container"></div>\n'},function(t,e){t.exports='<div class="select2-result-label-attribute">\n    <span class="attribute-label"><%- item.text %></span>\n    <span class="group-label"><%- item.group.text %></span>\n</div>\n'},function(t,e){t.exports="<%- _.__('pim_common.delete') %>\n"},function(t,e,i){var n,r,o="pim_user_user_rest_delete";n=[i(0),i(36),i(7)],void 0===(r=function(t,e,i){return t.extend({},e,{getUrl:function(t){return i.generate(o,{identifier:t})}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<div class="AknCompletenessPanel">\n    <% _.each(data, function(channel) { %>\n        <div class="AknCompletenessPanel-block completeness-block">\n            <header class="AknCompletenessPanel-header">\n                <span class="AknCompletenessPanel-headerLocale channel"><%- channel.name %></span>\n                <span class="AknCompletenessPanel-headerStats stats"><%- channel.percentage %>%</span>\n            </header>\n            <div class="AknCompletenessPanel-content content">\n                <% _.each(channel.locales, function(locale, localeLabel) { %>\n                    <div class="AknCompletenessPanel-channel">\n                        <div class="AknCompletenessPanel-progressContainer">\n                            <span class="AknCompletenessPanel-channelTitle locale">\n                                <%- localeLabel %>\n                            </span>\n                            <span class="AknCompletenessPanel-progressRatio literal-progress"><%- locale.ratio %>%</span>\n                        </div>\n                        <div class="AknCompletenessPanel-progress AknProgress AknProgress--micro progress <%- locale.ratio === 100 ? \'AknProgress--apply\' : \'AknProgress--warning\' %>">\n                            <div class="AknProgress-bar bar" style="width: <%- locale.ratio %>%;"></div>\n                        </div>\n                    </div>\n                <% }); %>\n            </div>\n        </div>\n    <% }); %>\n</div>\n'},function(t,e,i){"use strict";var n,r;n=[i(1),i(41),i(0),i(346),i(7),i(193),i(26),i(28),i(6),i(10)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c){return e.extend({fieldTemplate:i.template(n),choicePromise:null,promiseIdentifier:null,choiceUrl:null,events:{'change .field-input:first input[type="hidden"].select-field':"updateModel","click .add-attribute-option":"createOption"},getTemplateContext:function(){return e.prototype.getTemplateContext.apply(this,arguments).then(function(t){var e=a.isGranted("pim_enrich_attribute_edit");return t.userCanAddOption=this.editable&&e,t}.bind(this))},createOption:function(){a.isGranted("pim_enrich_attribute_edit")&&o(this.attribute).then(function(t){this.isEditable()&&this.setCurrentValue(t.code),this.choicePromise=null,this.render()}.bind(this))},renderInput:function(t){return this.fieldTemplate(t)},postRender:function(){this.$('[data-toggle="tooltip"]').tooltip(),this.getChoiceUrl().then(function(e){var n={ajax:{url:e,cache:!0,data:function(t,e){return{search:t,options:{limit:20,page:e,catalogLocale:l.get("catalogLocale")}}},results:function(t){if(t.results)return t.more=20===i.keys(t.results).length,t;var e={more:20===i.keys(t).length,results:[]};return i.each(t,function(t){e.results.push(this.convertBackendItem(t))}.bind(this)),e}.bind(this)},initSelection:function(n,r){var o=t(n).val();""!==o&&((null===this.choicePromise||this.promiseIdentifier!==o||this.choiceUrl!==e)&&(this.choiceUrl=e,this.choicePromise=t.get(e,{options:{identifiers:[o]}}),this.promiseIdentifier=o),this.choicePromise.then(function(t){var e=i.findWhere(t,{code:o});e=e?this.convertBackendItem(e):i.findWhere(t.results,{id:o}),r(e)}.bind(this)))}.bind(this),placeholder:" ",allowClear:!0};s.init(this.$("input.select-field"),n)}.bind(this))},getChoiceUrl:function(){return t.Deferred().resolve(r.generate("pim_enrich_attributeoption_get",{identifier:this.attribute.code})).promise()},updateModel:function(){var t=this.$('.field-input:first input[type="hidden"].select-field').val();t=""===t?this.attribute.empty_value:t,this.choicePromise=null,this.setCurrentValue(t)},convertBackendItem:function(t){return{id:t.code,text:c.getLabel(t.labels,l.get("catalogLocale"),t.code)}}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<div class="<%- type %> AknComparableFields-item AknFieldContainer original-field <%- editMode %>">\n    <div class="AknFieldContainer-header">\n        <label class="AknFieldContainer-label" for="<%- fieldId %>">\n            <span class="badge-elements-container"></span>\n            <%- label %>\n            <span class="label-elements-container"></span>\n        </label>\n        <span class="AknFieldContainer-fieldInfo field-info">\n            <% if (locale || scope) { %>\n                <span class="field-context">\n                    <% if (scope) { %> <span class="field-scope"><%- context.scopeLabel %></span> <% } %>\n                    <% if (locale) { %> <span><%= i18n.getFlag(locale) %></span> <% } %>\n                </span>\n            <% } %>\n        </span>\n        <% if (context.optional && context.removable && \'edit\' === editMode) { %>\n            <i class="AknIconButton AknIconButton--small icon-remove remove-attribute" data-attribute="<%- attribute.code %>" data-toggle="tooltip" title="<%- _.__(\'pim_enrich.entity.product.module.attribute.remove_optional\') %>"></i>\n        <% } %>\n    </div>\n    <div class="AknFieldContainer-inputContainer field-input">\n    </div>\n    <footer>\n        <div class="AknFieldContainer-footer footer-elements-container">\n\n        </div>\n    </footer>\n</div>\n<div class="AknComparableFields-item AknComparableFields-item--comparisonContainer AknFieldContainer comparison-elements-container"></div>\n'},function(t,e){t.exports='<div class="AknFieldContainer-subContainer">\n    <% if (attribute.localizable) { %>\n        <div class="AknTextField-layer AknTextField-layer--first"></div>\n        <div class="AknTextField-layer AknTextField-layer--second"></div>\n    <% } %>\n    <input\n        id="<%- fieldId %>"\n        type="hidden"\n        class="select-field<% if (attribute.localizable) { %> AknTextField--localizable<% } %>"\n        value="<%- value ? value.data : null %>"\n        data-min-input-length="0"\n        data-locale="<%- locale %>"\n        data-scope="<%- scope %>"\n        <%- editMode === \'view\' ? \'disabled\' : \'\' %>\n    />\n</div>\n<% if (userCanAddOption) { %>\n    <div class="AknFieldContainer-iconsContainer">\n        <span class="AknIconButton AknIconButton--plus add-attribute-option" data-toggle="tooltip" data-placement="top" data-original-title="<%- _.__(\'pim_enrich.entity.product.module.attribute.add_option\') %>"></span>\n    </div>\n<% } %>\n'},function(t,e){t.exports='<div class="AknFieldContainer-validationErrors validation-errors">\n    <% _.each(errors, function(error) { %>\n        <span class="AknFieldContainer-validationError">\n            <span class="error-message"><%- error %></span>\n        </span>\n    <% }) %>\n</div>\n'},function(t,e,i){"use strict";var n,r;n=[i(1),i(41),i(0),i(349),i(7),i(193),i(26),i(28),i(6),i(10),i(66)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c,u){return e.extend({fieldTemplate:i.template(n),choicePromise:null,promiseIdentifiers:null,choiceUrl:null,events:{"change .field-input:first input.select-field":"updateModel","click .add-attribute-option":"createOption"},getTemplateContext:function(){return e.prototype.getTemplateContext.apply(this,arguments).then(function(t){var e=a.isGranted("pim_enrich_attribute_edit");return t.userCanAddOption=this.editable&&e,t}.bind(this))},createOption:function(){a.isGranted("pim_enrich_attribute_edit")&&o(this.attribute).then(function(t){if(this.isEditable()){var e=this.getCurrentValue().data;e.push(t.code),this.setCurrentValue(e)}this.choicePromise=null,this.render()}.bind(this))},renderInput:function(t){return this.fieldTemplate(t)},postRender:function(){this.$('[data-toggle="tooltip"]').tooltip(),this.getChoiceUrl().then(function(e){var n={ajax:{url:e,quietMillis:250,cache:!0,data:function(t,e){return{search:t,options:{limit:20,page:e,catalogLocale:l.get("catalogLocale")}}}.bind(this),results:function(t){if(t.results)return t.more=20===i.keys(t.results).length,t;var e={more:20===i.keys(t).length,results:[]};return i.each(t,function(t){e.results.push(this.convertBackendItem(t))}.bind(this)),e}.bind(this)},initSelection:function(n,r){var o=u.getValue(this.model.attributes.values,this.attribute,l.get("catalogLocale"),l.get("catalogScope")).data;(null===this.choicePromise||this.promiseIdentifiers!==o||this.choiceUrl!==e)&&(this.choiceUrl=e,this.choicePromise=t.get(e,{options:{identifiers:o}}),this.promiseIdentifiers=o),this.choicePromise.then(function(e){i.has(e,"results")&&(e=e.results);var o=i.map(t(n).val().split(","),function(t){var n=i.findWhere(e,{code:t});return n?this.convertBackendItem(n):i.findWhere(e,{id:t})}.bind(this));r(i.compact(o))}.bind(this))}.bind(this),multiple:!0};s.init(this.$("input.select-field"),n)}.bind(this))},getChoiceUrl:function(){return t.Deferred().resolve(r.generate("pim_enrich_attributeoption_get",{identifier:this.attribute.code})).promise()},updateModel:function(){var t=this.$(".field-input:first input.select-field").val().split(",");1===t.length&&""===t[0]&&(t=[]),this.choicePromise=null,this.setCurrentValue(t)},convertBackendItem:function(t){return{id:t.code,text:c.getLabel(t.labels,l.get("catalogLocale"),t.code)}}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<div class="AknFieldContainer-subContainer">\n    <% if (attribute.localizable) { %>\n        <div class="AknTextField-layer AknTextField-layer--first"></div>\n        <div class="AknTextField-layer AknTextField-layer--second"></div>\n    <% } %>\n    <input\n        id="<%- fieldId %>"\n        type="hidden"\n        class="select-field<% if (attribute.localizable) { %> AknTextField--localizable<% } %>"\n        value="<%- value ? value.data.join(\',\') : null %>"\n        data-locale="<%- locale %>"\n        data-scope="<%- scope %>"\n        <%- editMode === \'view\' ? \'disabled\' : \'\' %>\n    />\n</div>\n<% if (userCanAddOption) { %>\n    <div class="AknFieldContainer-iconsContainer">\n        <span class="AknIconButton AknIconButton--plus add-attribute-option" data-toggle="tooltip" data-placement="top" data-original-title="<%- _.__(\'pim_enrich.entity.product.module.attribute.add_option\') %>"></span>\n    </div>\n<% } %>\n'},function(t,e){t.exports='<% if (!_.isEmpty(data)) { %>\n    <thead>\n        <tr>\n            <th class="AknGrid-headerCell">\n                <%- __(\'pim_dashboard.widget.last_operations.date\') %>\n            </th>\n            <th class="AknGrid-headerCell">\n                <%- __(\'pim_common.type\') %>\n            </th>\n            <th class="AknGrid-headerCell">\n                <%- __(\'pim_dashboard.widget.last_operations.profile_name\') %>\n            </th>\n            <th class="AknGrid-headerCell">\n                <%- __(\'pim_common.status\') %>\n            </th>\n            <th class="AknGrid-headerCell">\n                <%- __(\'pim_dashboard.widget.last_operations.warning_count\') %>\n            </th>\n            <th class="AknGrid-headerCell"></th>\n        </tr>\n    </thead>\n    <tbody>\n    <% _.each(data, function (operation) { %>\n        <% var status = \'success\'; %>\n        <% status = (operation.warningCount !== null && parseInt(operation.warningCount) !== 0) ? \'warning\' : status %>\n        <% status = (6 === operation.status) ? \'important\' : status %>\n        <% var counter = (6 === operation.status) ? 1 : operation.warningCount %>\n\n        <tr class="AknGrid-bodyRow">\n            <td class="AknGrid-bodyCell"> <%- operation.date %></td>\n            <td class="AknGrid-bodyCell"> <%- __(\'pim_dashboard.widget.last_operations.job_type.\'+operation.type) %></td>\n            <td class="AknGrid-bodyCell"><%- operation.label %></td>\n            <td class="AknGrid-bodyCell">\n                <span class="AknBadge AknBadge--<%- status %>">\n                    <%- operation.statusLabel %>\n                </span>\n            </td>\n            <td class="AknGrid-bodyCell">\n                <span class="AknBadge AknBadge--<%- status %>">\n                    <%- counter %>\n                </span>\n            </td>\n            <td class="AknGrid-bodyCell AknGrid-bodyCell--right">\n            <% if (operation.canSeeReport) { %>\n                <span class="AknButton AknButton--small AknButton--grey show-details-btn"\n                data-id="<%- operation.id %>"\n                data-operation-type="<%- operation.type %>">\n                    <%- __(\'pim_dashboard.widget.last_operations.details\') %>\n                </span>\n            <% } %>\n            </td>\n        </tr>\n    <% }); %>\n    </tbody>\n<% } else if (options.contentLoaded) {%>\n    <tr>\n        <td class="AknGrid-bodyCell AknGrid-bodyCell--full">\n            <div class="AknMessageBox AknMessageBox--centered">\n                <%- __(\'pim_dashboard.widget.last_operations.empty\') %>\n            </div>\n        </td>\n    </tr>\n<% } %>\n'},function(t,e){t.exports='<a href="javascript:void(0);" class="AknButtonList-item AknButton AknButton--grey AknButton--small view-all-btn" title="<%- _.isUndefined(title) ? _.__(\'pim_dashboard.widget.header.view_all\') : title %>">\n    <%= _.__("pim_dashboard.widget.header.view_all") %>\n</a>\n'},function(t,e,i){"use strict";var n,r;n=[i(8),i(0)],void 0===(r=function(t,e){var i=t.Model.extend({defaults:{value:null,className:"AknNotificationMenu-count",emptyClass:"AknNotificationMenu-count--hidden",nonEmptyClass:""}}),n=t.View.extend({model:i,template:e.template('<span class="<%= className %> <%= value ? nonEmptyClass : emptyClass %>"><%= value %></span>'),initialize:function(){this.listenTo(this.model,"change",this.render),this.render()},render:function(){return this.$el.html(this.template(this.model.toJSON())),this}});return function(t){var e=t.el||null;delete t.el;var r=new i(t),o=new n({el:e,model:r});return r.setElement=function(){return o.setElement.apply(o,arguments),o.render()},r}}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(8),i(1),i(0),i(7),i(354),i(352),i(356),i(357)],void 0===(r=function(t,e,i,n,r,o,a,s){var l="notifications_timeout_ids";return t.View.extend({options:{imgUrl:"",loadingText:null,noNotificationsMessage:null,markAsReadMessage:null,indicatorBaseClass:"AknNotificationMenu-count",indicatorEmptyClass:"AknNotificationMenu-count--hidden",refreshInterval:3e4},freezeCount:!1,template:i.template(a),footerTemplate:i.template(s),events:{"click .notification-link":"onOpen","click .mark-as-read":"markAllAsRead"},markAllAsRead:function(t){t.stopPropagation(),t.preventDefault(),e.ajax({type:"POST",url:n.generate("pim_notification_notification_mark_viewed"),async:!0}),this.collection.trigger("mark_as_read",null),i.each(this.collection.models,function(t){t.set("viewed",!0)})},initialize:function(t){this.options=i.extend({},this.options,t),this.collection=new r,this.indicator=new o({el:this.$(".AknNotificationMenu-countContainer"),value:0,className:this.options.indicatorBaseClass,emptyClass:this.options.indicatorEmptyClass}),this.collection.on("load:unreadCount",function(t,e){return this.scheduleRefresh(),this.freezeCount?void(this.freezeCount=!1):void(this.indicator.get("value")!==t&&(this.indicator.set("value",t),e&&(this.collection.hasMore=!0,this.collection.reset(),this.renderFooter())))},this),this.collection.on("mark_as_read",function(t){var e=null===t?0:this.indicator.get("value")-1;this.indicator.set("value",e),0==e&&this.renderFooter(),null!==t&&(this.freezeCount=!0)},this),this.collection.on("loading:start loading:finish remove",this.renderFooter,this),this.render(),this.scheduleRefresh()},scheduleRefresh:function(){var t=sessionStorage.getItem(l);null!==t&&""!==t&&clearTimeout(parseInt(t));var e=setTimeout(this.refresh.bind(this),this.options.refreshInterval);sessionStorage.setItem(l,e+"")},refresh:function(){e.getJSON(n.generate("pim_notification_notification_count_unread")).then(i.bind(function(t){sessionStorage.setItem("notificationRefreshLocked","available"),this.collection.trigger("load:unreadCount",t,!0)},this))},onOpen:function(){this.collection.length||this.collection.loadNotifications()},render:function(){this.$el.html(this.template()),this.collection.setElement(this.$("ul")),this.indicator.setElement(this.$(".AknNotificationMenu-countContainer")),this.renderFooter()},renderFooter:function(){this.$("p").remove(),this.$("ul").append(this.footerTemplate({options:this.options,loading:this.collection.loading,hasNotifications:0<this.collection.length,hasMore:this.collection.hasMore,hasUnread:0<this.indicator.get("value")}))}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(8),i(1),i(0),i(2),i(7),i(11),i(355)],void 0===(r=function(t,e,i,n,r,o,a){var s=t.Model.extend({defaults:{viewed:!1,url:null,message:"",id:null,type:"success",createdAt:null,actionType:null,showReportButton:!0,comment:null}}),l=t.Collection.extend({model:s,loading:!1,hasMore:!0}),c=t.View.extend({tagName:"li",className:"AknNotification",model:s,template:i.template(a),events:{"click .icon-trash":"remove","click .icon-eye-close":"markAsRead","click i":"preventOpen","click a.new":"markAsRead","click a":"open"},remove:function(){this.model.destroy({url:r.generate("pim_notification_notification_remove",{id:this.model.get("id")}),wait:!1,_method:"DELETE"}),this.$el.fadeOut(function(){this.remove()})},open:function(t){this.preventOpen(t),this.model.get("url")&&o.redirect(this.model.get("url")),this.$el.closest(".dropdown").removeClass("open")},preventOpen:function(t){t.preventDefault(),t.stopPropagation()},markAsRead:function(){this.model.trigger("mark_as_read",this.model.id),this.model.set("viewed",!0),e.ajax({type:"POST",url:r.generate("pim_notification_notification_mark_viewed",{id:this.model.id}),async:!0})},initialize:function(){this.listenTo(this.model,"change",this.render),this.render()},render:function(){return this.$el.html(this.template({viewed:this.model.get("viewed"),message:this.model.get("message"),url:this.model.get("url"),icon:this.getIcon(this.model.get("type")),type:this.model.get("type"),createdAt:this.model.get("createdAt"),actionType:this.camelize(this.model.get("actionType")),actionTypeMessage:"foo",buttonLabel:this.model.get("buttonLabel"),actionTypeMessage:n("pim_notification.types."+this.model.get("actionType")),showReportButton:this.model.get("showReportButton"),comment:this.model.get("comment")})),this},getIcon:function(t){return i.result({success:"ok",warning:"warning-sign",error:"remove",add:"plus"},t,"remove")},camelize:function(t){return t.toLowerCase().replace(/_(.)/g,function(t){return t.toUpperCase()}).replace(/_/g,"")}}),u=t.View.extend({tagName:"ol",collection:l,events:{scroll:"onScroll"},initialize:function(){i.bindAll(this,"render"),this.collection.on("add reset",this.render),this.render()},onScroll:function(){var t=this;this.$el.on("scroll",function(){e(this).scrollTop()+e(this).innerHeight()>=this.scrollHeight&&t.loadNotifications()})},loadNotifications:function(){this.collection.loading||!this.collection.hasMore||(this.collection.loading=!0,this.collection.trigger("loading:start"),e.getJSON(r.generate("pim_notification_notification_list")+"?skip="+this.collection.length).then(i.bind(function(t){this.collection.add(t.notifications),this.collection.hasMore=10<=t.notifications.length,this.collection.trigger("load:unreadCount",t.unreadCount),this.collection.loading=!1,this.collection.trigger("loading:finish")},this)))},render:function(){this.$el.empty(),i.each(this.collection.models,function(t){this.renderNotification(t)},this)},renderNotification:function(t){var e=new c({model:t});this.$el.append(e.$el)}});return function(t){var e=new l,n=i.extend({},{el:null,collection:e},t),r=new u(n);return e.setElement=function(t){r.$el.prependTo(t),r.delegateEvents(),r.render()},e.loadNotifications=function(){return r.loadNotifications()},e}}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<a href="<%= url ? \'#\' + url : \'javascript: void(0);\' %>" class="AknNotification-link <%= viewed ? \'\' : \'AknNotification-link--new new\' %>">\n    <div class="AknNotification-header">\n        <div class="AknNotification-icon AknNotification-icon--<%= actionType %>">\n            <i class="AknNotification-status AknNotification-status--<%= type %> icon-<%= icon %>"></i>\n        </div>\n        <div class="AknNotification-metas">\n            <time class="AknNotification-time"><%= createdAt %></time>\n            <span class="AknNotification-title"><%= actionTypeMessage %></span>\n        </div>\n        <i class="AknIconButton AknIconButton--light icon-<%= viewed ? \'trash\' : \'eye-close\' %> action"></i>\n    </div>\n    <div class="AknNotification-message"><%= message %></div>\n    <% if (comment) { %> <div class="AknNotification-comment"><%= comment %></div> <% } %>\n    <% if (showReportButton) { %>\n    <button class="AknNotification-button AknButton AknButton--micro AknButton--grey "><%- _.__(buttonLabel) %></button>\n    <% } %>\n</a>\n'},function(t,e){t.exports='<div class="AknNotificationMenu-link notification-link" data-toggle="dropdown">\n    <span class="AknNotificationMenu-countContainer"></span>\n</div>\n\n<ul class="AknNotificationList AknDropdown-menu AknDropdown-menu--right"></ul>\n'},function(t,e){t.exports='<p class="AknNotificationList-footer">\n    <% if (loading) { %>\n        <img src="<%= options.imgUrl %>" alt="<%= options.loadingText %>"/>\n    <% } %>\n\n    <% if (!loading && !hasNotifications && !hasMore) { %>\n        <span><%= options.noNotificationsMessage %></span>\n    <% } %>\n\n    <% if (hasNotifications && hasUnread) { %>\n        <button class="AknButton AknButton--grey mark-as-read"><%= options.markAsReadMessage %></button>\n    <% } %>\n</p>\n'},function(t,e,i){"use strict";var n,r;n=[i(1),i(8),i(0),i(11),i(2),i(72),i(9),i(359),i(19),i(12),i(75),i(195)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c){return function(){a.once("tab:changed",function(){setTimeout(function(){document["page-rendered"]=!0,a.trigger("page-rendered")},50)}),s.init();var i=t(".sf-toolbar"),o=t("#bottom-anchor"),u=!1,d=function(){u||(u=t(".scrollable-container").filter(":parents(.ui-widget)")).css("overflow","auto");var e=i.length&&i.is(":visible")?i.height():0,n=o.position().top;t(u.get().reverse()).each(function(i,r){(r=t(r)).height(n-r.position().top-e)}),s.adjustScrollspy()},p=0,h=function(){i.children().length?window.setTimeout(d,500):100>p&&(p+=1,window.setTimeout(h,500))};o.length||(o=t('<div id="bottom-anchor"/>').css({position:"fixed",bottom:"0",left:"0",width:"1px",height:"1px"}).appendTo(t(document.body))),a.once("page-rendered",function(){i.length?h():d()}),t(window).on("resize",d),a.bind("route_complete",function(){u=!1,d()}),t(document).on("click",".action-button",function(){var e=t('input[name = "input_action"]');e.val(t(this).attr("data-action")),t("#"+e.attr("data-form-id")).submit()}),t(document).on("click",".remove-button",function(){var i=t(this),o=i.data("message"),a=i.data("subtitle");return this.confirmModal=l.confirmDelete(o,r("pim_common.confirm_deletion"),function(){n.showLoadingMask(),t.ajax({url:i.data("url"),type:"DELETE",success:function(){i.trigger("removesuccess"),c.enqueueMessage("success",i.data("success-message"),{hashNavEnabled:!0}),i.data("redirect")?(t.isActive(!0),e.history.navigate("#"+i.data("redirect"))):n.hideLoadingMask()},error:function(){n.hideLoadingMask(),c.notify("error",i.data("error-message")||r("Unexpected error occurred. Please contact system administrator."),{flash:!1})}})},a),!1})}}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(75),i(98)],void 0===(r=function(t){Date.prototype.toISOString||function(){function t(t){var e=t+"";return 1===e.length&&(e="0"+e),e}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+t(this.getUTCMonth()+1)+"-"+t(this.getUTCDate())+"T"+t(this.getUTCHours())+":"+t(this.getUTCMinutes())+":"+t(this.getUTCSeconds())+"."+((this.getUTCMilliseconds()/1e3).toFixed(3)+"").slice(2,5)+"Z"}}();var e={init:function(i){(i=t(i||document.body)).find('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data()),e=t(this).scrollspy("refresh"),t(".scrollspy-nav ul.nav li").removeClass("active"),t(".scrollspy-nav ul.nav li:first").addClass("active")}),i.find('[data-toggle="tooltip"]').tooltip();var n=function(e,i){var r=t(e.relatedTarget).closest(".popover");r.length?r.one("mouseout",function(t){n(t,i)}):i.data("popover-timer",setTimeout(function(){i.popover("hide"),i.data("popover-active",!1)},500))};t('form label [data-toggle="popover"]').popover({animation:!0,delay:{show:0,hide:0},html:!0,trigger:"manual"}).mouseover(function(){var e=t(this);clearTimeout(e.data("popover-timer")),e.data("popover-active")||(e.data("popover-active",!0),t(this).popover("show"))}).mouseout(function(e){var i=t(this);setTimeout(function(){n(e,i)},500)}),setTimeout(function(){e.scrollspyTop()},500)},adjustScrollspy:function(){t('[data-spy="scroll"]').each(function(){var e=t(this),i=e.innerHeight(),n=1<e.find(".responsive-section").length;e.find(".responsive-section:last").each(function(){var e=t(this),r=e.find(".scrollspy-title").outerHeight(),o=n?r+i:i,a=e.data("originalHeight");a||(a=e.height(),e.data("originalHeight",a)),e.height()===o||(o<a&&(o=a),e.outerHeight(o))}),e.scrollspy("refresh")})},scrollspyTop:function(){t('[data-spy="scroll"]').each(function(){var e=t(this),i=e.data("target");t(i).each(function(){var i=t(this).find("li.active:first a").attr("href"),n=t(i).position().top;e.scrollTop(n)})})}};return e}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1)],void 0===(r=function(t){function e(){var e,i=t("#"+n),r=i.find("#form-navbar").find("li.active").find("a").attr("href"),o=i.find(".tab-pane.active").find(".tab-groups").find("li.active").find("a");o.length?(!(e=o.attr("href"))||"#"===e||0===e.indexOf("javascript"))&&(e=o.attr("id")?"#"+o.attr("id"):null):e=null,r&&(sessionStorage[n+"_activeTab"]=r),e&&(sessionStorage[n+"_activeGroup"]=e)}function i(){if(sessionStorage.redirectTab){var e=t("a[href="+sessionStorage.redirectTab+"]");e.length&&!t(".loading-mask").is(":visible")&&(e.tab("show"),r&&r(e),sessionStorage.removeItem("redirectTab"))}else if(sessionStorage[n+"_activeTab"]){var i=t("a[href="+sessionStorage[n+"_activeTab"]+"]");i.length&&(i.tab("show"),r&&r(i))}if(sessionStorage[n+"_activeGroup"]){var o=t("a[href="+sessionStorage[n+"_activeGroup"]+"]");if(o.length&&!t(".loading-mask").is(":visible"))o.tab("show"),r&&r(o);else{var a=t("div[data-selected-tree]");a.length&&!t(".loading-mask").is(":visible")&&a.attr("data-selected-tree",sessionStorage[n+"_activeGroup"].match(/\d/g).join(""))}}}var n,r;return function(o,a){"undefined"!=typeof Storage&&o&&t("#"+o).length&&(n=o,r=a,i(),t("#"+n).on("shown",'a[data-toggle="tab"]',e),t("#"+n).on("tab.loaded",i))}}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(143)],void 0===(r=function(t){return{init:function(e){var i=t("#"+e);i.length&&(i.on("change",function(){var e=t(this),i=e.val().split("\\").pop(),n=e.parent(),r=e.siblings(".upload-info").first(),o=r.find(".upload-filename"),a=e.siblings(".remove-upload"),s=e.siblings('input[type="checkbox"]'),l=r.find(".upload-preview");if(i){var c=i.length>20?i.substring(0,17)+"...":i;o.html(c),n.removeClass("empty"),l.removeClass("empty").attr("title",i),a.removeClass("hide"),e.addClass("hide"),s.removeAttr("checked")}else o.html(o.attr("data-empty-title")),n.addClass("empty"),l.addClass("empty").removeAttr("title"),a.addClass("hide"),e.removeAttr("disabled").removeClass("hide"),s.attr("checked","checked")}),i.parent().on("click",".remove-upload:not(.disabled)",function(t){t.preventDefault(),t.stopPropagation(),i.wrap("<form>").closest("form").get(0).reset(),i.unwrap().trigger("change")}),i.parent().on("mouseover",".upload-zone:not(.empty)",function(){i.attr("disabled","disabled")}).on("mouseout",".upload-zone:not(.empty)",function(){i.removeAttr("disabled")}),!/android|iphone|ipod|series60|symbian|windows ce|blackberry/i.test(navigator.userAgent)&&i.parent().find('a[rel^="slimbox"]').slimbox({overlayOpacity:.3},null,function(t){return this===t||8<this.rel.length&&this.rel===t.rel}))}}}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<div class="AknFormContainer AknFormContainer--withPadding system-loading-message-field">\n    <div class="AknFieldContainer">\n        <div class="AknFieldContainer-header">\n            <label class="AknFieldContainer-label" for="loading_message_enabled"><%- _.__(\'oro_config.form.config.group.loading_message.label\') %></label>\n        </div>\n        <div class="AknFieldContainer-inputContainer system-loading-message-enabled-field">\n            <div class="switch switch-small" data-on-label="<%- _.__(\'pim_common.yes\') %>" data-off-label="<%- _.__(\'pim_common.no\') %>">\n                <input type="checkbox" id="loading_message_enabled" <%- loading_message_enabled === \'1\' ? \'checked\' : \'\' %> />\n            </div>\n        </div>\n    </div>\n\n    <div class="AknFieldContainer">\n        <div class="AknFieldContainer-header">\n            <label class="AknFieldContainer-label" for="loading_messages"><%- _.__(\'oro_config.form.config.group.loading_messages.label\') %></label>\n        </div>\n        <div class="AknFieldContainer-inputContainer system-loading-messages-field">\n            <textarea class="AknTextareaField" id="loading_messages"><%- loading_messages %></textarea>\n        </div>\n    </div>\n</div>\n'},,function(t,e,i){"use strict";var n,r;n=[i(0),i(7),i(8)],void 0===(r=function(t,e,i){return i.Model.extend({defaults:{title:"",url:null,position:null,type:null},url:function(){var i=t.result(this,"urlRoot")||t.result(this.collection,"url");return i&&-1===i.indexOf(this.get("type"))?i+=("/"===i.charAt(i.length-1)?"":"/")+this.get("type"):!i&&(i=e.generate("oro_api_get_navigationitems",{type:this.get("type")})),this.isNew()?i:i+("/"===i.charAt(i.length-1)?"":"/")+"ids/"+encodeURIComponent(this.id)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(8),i(9),i(12),i(19),i(360),i(366),i(198),i(20),i(11),i(367)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c,u){var d=!1;return function(){if(!d){d=!0;var i=function(e){e||(e=t("body"))},p=function(n){n||(n=t("body")).find("form.form-horizontal, [data-saveformstate]").each(function(){a(t(this).attr("id"),s)}),n.find(".remove-attribute").each(function(){var e=t(this).parent().find(".icons-container");e.length&&t(this).appendTo(e).attr("tabIndex",-1)});var o=t("<i>",{class:"icon-globe",attr:{"data-original-title":e.__("Localized value"),"data-toggle":"tooltip","data-placement":"right"}});n.find(".attribute-field.localizable").each(function(){var e=t(this).find("div.controls").find(".icons-container");e.find("i.icon-globe").length||e.prepend(o.clone())}),l(n),n.find("a[data-form-toggle]").on("click",function(){t("#"+t(this).attr("data-form-toggle")).show(),t(this).hide()}),n.find('a[data-toggle="tab"]').on("show.bs.tab",function(){s(this)}),window.flashMessages&&e.each(window.flashMessages,function(t,i){e.each(t,function(t){r.notify(i,t)})}),window.flashMessages=[],i(n)};t(function(){t(document).on("tab.loaded","form.form-horizontal, [data-saveformstate]",function(e,i){p(t(i))}),t(document).on("shown",'a[data-toggle="tab"]',function(){var e=t(this).attr("href");e&&"#"!==e&&0!==e.indexOf("javascript")&&i(t(e).parent())});var e,n="";t(document).keyup(function(i){n+=i.which,clearTimeout(e),e=setTimeout(function(){n=""},500),"38384040373937396665"===n&&t(document.body).addClass("konami")}),t(document).on("click","[data-dialog]",function(){var e=t(this),i=e.data("message"),n=e.data("title"),a=e.data("subtitle"),s=e.data("buttonlabel"),l=function(){var i=new c;i.render().$el.appendTo(t(document.body)).css({position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%"}),i.show(),t.ajax({url:e.attr("data-url"),type:"POST",headers:{accept:"application/json"},data:{_method:e.data("method")},success:function(){i.hide().$el.remove();var t=e.attr("data-redirect-url");u.redirect(t,{trigger:!0}),r.notify("success",e.attr("data-success-message"))},error:function(t){i.hide().$el.remove(),r.notify("error",t.responseJSON&&t.responseJSON.message?t.responseJSON.message:e.attr("data-error-message"))}})};return e.off("click"),"confirm"===e.data("dialog")?o.confirm(i,n,l,a,"",s):"delete"===e.data("dialog")?o.confirmDelete(i,n,l,a):o.alert(i,n,a),!1}),p()}),n.on("route_complete pim:reinit",function(){p()})}}}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(20)],void 0===(r=function(t,e){return function(i){var n=t(i).attr("href");if(n&&"#"!==n&&0!==n.indexOf("javascript")){var r=t(n);if(!r.attr("data-loaded")&&!r.attr("data-loading")&&r.attr("data-url")){r.attr("data-loading",1),r.hasClass("active")||r.addClass("active");var o=new e;o.render().$el.appendTo(r).css({position:"absolute",width:"100%",height:"80%"}),o.show(),t.get(r.attr("data-url"),function(t){r.html(t).attr("data-loaded",1).removeAttr("data-loading"),o.hide().$el.remove(),r.closest("form").trigger("tab.loaded",r)})}}}}.apply(e,n))||(t.exports=r)},function(t,e,i){(function(e){t.exports=e.require=i(906)}).call(e,i(90))},function(t,e,i){"use strict";var n,r;n=[i(1),i(6),i(135)],void 0===(r=function(t,e,i){return{fetch:function(){return t.getJSON("js/translation/"+e.get("uiLocale")+".js").then(function(t){i.fromJSON(t)})}}}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1)],void 0===(r=function(t){return function(){var e,i=window.location.hash;i.length&&i.match("#")&&(-1!==i.indexOf("|")&&(i=i.substring(0,i.indexOf("|"))),(e=(i=i.replace("#","")).split("php"))[1]&&(i=e[1]),t('input[name="_target_path"]').val(i))}}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<div id="page" class="AknDefault-page">\n    <div>\n        <div id="flash-messages" class="AknDefault-flashContainer">\n            <div class="flash-messages-holder AknDefault-flashList"></div>\n        </div>\n    </div>\n    <div data-drop-zone="menu"></div>\n    <div id="container" class="AknDefault-container"></div>\n</div>\n'},function(t,e){t.exports='<div class="AknFlash alert <% if (type) {  %><%= \'alert-\' + type + \' AknFlash--\' + type %><% } %> fade in top-messages">\n    <button type="button" class="AknFlash-closeButton close" data-dismiss="alert">&times;</button>\n    <div class="message"><%- message %></div>\n</div>\n'},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(9),i(178),i(11),i(363)],void 0===(r=function(t,e,i,n,r){return n.extend({events:{"submit form":"submitForm"},submitForm:function(e){var i=t(e.currentTarget);return r.showLoadingMask(),i.ajaxSubmit({complete:t=>{this.afterSubmit(t,i)}}),!1},afterSubmit:function(t){this.active&&(t.responseJSON&&t.responseJSON.route?r.redirectToRoute(t.responseJSON.route,t.responseJSON.params?t.responseJSON.params:{},{trigger:!0}):(this.renderTemplate(t.responseText),i.trigger("route_complete pim:reinit"),r.hideLoadingMask()))}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(1),i(30),i(14),i(6),i(9),i(33),i(7),i(5),i(139)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c){return i.extend({config:{gridExtension:"pim-product-index",gridName:"product-grid"},initialize(t){return this.config=Object.assign(this.config,t.config||{}),i.prototype.initialize.apply(this,arguments)},renderForm(){this.selectMenuTab();var t=this.config,e=t.gridName,i=t.gridExtension;return l.getFetcher("datagrid-view").clear(),c.clear(),n.build(i).then(t=>(this.setupLocale(),this.setupMassEditAttributes(),t.setElement(this.$el).render({gridName:e}),t))},renderTemplate(t){this.active&&this.$el.html(t)},setupLocale(){var t=window.location.hash.split("?dataLocale=")[1];t&&r.set("catalogLocale",t)},setupMassEditAttributes(){sessionStorage.setItem("mass_edit_selected_attributes",JSON.stringify([]))},selectMenuTab(){o.trigger("pim_menu:highlight:tab",{extension:"pim-menu-products"})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=i(1),a=i(30),s=i(14),l=i(7),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.renderForm=function(){var t=this;return o.when(s.build("pim-catalog-volume-index"),o.get(l.generate("pim_volume_monitoring_get_volumes"))).then(function(e,i){return void 0===i&&(i=[]),t.on("pim:controller:can-leave",function(t){e.trigger("pim_enrich:form:can-leave",t)}),e.setData(i[0]),e.setElement(t.$el).render(),e})},e}(a);t.exports=c},function(t,e,i){"use strict";var n,r;n=[i(1),i(199),i(12),i(28),i(17)],void 0===(r=function(t,e,i,n){return{init:function(r){var o=t(r),a=o.parent().find(".icons-container").first();a.length&&o.insertBefore(a).attr("tabIndex",-1),new e(r,function(t){if(t.status){var e=o.siblings("input.pim-ajax-entity"),r={id:t.option.id,text:t.option.label};e.attr("data-multiple")&&(r=function(t){var i=e.select2("data");return i.push(t),i}(r)),e.select2("destroy"),n.initSelect(e),e.trigger("change"),e.select2("data",r),i.notify("success",o.data("success-message"))}else i.notify("error",o.data("error-message"))})}}}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(8),i(2),i(7),i(9),i(20),i(19),i(377),i(378),i(379),i(98)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c,u){var d=i.Model.extend({defaults:{code:"",optionValues:{}}}),p=i.Collection.extend({model:d,initialize:function(t){this.url=t.url}}),h=i.View.extend({tagName:"tr",className:"AknGrid-bodyRow editable-item-row",showTemplate:e.template(u),editTemplate:e.template(c),events:{"click .show-row":"stopEditItem","click .edit-row":"startEditItem","click .delete-row":"deleteItem","click .update-row":"updateItem","keyup input":"soil",keydown:"cancelSubmit"},editable:!1,parent:null,loading:!1,locales:[],initialize:function(t){this.locales=t.locales,this.parent=t.parent,this.model.urlRoot=this.parent.updateUrl,this.render()},render:function(){var t=null;return this.editable?(this.clean(),this.$el.addClass("in-edition"),t=this.editTemplate):(this.$el.removeClass("in-edition"),t=this.showTemplate),this.$el.html(t({item:this.model.toJSON(),locales:this.locales})),this.$el.attr("data-item-id",this.model.id),this},showReadableItem:function(){this.editable=!1,this.parent.showReadableItem(this),this.clean(),this.render()},showEditableItem:function(){this.editable=!0,this.render(),this.model.set(this.loadModelFromView().attributes)},startEditItem:function(){this.parent.requestRowEdition(this)&&this.showEditableItem()},stopEditItem:function(){!this.model.id||this.dirty?this.dirty?s.confirm(n("pim_enrich.entity.attribute_option.module.edit.cancel_description"),n("pim_enrich.entity.attribute_option.module.edit.cancel_title"),function(){this.showReadableItem(this),this.model.id||this.deleteItem()}.bind(this)):this.model.id?this.showReadableItem():this.deleteItem():this.showReadableItem()},deleteItem:function(){var t=this.el.firstChild.innerText;s.confirmDelete(n("pim_enrich.entity.fallback.module.delete.item_placeholder",{itemName:t}),n("pim_enrich.entity.fallback.module.delete.title",{itemName:t}),function(){this.parent.deleteItem(this)}.bind(this),n("pim_enrich.entity.attribute.plural_label"))},updateItem:function(){this.inLoading(!0);var t=this.loadModelFromView();t.save({},{url:this.model.url(),success:function(){this.inLoading(!1),this.model.set(t.attributes),this.clean(),this.stopEditItem(),this.parent.sortable?this.parent.updateSorting():this.parent.render()}.bind(this),error:this.showValidationErrors.bind(this)})},showValidationErrors:function(t,e){this.inLoading(!1);var i=e.responseJSON;i.code?this.$el.find(".validation-tooltip").attr("data-original-title",i.code).removeClass("AknIconButton--hide").tooltip("destroy").tooltip("show"):s.alert(n("alert.attribute_option.error_occured_during_submission"),n("pim_enrich.entity.attribute_option.flash.update.fail"))},cancelSubmit:function(t){if(13===t.keyCode)return this.updateItem(),!1},loadModelFromView:function(){var t={},i=this.model.clone();return i.urlRoot=this.model.urlRoot,e.each(this.$el.find(".attribute-option-value"),function(e){var i=e.dataset.locale;t[i]={locale:i,value:e.value,id:this.model.get("optionValues")[i]?this.model.get("optionValues")[i].id:null}}.bind(this)),i.set("code",this.$el.find(".attribute_option_code").val()),i.set("optionValues",t),i},inLoading:function(t){this.parent.inLoading(t)},soil:function(){this.dirty=JSON.stringify(this.model.attributes)!==JSON.stringify(this.loadModelFromView().attributes)},clean:function(){this.dirty=!1}}),f=i.View.extend({tagName:"table",className:"AknGrid AknGrid--unclickable table attribute-option-view",template:e.template(l),events:{"click .option-add":"addItem"},$target:null,locales:[],sortable:!0,sortingUrl:"",updateUrl:"",currentlyEditedItemView:null,itemViews:[],rendered:!1,initialize:function(t){this.$target=t.$target,this.collection=new p({url:t.updateUrl}),this.locales=t.locales,this.updateUrl=t.updateUrl,this.sortingUrl=t.sortingUrl,this.sortable=t.sortable,this.render(),this.load()},render:function(){return this.$el.empty(),this.currentlyEditedItemView=null,this.updateEditionStatus(),this.$el.html(this.template({locales:this.locales,add_option_label:n("pim_enrich.entity.product.module.attribute.add_option"),code_label:n("pim_common.code")})),e.each(e.sortBy(this.collection.models,function(t){return this.sortable?0:t.attributes.code}.bind(this)),function(t){this.addItem({item:t})}.bind(this)),0===this.collection.length&&this.addItem(),this.rendered||(this.$target.html(this.$el),this.rendered=!0),this.setSortable(),this.updateSortableStatus(this.sortable),this},setSortable:function(){this.$el.sortable({items:"tbody tr",axis:"y",connectWith:this.$el,containment:this.$el,distance:5,cursor:"move",helper:function(e,i){return i.children().each(function(){t(this).width(t(this).width())}),i},stop:function(){this.updateSorting()}.bind(this)})},load:function(){this.itemViews=[],this.inLoading(!0),this.collection.fetch({success:function(){this.inLoading(!1),this.render()}.bind(this)})},addItem:function(t){var e,i=t||{};e=i.item?i.item:new d;var n=this.createItemView(e);n&&this.$el.children("tbody").append(n.$el)},createItemView:function(t){var e=new h({model:t,url:this.updateUrl,locales:this.locales,parent:this});if(!t.id){if(!this.requestRowEdition(e))return;e.showEditableItem()}return this.collection.add(t),this.itemViews.push(e),e},requestRowEdition:function(t){if(this.currentlyEditedItemView){if(this.currentlyEditedItemView.dirty)return s.alert(n("alert.attribute_option.save_before_edit_other")),!1;this.currentlyEditedItemView.stopEditItem(),this.currentlyEditedItemView=null,this.updateEditionStatus()}return t.model.id&&(this.currentlyEditedItemView=t),this.updateEditionStatus(),!0},showReadableItem:function(t){t===this.currentlyEditedItemView&&(this.currentlyEditedItemView=null,this.updateEditionStatus())},deleteItem:function(t){this.inLoading(!0),t.model.destroy({success:function(){this.inLoading(!1),this.collection.remove(t),this.currentlyEditedItemView=null,this.updateEditionStatus(),0===this.collection.length?(this.addItem(),t.$el.hide(0)):t.model.id?t.$el.hide(500):t.$el.hide(0)}.bind(this),error:function(t,e){var i;this.inLoading(!1),i=e.responseJSON?e.responseJSON.message:e.responseText,s.alert(i,n("pim_enrich.entity.attribute_option.flash.delete.fail"))}.bind(this)})},updateEditionStatus:function(){this.currentlyEditedItemView?this.$el.addClass("in-edition"):this.$el.removeClass("in-edition")},updateSortableStatus:function(t){this.sortable=t,t?this.$el.sortable("enable"):this.$el.sortable("disable")},updateSorting:function(){for(var e=[],i=this.$el.find("tbody tr"),n=i.length-1;0<=n;n--)e[n]=i[n].dataset.itemId;t.ajax({url:this.sortingUrl,type:"PUT",data:JSON.stringify(e)})},inLoading:function(t){if(t){var e=new a;e.render().$el.appendTo(this.$el),e.show()}else this.$el.find(".loading-mask").remove()}});return function(t){var e=new f({$target:t,updateUrl:r.generate("pim_enrich_attributeoption_index",{attributeId:t.data("attribute-id")}),sortingUrl:r.generate("pim_enrich_attributeoption_update_sorting",{attributeId:t.data("attribute-id")}),locales:t.data("locales"),sortable:t.data("sortable")});o.on("attribute:auto_option_sorting:changed",function(t){e.setSortable(),e.updateSortableStatus(!t),e.render()}.bind(this))}}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<colgroup>\n    <col class="code" span="1">\n    <col class="fields" span="<%- locales.length %>"/>\n    <col class="action" span="1"/>\n</colgroup>\n<thead>\n    <tr>\n        <th class="AknGrid-headerCell"><%- code_label %></th>\n        <% _.each(locales, function (locale) { %>\n            <th class="AknGrid-headerCell">\n                <%- locale %>\n            </th>\n        <% }); %>\n        <th class="AknGrid-headerCell AknGrid-headerCell--right"><%- _.__(\'pim_common.actions\') %></th>\n    </tr>\n</thead>\n<tbody></tbody>\n<tfoot>\n    <tr class="AknGrid-bodyRow">\n        <td class="AknGrid-bodyCell" colspan="<%- 2 + locales.length %>">\n            <span class="AknButton AknButton--grey AknButton--small option-add"><%- add_option_label %></span>\n        </td>\n    </tr>\n</tfoot>\n'},function(t,e){t.exports='<td class="AknGrid-bodyCell field-cell">\n    <div class="AknFieldContainer AknFieldContainer--withoutMargin">\n        <div class="AknFieldContainer-inputContainer">\n            <% if (item.id) { %>\n                <input type="hidden" class="attribute_option_code" value="<%- item.code %>"/>\n                <span class="option-code"><%- item.code %></span>\n            <% } else { %>\n                <input type="text" class="AknTextField attribute_option_code exclude" value="<%- item.code %>"/>\n                <div class="AknFieldContainer-iconsContainer">\n                    <i class="AknIconButton AknIconButton--important AknIconButton--hide icon-warning-sign validation-tooltip" data-placement="top" data-toggle="tooltip"></i>\n                </div>\n            <% } %>\n        </div>\n    </div>\n</td>\n<% _.each(locales, function (locale) { %>\n    <td class="AknGrid-bodyCell field-cell">\n        <% if (item.optionValues[locale]) { %>\n            <input type="text" class="AknTextField attribute-option-value exclude" data-locale="<%- locale %>"\n                value="<%- item.optionValues[locale].value %>"/>\n        <% } else { %>\n            <input type="text" class="AknTextField attribute-option-value exclude" data-locale="<%- locale %>"\n        value=""/>\n        <% } %>\n    </td>\n<% }); %>\n<td class="AknGrid-bodyCell">\n    <div class="AknButtonList AknButtonList--right">\n        <span class="AknButtonList-item AknIconButton AknIconButton--round AknIconButton--apply AknIconButton--ok update-row"></span>\n        <span class="AknButtonList-item AknIconButton AknIconButton--round AknIconButton--important AknIconButton--remove show-row"></span>\n    </div>\n</td>\n'},function(t,e){t.exports='<td class="AknGrid-bodyCell">\n    <span class="handle ui-sortable-handle"><i class="icon-reorder"></i></span>\n    <span class="option-code"><%- item.code %></span>\n</td>\n<% _.each(locales, function (locale) { %>\n    <td class="AknGrid-bodyCell">\n        <% if (item.optionValues[locale]) { %>\n            <span title="<%- item.optionValues[locale].value %>">\n                <%- item.optionValues[locale].value %>\n            </span>\n        <% } %>\n    </td>\n<% }); %>\n<td class="AknGrid-bodyCell">\n    <div class="AknButtonList AknButtonList--right">\n        <span class="AknButtonList-item AknIconButton AknIconButton--round AknIconButton--apply AknIconButton--edit edit-row"></span>\n        <span class="AknButtonList-item AknIconButton AknIconButton--round AknIconButton--important AknIconButton--remove delete-row"></span>\n    </div>\n</td>\n'},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(5)],void 0===(r=function(t,e,i){return{getProductGroups:function(n){var r=e.map(n.groups,function(t){return i.getFetcher("group").fetch(t)});return t.when.apply(t,r).then(function(){return e.toArray(arguments)})}}}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(8),i(63),i(7),i(9),i(382)],void 0===(r=function(t,e,i,n,r,o){return i.extend({fetch:function(e){return t.getJSON(n.generate(this.options.urls.get,{id:e})).then(function(t){return(new o).checkStructureVersion(t),r.trigger("pim_enrich:form:product:post_fetch",t),t}).promise()},getIdentifierField:function(){return t.Deferred().resolve("identifier")}})}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r,o=["pim_enrich:form:entity:post_fetch"];n=[i(0),i(3),i(9),i(5)],void 0===(r=function(t,e,i,n){return e.extend({configure:function(){return t.each(o,function(t){this.listenTo(this.getRoot(),t,this.checkStructureVersion)}.bind(this)),this.listenTo(this.getRoot(),"pim_enrich:form:cache:clear",this.clearCache),e.prototype.configure.apply(this,arguments)},checkStructureVersion:function(t){t.meta.structure_version!==this.getLocaleStructureVersion(t.meta.model_type)&&this.clearCache(),this.setLocaleStructureVersion(t.meta.model_type,t.meta.structure_version)},getLocaleStructureVersion:function(t){return parseInt(sessionStorage.getItem("structure_version_"+t))},setLocaleStructureVersion:function(t,e){sessionStorage.setItem("structure_version_"+t,e)},clearCache:function(){n.clearAll()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r,o="pim_enrich_associationtype_rest_remove";n=[i(0),i(36),i(7)],void 0===(r=function(t,e,i){return t.extend({},e,{getUrl:function(t){return i.generate(o,{code:t})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r,o="pim_enrich_attributegroup_rest_remove";n=[i(0),i(36),i(7)],void 0===(r=function(t,e,i){return t.extend({},e,{getUrl:function(t){return i.generate(o,{identifier:t})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r,o="pim_enrich_grouptype_rest_remove";n=[i(0),i(36),i(7)],void 0===(r=function(t,e,i){return t.extend({},e,{getUrl:function(t){return i.generate(o,{code:t})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r,o="pim_enrich_channel_rest_remove";n=[i(0),i(36),i(7)],void 0===(r=function(t,e,i){return t.extend({},e,{getUrl:function(t){return i.generate(o,{code:t})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r,o="pim_enrich_family_rest_remove";n=[i(0),i(36),i(7)],void 0===(r=function(t,e,i){return t.extend({},e,{getUrl:function(t){return i.generate(o,{code:t})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r,o="pim_enrich_family_variant_rest_remove";n=[i(0),i(36),i(7)],void 0===(r=function(t,e,i){return t.extend({},e,{getUrl:function(t){return i.generate(o,{code:t})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r,o="pim_enrich_product_rest_remove";n=[i(0),i(36),i(7)],void 0===(r=function(t,e,i){return t.extend({},e,{getUrl:function(t){return i.generate(o,{id:t})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r,o="pim_enrich_product_model_rest_remove";n=[i(0),i(36),i(7)],void 0===(r=function(t,e,i){return t.extend({},e,{getUrl:function(t){return i.generate(o,{id:t})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r,o="pim_enrich_group_rest_remove";n=[i(0),i(36),i(7)],void 0===(r=function(t,e,i){return t.extend({},e,{getUrl:function(t){return i.generate(o,{code:t})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r,o="pim_enrich_job_instance_rest_import_delete";n=[i(0),i(36),i(7)],void 0===(r=function(t,e,i){return t.extend({},e,{getUrl:function(t){return i.generate(o,{code:t})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r,o="pim_enrich_job_instance_rest_export_delete";n=[i(0),i(36),i(7)],void 0===(r=function(t,e,i){return t.extend({},e,{getUrl:function(t){return i.generate(o,{code:t})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r,o="pim_enrich_attribute_rest_remove";n=[i(0),i(36),i(7)],void 0===(r=function(t,e,i){return t.extend({},e,{getUrl:function(t){return i.generate(o,{code:t})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(60),i(7)],void 0===(r=function(t,e,i){return t.extend({},e,{getUrl:function(t){return void 0===this.identifierProperty?i.generate(this.url,{identifier:t}):i.generate(this.url,{[this.identifierProperty]:t})},setUrl:function(t){return this.url=t,this},setIdentifierProperty:function(t){return this.identifierProperty=t,this}})}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r,o="pim_enrich_channel_rest_post",a="pim_enrich_channel_rest_put";n=[i(0),i(60),i(7),i(9),i(1)],void 0===(r=function(t,e,i,n,r){return t.extend({},e,{getUrl:function(t){return null===t?i.generate(o):i.generate(a,{code:t})},save:function(e,i,o){var a=i,s=[];return t.each(i.locales,function(t){s.push(t.code)}),a.locales=s,r.ajax({type:o,url:this.getUrl(e),data:JSON.stringify(a)}).then(function(t){return n.trigger("pim_enrich:form:entity:post_save",t),t}.bind(this))}})}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r,o="pim_enrich_family_rest_put";n=[i(0),i(60),i(7)],void 0===(r=function(t,e,i){return t.extend({},e,{getUrl:function(t){return i.generate(o,{code:t})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r,o="pim_enrich_family_variant_rest_put";n=[i(0),i(60),i(7)],void 0===(r=function(t,e,i){return t.extend({},e,{getUrl:function(t){return i.generate(o,{identifier:t})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r,o="pim_enrich_product_rest_post";n=[i(0),i(60),i(7)],void 0===(r=function(t,e,i){return t.extend({},e,{getUrl:function(t){return i.generate(o,{id:t})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r,o="pim_enrich_product_model_rest_post";n=[i(0),i(60),i(7)],void 0===(r=function(t,e,i){return t.extend({},e,{getUrl:function(t){return i.generate(o,{id:t})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r,o="pim_enrich_group_rest_post";n=[i(0),i(60),i(7)],void 0===(r=function(t,e,i){return t.extend({},e,{getUrl:function(t){return i.generate(o,{code:t})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r,o="pim_enrich_job_instance_rest_export_put";n=[i(0),i(60),i(7)],void 0===(r=function(t,e,i){return t.extend({},e,{getUrl:function(t){return i.generate(o,{identifier:t})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r,o="pim_enrich_job_instance_rest_import_put";n=[i(0),i(60),i(7)],void 0===(r=function(t,e,i){return t.extend({},e,{getUrl:function(t){return i.generate(o,{identifier:t})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e){t.exports='<div class="AknGridContainer">\n    <table class="AknGrid AknGrid--unclickable groups">\n        <% _.each(attributeGroups, function (attributeGroup) { %>\n        <tr class="AknGrid-bodyRow attribute-group" data-attribute-group-code="<%- attributeGroup.code %>">\n            <td class="AknGrid-bodyCell AknGrid-bodyCell--tight">\n                <span class="handle">\n                    <i class="icon-reorder"></i>\n                </span>\n            </td>\n            <td class="AknGrid-bodyCell attribute-group-link" data-attribute-group-code="<%- attributeGroup.code %>"><%- i18n.getLabel(attributeGroup.labels, uiLocale, attributeGroup.code) %></td>\n        </tr>\n        <% }); %>\n    </table>\n</div>\n'},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=i(0),s=i(3),l=i(2),c=i(407),u=i(31),d=i(6),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(Error),h=function(t){function e(e){var i=t.call(this,e)||this;return i.template=a.template(c),i.hideHint=!1,i.config={align:"left",warningText:l("pim_catalog_volume.axis.warning"),templates:{averageMax:"pim/template/catalog-volume/average-max",count:"pim/template/catalog-volume/number"},axes:[],hint:{code:"",title:"",link:""},title:""},i.config=o({},i.config,e.config),i.hideHint=!1,i}return r(e,t),e.prototype.events=function(){return{"click .AknCatalogVolume-remove":"closeHint","click .AknCatalogVolume-icon--active":"closeHint","click .open-hint:not(.AknCatalogVolume-icon--active)":"openHint"}},e.prototype.hintIsHidden=function(){return!1!==this.hideHint&&!!localStorage.getItem(this.config.hint.code)},e.prototype.sectionHasData=function(t,e){return Object.keys(t).filter(function(t){return e.includes(t)}).length>0},e.prototype.render=function(){var t=this.getRoot().getFormData(),e=this.config.axes;return!1===this.sectionHasData(t,e)?this:(this.$el.empty().html(this.template({title:l(this.config.title),hintTitle:l(this.config.hint.title).replace("{{link}}",this.config.hint.link),hintIsHidden:this.hintIsHidden(),align:this.config.align})),this.renderAxes(this.config.axes,t),this)},e.prototype.getIconName=function(t){return t.replace(/_/g,"-")},e.prototype.getTemplateName=function(t){return t.toLowerCase().replace(/_(.)/g,function(t){return t.toUpperCase()}).replace(/_/g,"")},e.prototype.renderAxes=function(t,e){var i=this;t.forEach(function(t){var n=e[t];if(void 0!==n){var r={value:n.value,hasWarning:n.has_warning,type:n.type},o=i.getTemplateName(r.type),s=i.config.templates[o];if(void 0===s)throw new p("The axis "+t+" does not have a template for "+r.type);var c=a.template(u(s))({name:t,icon:i.getIconName(t),value:r.value,hasWarning:r.hasWarning,title:l("pim_catalog_volume.axis."+t),warningText:i.config.warningText,meanLabel:l("pim_catalog_volume.mean"),maxLabel:l("pim_catalog_volume.max"),userLocale:d.get("uiLocale").split("_")[0]});i.$(".AknCatalogVolume-axisContainer").append(c)}})},e.prototype.closeHint=function(){localStorage.setItem(this.config.hint.code,"1"),this.hideHint=!0,this.render()},e.prototype.openHint=function(){this.hideHint=!1,this.render()},e}(s);t.exports=h},function(t,e){t.exports='<div class="AknCatalogVolume-sectionHeading">\n    <div class="AknWidget-header AknWidget-header--compact widget-header">\n        <%- title %>\n        <div class="AknCatalogVolume-icon AknCatalogVolume-icon--info-button open-hint <%- hintIsHidden ? \'\' : \'AknCatalogVolume-icon--active\' %>"></div>\n    </div>\n    <div class="AknCatalogVolume-hint <%- hintIsHidden ? \'AknCatalogVolume-hint--hidden\' : \'\' %>">\n        <div class="AknCatalogVolume-icon AknCatalogVolume-icon--info"></div>\n        <div class="AknCatalogVolume-hintTitle"> <%= hintTitle %></div>\n        <div class="AknCatalogVolume-remove AknIconButton AknIconButton--remove"></div>\n    </div>\n</div>\n<div class="AknCatalogVolume-axisContainer <%- align === \'right\' ? \'AknCatalogVolume-axisContainer--right\' : \'\' %> "></div>\n'},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=i(3),s=i(0),l=i(2),c=i(409),u=i(6),d=function(t){function e(e){var i=t.call(this,e)||this;return i.headerTemplate=s.template(c),i.config=o({},i.config,e.config),i}return r(e,t),e.prototype.render=function(){var t=this.getRoot().getFormData(),e=t.count_product_and_product_model_values,i=t.average_max_product_and_product_model_values;if(void 0!==e&&e.value>0){var n=this.headerTemplate({title:l(this.config.title).replace("{{values}}",e.value.toLocaleString(u.get("uiLocale").split("_")[0],{useGrouping:!0})).replace("{{average}}",i.value.average),description:l(this.config.description).replace("{{link}}",this.config.link),illustration:"Product-categories.svg"});this.$el.html(n)}return this},e}(a);t.exports=d},function(t,e){t.exports='<div class="AknDescriptionHeader">\n    <div class="AknDescriptionHeader-icon" style="background-image: url(\'../bundles/pimui/images/illustrations/<%= illustration %>\');"></div>\n    <div class="AknDescriptionHeader-title">\n        <%= __(title) %>\n        <div class="AknDescriptionHeader-description">\n            <% if (Array.isArray(description)) { %>\n                <% description.forEach((line) => { %>\n                    <p><%= __(line) %></p>\n                <% }) %>\n            <% } else { %>\n                <%= __(description) %>\n            <% } %>\n        </div>\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="AknFieldContainer-header">\n    <label class="AknFieldContainer-label control-label required" for="pim_enrich_channel_form_currencies">\n        <%- label %> <em><%- requiredLabel %></em>\n    </label>\n</div>\n<div class="AknFieldContainer-inputContainer">\n    <select class="select2" multiple id="pim_enrich_channel_form_currencies">\n        <% _.each(currencies, function (currency) { %>\n        <option value="<%- currency.code %>"\n            <%- _.contains(currentCurrencies, currency.code) ? \'selected\' : \'\' %>>\n            <%- currency.code %>\n        </option>\n        <% }); %>\n    </select>\n</div>\n<div class="AknFieldContainer-footer">\n    <span class="AknFieldContainer-validationErrors validation-errors">\n        <% _.each(errors, function (error) { %>\n            <span class="AknFieldContainer-validationError">\n                <span class="error-message"><%- error %></span>\n            </span>\n        <% }); %>\n    </span>\n</div>\n'},function(t,e){t.exports='<div class="AknFieldContainer-header">\n    <label class="AknFieldContainer-label control-label required" for="pim_enrich_channel_form_locales">\n        <%- label %> <em><%- requiredLabel %></em>\n    </label>\n</div>\n<div class="AknFieldContainer-inputContainer">\n    <select class="select2" multiple id="pim_enrich_channel_form_locales">\n        <% _.each(locales, function (locale) { %>\n        <option value="<%- locale.code %>" <%- _.findWhere(currentLocales, locale) ? \'selected\' : \'\' %>><%- locale.label %></option>\n        <% }); %>\n    </select>\n</div>\n<div class="AknFieldContainer-footer">\n    <div class="AknFieldContainer-validationErrors validation-errors">\n        <% _.each(errors, function (error) { %>\n        <div class="AknFieldContainer-validationError">\n            <%- error %>\n        </div>\n        <% }); %>\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="AknFieldContainer-header">\n    <label class="AknFieldContainer-label control-label required" for="pim_enrich_channel_form_category_tree">\n        <%- label %> <em><%- requiredLabel %></em>\n    </label>\n</div>\n<div class="AknFieldContainer-inputContainer">\n    <select class="select2" id="pim_enrich_channel_form_category_tree">\n        <% _.each(categories, function (category) { %>\n        <option value="<%- category.code %>" <%- (categoryTree == category.code) ? \'selected\' : \'\' %> >\n            <%- i18n.getLabel(category.labels, catalogLocale, category.code) %>\n        </option>\n        <% }); %>\n    </select>\n</div>\n<div class="AknFieldContainer-footer">\n    <div class="AknFieldContainer-validationErrors validation-errors">\n        <% _.each(errors, function (error) { %>\n        <div class="AknFieldContainer-validationError">\n            <%- error %>\n        </div>\n        <% }); %>\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="tabsection-title"><%- label %></div>\n<div class="tabsection-content">\n    <div class="AknFormContainer AknFormContainer--withPadding">\n        <% _.each(metrics, function (attribute, key) { %>\n        <div class="AknFieldContainer">\n            <div class="AknFieldContainer-header">\n                <label class="AknFieldContainer-label control-label" for="<%- fieldBaseId + attribute.code %>">\n                    <%- i18n.getLabel(attribute.labels, catalogLocale, attribute.code) %>\n                </label>\n            </div>\n            <div class="AknFieldContainer-inputContainer">\n                <select class="select2" id="<%- fieldBaseId + attribute.code %>">\n                    <% isMetricConfigured = !_.isUndefined(conversionUnits[attribute.code]) %>\n                    <option value="no_conversion" <%- (!isMetricConfigured) ? \'selected\' : \'\' %>>\n                        <%- doNotConvertLabel %>\n                    </option>\n                    <% _.each(_.keys(measures[attribute.metric_family].units), function (unit) { %>\n                    <option value="<%- unit %>" <%- (isMetricConfigured && unit == conversionUnits[attribute.code]) ? \'selected\' : \'\' %>>\n                        <%- __(`pim_measure.units.${unit}`) %>\n                    </option>\n                    <% }) %>\n                </select>\n            </div>\n        </div>\n        <% }) %>\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="grid-drop" data-type="datagrid"></div>\n<input type="hidden" id="added_objects"/>\n<input type="hidden" id="removed_objects"/>\n'},function(t,e){t.exports='<div class="AknGridToolbar">\n    <div class="AknGridToolbar-center"></div>\n    <div class="AknGridToolbar-right">\n        <div class="AknButtonList AknButtonList--right" data-drop-zone="variant-toolbar">\n        </div>\n    </div>\n</div>\n\n<div class="AknFilterBox AknFilterBox--search" data-drop-zone="filters"></div>\n<div data-drop-zone="grid"></div>\n'},function(t,e){t.exports='<div class="AknFieldContainer">\n    <div class="AknFieldContainer-header">\n        <label class="AknFieldContainer-label control-label required" for="<%- fieldName%>">\n            <%- label %> <% if (isRequired) { %><em><%- requiredLabel %></em><% } %>\n        </label>\n    </div>\n    <div class="AknFieldContainer-inputContainer">\n        <input\n                id="<%- fieldName%>"\n                class="AknTextField <%- className %>"\n                type="text"\n                value="<%- value %>"\n                <%- isReadOnly ? \'readonly disabled\' : \'\' %>\n                <%- isRequired ? \'required\' : \'\' %>\n        >\n    </div>\n    <div class="AknFieldContainer-footer">\n        <div class="AknFieldContainer-validationErrors validation-errors">\n            <% _.each(errors, function (error) { %>\n            <div class="AknFieldContainer-validationError">\n                <%- error %>\n            </div>\n            <% }); %>\n        </div>\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="AknFieldContainer-header">\n    <label class="AknFieldContainer-label control-label required" for="<%- fieldBaseId + \'attribute_as_label\' %>">\n        <%- label %> <em><%- requiredLabel %></em>\n    </label>\n</div>\n<div class="AknFieldContainer-inputContainer">\n    <select class="select2" id="<%- fieldBaseId + \'attribute_as_label\' %>" <%- isReadOnly ? \'readonly disabled\' : \'\' %>>\n        <% _.each(attributes, function (attribute) { %>\n        <option value="<%- attribute.code %>" <%- (currentAttribute === attribute.code) ? \'selected\' : \'\' %> >\n        <%- i18n.getLabel(attribute.labels, catalogLocale, attribute.code) %>\n        </option>\n        <% }); %>\n    </select>\n</div>\n<div class="AknFieldContainer-footer">\n    <div class="AknFieldContainer-validationErrors validation-errors">\n        <% _.each(errors, function (error) { %>\n        <div class="AknFieldContainer-validationError">\n            <%- error %>\n        </div>\n        <% }); %>\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="AknFieldContainer-header">\n    <label class="AknFieldContainer-label control-label" for="<%- fieldBaseId + \'attribute_as_image\' %>">\n        <%- label %>\n    </label>\n</div>\n<div class="AknFieldContainer-inputContainer">\n    <select class="select2" id="<%- fieldBaseId + \'attribute_as_image\' %>" <%- isReadOnly ? \'readonly disabled\' : \'\' %>>\n        <option value="no_attribute_as_image" <%- (null === currentAttribute) ? \'selected\' : \'\' %>><%- emptyLabel %></option>\n        <% _.each(attributes, function (attribute) { %>\n            <option value="<%- attribute.code %>" <%- (currentAttribute === attribute.code) ? \'selected\' : \'\' %> >\n                <%- i18n.getLabel(attribute.labels, catalogLocale, attribute.code) %>\n            </option>\n        <% }); %>\n    </select>\n</div>\n<div class="AknFieldContainer-footer">\n    <div class="AknFieldContainer-validationErrors validation-errors">\n        <% _.each(errors, function (error) { %>\n        <div class="AknFieldContainer-validationError">\n            <%- error %>\n        </div>\n        <% }); %>\n    </div>\n</div>\n'},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(3),i(5),i(420)],void 0===(r=function(t,e,i,n,r){return i.extend({className:"translation-container",template:e.template(r),events:{"change .label-field":"updateModel"},validationErrors:{},locales:[],initialize:function(t){this.config=t.config,i.prototype.initialize.apply(this,arguments)},configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:pre_save",this.onPreSave),this.listenTo(this.getRoot(),"pim_enrich:form:entity:bad_request",this.onValidationError),this.listenTo(this.getRoot(),"pim_enrich:form:entity:locales_updated",this.onLocalesUpdated.bind(this)),t.when(this.getLocales(!0).then(function(t){this.locales=t}.bind(this)),i.prototype.configure.apply(this,arguments))},onPreSave:function(){this.validationErrors={},this.render()},onValidationError:function(t){this.validationErrors=t.response.translations?t.response.translations:{},this.render()},render:function(){this.$el.html(this.template({model:this.getFormData(),locales:this.locales,errors:this.validationErrors,label:this.config.label,fieldBaseId:this.config.fieldBaseId,isReadOnly:this.isReadOnly()})),this.delegateEvents(),this.renderExtensions()},isReadOnly:function(){return!1},updateModel:function(t){var e=this.getFormData();Array.isArray(e.labels)&&(e.labels={}),e.labels[t.target.dataset.locale]=t.target.value,this.setData(e)},onLocalesUpdated:function(){this.getLocales(!1).then(function(t){return this.locales=t,this.render()}.bind(this))},getLocales:function(t){return n.getFetcher("locale").search({activated:!0,cached:t})}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<% _.each(locales, function (locale) { %>\n    <div class="AknFieldContainer">\n        <div class="AknFieldContainer-header">\n            <label class="AknFieldContainer-label" for="<%- fieldBaseId %><%- locale.code %>">\n                <%= locale.label %>\n            </label>\n        </div>\n        <div class="AknFieldContainer-inputContainer field-input">\n            <input id="<%- fieldBaseId %><%- locale.code %>"\n                   class="AknTextField label-field"\n                   type="text"\n                   data-locale="<%- locale.code %>"\n                   value="<%- model.labels[locale.code] %>"\n                   <%- isReadOnly ? \'readonly disabled\' : \'\' %>\n            >\n        </div>\n        <% if (errors[locale.code]) { %>\n            <div class="AknFieldContainer-footer">\n                <span class="validation-error">\n                    <span class="error-message"><%- errors[locale.code].message %></span>\n                </span>\n            </div>\n        <% } %>\n    </div>\n<% }) %>\n'},function(t,e){t.exports='<input type="hidden" multiple="true" class="aknButtonLike select-field"/>\n'},function(t,e){t.exports='<div class="select2-result-label-attribute">\n    <div>\n        <input data-code="<%- item.id %>" type="checkbox" <%- checked ? \'checked="checked"\' : \'\' %> />\n        <span class="attribute-label"><%- item.text %></span>\n    </div>\n</div>\n'},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(8),i(424)],void 0===(r=function(t,e,i,n){return i.View.extend({template:e.template(n),buttonTitle:null,numberOfItems:0,countTitle:null,addEvent:null,events:{"click button":"onAdd"},initialize:function(){this.buttonTitle=this.options.buttonTitle,this.countTitle=this.options.countTitle,this.addEvent=this.options.addEvent},render:function(){return this.$el.html(this.template({buttonTitle:this.buttonTitle,numberOfItems:this.numberOfItems,countTitle:this.countTitle})),this},updateNumberOfItems:function(t){this.numberOfItems=t,this.render()},onAdd:function(){this.trigger(this.addEvent)}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<div class="ui-multiselect-footer">\n    <span class="item-counter"><%- _.__(countTitle, {\'itemsCount\': numberOfItems}) %></span>\n    <button class="AknButton AknButton--small AknButton--apply" type="button">\n        <%- buttonTitle %>\n    </button>\n</div>\n'},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(145)],void 0===(r=function(t,e,i){return i.extend({getItemsToExclude:function(){return t.Deferred().resolve(e.pluck(this.getFormData().attributes,"code"))},addItems:function(){this.getRoot().trigger(this.addEvent,{codes:this.selection})},getSelectSearchParameters:function(){return e.extend({},i.prototype.getSelectSearchParameters.apply(this,arguments),{rights:0})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(144),i(427)],void 0===(r=function(t,e,i,n){return i.extend({template:e.template(n)})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<div class="select2-result-label-attribute">\n    <div>\n        <input data-code="<%- item.id %>" type="checkbox" <%- checked ? \'checked="checked"\' : \'\' %> />\n        <span class="attribute-label"><%- item.text %></span>\n    </div>\n    <span class="group-label"><%- item.group.text %></span>\n</div>\n'},function(t,e){t.exports='<div class="AknGridToolbar-center"></div>\n<div class="AknGridToolbar-right">\n    <div class="AknButtonList AknButtonList--right" data-drop-zone="attributes-toolbar">\n    </div>\n</div>\n'},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(1),i(3),i(430),i(6),i(26),i(10),i(5),i(19),i(12),i(20)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c,u,d){return n.extend({className:"tabsection-content tab-content",attributeRequiredIconClass:"AknAcl-icon AknAcl-icon--granted icon-ok required",attributeNotRequiredIconClass:"AknAcl-icon icon-circle non-required",collapsedClass:"AknGrid-bodyContainer--collapsed",requiredLabel:e("pim_enrich.entity.family.module.attributes.required_label"),notRequiredLabel:e("pim_enrich.entity.family.module.attributes.not_required_label"),identifierAttributeType:"pim_catalog_identifier",template:t.template(r),errors:[],catalogLocale:o.get("catalogLocale"),channels:null,events:{"click .group":"toggleGroup","click .attribute-requirement i":"toggleAttribute","click .remove-attribute":"onRemoveAttribute"},readOnly:!1,initialize:function(t){this.config=t.config},configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:post_fetch",this.render),this.listenTo(this.getRoot(),"pim_enrich:form:update_read_only",t=>{this.readOnly=t,this.render()}),this.listenTo(this.getRoot(),"add-attribute:add",this.onAddAttributes),this.listenTo(this.getRoot(),"add-attribute-group:add",this.onAddAttributesByAttributeGroups),n.prototype.configure.apply(this,arguments)},render:function(){if(!this.configured)return this;var n=this.getFormData(),r=t.unique(t.pluck(n.attributes,"group"));i.when(l.getFetcher("channel").fetchAll(),l.getFetcher("attribute-group").fetchByIdentifiers(r,{full_attributes:!1,apply_filters:!1})).then((r,o)=>{this.channels=r;var a=t.groupBy(n.attributes,"group");t.sortBy(a,(e,i)=>t.findWhere(o,{code:i}).sort_order),t.each(a,function(e,i){e=t.sortBy(e,function(t){return t.sort_order}),a[i]=e}),this.$el.html(this.template({label:e(this.config.label),requiredLabel:this.requiredLabel,notRequiredLabel:this.notRequiredLabel,groupedAttributes:a,attributeRequirements:n.attribute_requirements,channels:this.channels,attributeGroups:t.map(o,function(t){var e=i('tbody[data-group="'+t.code+'"]');return t.collapsed=i(e).hasClass(this.collapsedClass),t}.bind(this)),colspan:this.channels.length+2,i18n:s,identifierAttributeType:this.identifierAttributeType,catalogLocale:this.catalogLocale,readOnly:this.readOnly})),i(this.$el).find("[data-original-title]").tooltip(),this.delegateEvents(),this.renderExtensions()})},toggleGroup:function(t){var e=t.currentTarget;return i(e).find("i").toggleClass("icon-expand-alt icon-collapse-alt"),i(e).parent().toggleClass(this.collapsedClass),this},toggleAttribute:function(t){var e=t.currentTarget;if(!a.isGranted("pim_enrich_family_edit_attributes"))return this;if(!this.isAttributeEditable(e.dataset.type))return this;if(this.readOnly)return this;var i=e.dataset.attribute,n=e.dataset.channel;return"true"===e.dataset.required?this.removeFromAttributeRequirements(i,n):this.addToAttributeRequirements(i,n),this.render()},isAttributeEditable:function(t){return this.identifierAttributeType!==t},addToAttributeRequirements:function(t,e){var i=this.getFormData(),n=i.attribute_requirements[e]||[];return n.push(t),i.attribute_requirements[e]=n,this.setData(i)},removeFromAttributeRequirements:function(t,e){var i=this.getFormData();i.attribute_requirements[e]=i.attribute_requirements[e]?i.attribute_requirements[e].filter(function(e){return t!==e}):[],this.setData(i)},onRemoveAttribute:function(i){i.preventDefault();var n=this.getFormData().attribute_as_label,r=this.getFormData().attribute_as_image,o=this.getFormData().meta.attributes_used_as_axis;if(!a.isGranted("pim_enrich_family_edit_attributes"))return!1;var s=i.currentTarget.dataset.attribute;return n===s?(u.notify("error",e("pim_enrich.entity.family.flash.update.can_remove_attribute_as_label")),!1):r===s?(u.notify("error",e("pim_enrich.entity.family.flash.update.cant_remove_attribute_as_image")),!1):t.contains(o,s)?(u.notify("error",e("pim_enrich.entity.family.flash.update.cant_remove_attribute_used_as_axis")),!1):void this.removeAttribute(s)},onAddAttributes:function(e){var n={options:{identifiers:e.codes,limit:e.codes.length}},r=new d;r.render().$el.appendTo(this.getRoot().$el).show(),i.when(l.getFetcher("attribute").search(n)).then(e=>{t.each(e,t=>{this.addAttribute(t)}),this.render()}).always(function(){r.hide().$el.remove()})},onAddAttributesByAttributeGroups:function(e){var n=new d;n.render().$el.appendTo(this.getRoot().$el).show(),i.when(l.getFetcher("attribute-group").search({options:{identifiers:e.codes,limit:e.codes.length}}),l.getFetcher("attribute").getIdentifierAttribute()).then((e,i)=>{var n=t.pluck(this.getFormData().attributes,"code"),r=[].concat.apply([],t.pluck(e,"attributes")),o=t.filter(r,function(e){return!t.contains(n,e)&&e!==i.code});return l.getFetcher("attribute").search({options:{identifiers:o,limit:o.length}})}).then(e=>{t.each(e,t=>{this.addAttribute(t)}),this.render()}).always(function(){n.hide().$el.remove()})},removeAttribute:function(e){t.each(this.channels,function(t){this.removeFromAttributeRequirements(e,t.code)}.bind(this));var i=this.getFormData();return i.attributes.splice(t.pluck(i.attributes,"code").indexOf(e),1),this.setData(i),this.render()},addAttribute:function(e){var i=this.getFormData();return void 0===t.findWhere(i.attributes,{code:e.code})?(i.attributes.push(e),void this.setData(i)):this}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<div class="AknGridContainer">\n    <table class="AknGrid AknGrid--unclickable groups">\n        <thead>\n            <th class="AknGrid-headerCell"><%- label %></th>\n            <% _.each(channels, function (channel) { %>\n            <th class="AknGrid-headerCell AknGrid-headerCell--center channel">\n                <%- i18n.getLabel(channel.labels, catalogLocale, channel.code) %>\n            </th>\n            <% }) %>\n            <th class="AknGrid-headerCell">&nbsp;</th>\n        </thead>\n        <% _.each(_.keys(groupedAttributes), function (group) { %>\n        <% var attributeGroup = _.findWhere(attributeGroups, {code: group}) %>\n        <% var collapsed = (true === attributeGroup.collapsed) %>\n\n        <tbody class="AknGrid-bodyContainer <%- collapsed ? \'AknGrid-bodyContainer--collapsed\': \'\' %>"  data-group="<%- group %>">\n            <tr class="AknGrid-bodyRow AknGrid-bodyRow--highlight AknGrid-headerToggle group">\n                <td class="AknGrid-bodyCell" colspan="<%- colspan %>">\n                    <i class="<%- collapsed ? \'icon-expand-alt\' : \'icon-collapse-alt\' %>"></i>\n                    <%-\n                        i18n.getLabel(\n                            attributeGroup.labels,\n                            catalogLocale,\n                            attributeGroup.code\n                        )\n                    %>\n                </td>\n            </tr>\n            <% _.each(groupedAttributes[group], function (attribute) { %>\n            <tr class="AknGrid-bodyRow">\n                <td class="AknGrid-bodyCell">\n                    <%- i18n.getLabel(attribute.labels, catalogLocale, attribute.code) %>\n                </td>\n                <% _.each(channels, function (channel) { %>\n                <td class="AknGrid-bodyCell AknGrid-bodyCell--center">\n                    <div class="attribute-requirement">\n                        <% required = _.contains(attributeRequirements[channel.code], attribute.code) %>\n                        <i\n                                class="AknAcl-icon <%- required ? \'AknAcl-icon--granted icon-ok required\' : \'icon-circle non-required\' %>"\n                                data-toggle="tooltip"\n                                data-attribute="<%- attribute.code %>"\n                                data-channel="<%- channel.code %>"\n                                data-type="<%- attribute.type %>"\n                                data-required="<%- required %>"\n                                data-original-title="<%- required ? requiredLabel : notRequiredLabel %>"\n                                data-placement="right"></i>\n                    </div>\n                </td>\n                <% }) %>\x3c!-- end each channel --\x3e\n                <td class="AknGrid-bodyCell AknGrid-bodyCell--right">\n                    <% if (identifierAttributeType !== attribute.type && !readOnly) { %>\n                    <span class="AknIconButton AknIconButton--small AknIconButton--trash remove-attribute" data-attribute="<%- attribute.code %>"></span>\n                    <% } %>\n                </td>\n            </tr>\n            <% }) %>\x3c!-- end each attribute --\x3e\n        </tbody>\n        <% }) %>\x3c!-- end each group --\x3e\n    </table>\n</div>\n'},function(t,e){t.exports='<div class="tabsections">\n    <div class="tabsection tab-pane tab-attribute" data-drop-zone="attributes-content">\n\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="tabsection-title"><%- __(sectionTitle) %></div>\n<div data-drop-zone="afterTitle"></div>\n<div class="tabsection-content">\n    <div class="AknFormContainer AknFormContainer--withPadding" data-drop-zone="<%- dropZone %>">\n\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="AknFullPage">\n    <div class="AknFullPage-content AknFullPage-content--withIllustration">\n        <div>\n            <img src="bundles/pimui/images/illustrations/Variant.svg" alt=""/>\n        </div>\n        <div>\n            <div data-drop-zone="header"></div>\n            <div class="AknFormContainer" data-drop-zone="fields-container"></div>\n            <div class="AknButtonList-item AknButton AknButton--apply ok"><%- okLabel %></div>\n        </div>\n    </div>\n</div>\n<div class="AknFullPage-cancel cancel"></div>\n'},function(t,e){t.exports='<div class="AknFullPage-titleContainer">\n    <div class="AknFullPage-subTitle"><%- __(\'pim_enrich.entity.family.uppercase_label\') %> <%- familyName %></div>\n    <div class="AknFullPage-title"><%- __(\'pim_enrich.entity.family_variant.module.create.title\') %></div>\n    <div class="AknFullPage-description"><%- __(\'pim_enrich.entity.family_variant.module.create.description\') %></div>\n</div>\n'},function(t,e){t.exports='<div class="AknFieldContainer">\n    <div class="AknFieldContainer-header">\n        <label class="AknFieldContainer-label"><%- __(\'pim_common.code\') %> <%- __(\'pim_common.required_label\') %></label>\n    </div>\n    <div class="AknFieldContainer-inputContainer">\n        <input type="text" value="<%- familyVariant.code %>" name="code" class="AknTextField" />\n    </div>\n    <footer>\n        <% if (fieldErrors.code) { %>\n        <div class="AknFieldContainer-footer footer-elements-container error-code">\n            <div class="AknFieldContainer-validationErrors validation-errors">\n                <% fieldErrors.code.forEach((error) => { %>\n                <span class="AknFieldContainer-validationError">\n                    <span class="error-message"><%- error.message %></span>\n                </span>\n                <% }); %>\n            </div>\n        </div>\n        <% } %>\n    </footer>\n</div>\n<div class="AknFieldContainer">\n    <div class="AknFieldContainer-header">\n        <label class="AknFieldContainer-label"><%- __(\'pim_common.label\') %></label>\n    </div>\n    <div class="AknFieldContainer-inputContainer">\n        <input type="text" value="<%- label %>" name="label" class="AknTextField" />\n    </div>\n    <footer>\n        <% if (fieldErrors[\'translations[0].label\']) { %>\n        <div class="AknFieldContainer-footer footer-elements-container error-code">\n            <div class="AknFieldContainer-validationErrors validation-errors">\n                <% fieldErrors[\'translations[0].label\'].forEach((error) => { %>\n                <span class="AknFieldContainer-validationError">\n                    <span class="error-message"><%- error.message %></span>\n                </span>\n                <% }); %>\n            </div>\n        </div>\n        <% } %>\n    </footer>\n</div>\n<div class="AknFieldContainer">\n    <div class="AknFieldContainer-header">\n        <label class="AknFieldContainer-label"><%- __(\'pim_enrich.entity.family_variant.module.create.variant_levels\') %></label>\n    </div>\n    <div class="AknFieldContainer-inputContainer">\n        <select name="numberOfLevels" class="AknChoicesField">\n            <option value="1" <% if(1 === familyVariant.variant_attribute_sets.length) { %> selected <% } %> >1</option>\n            <option value="2" <% if(2 === familyVariant.variant_attribute_sets.length) { %> selected <% } %> >2</option>\n        </select>\n    </div>\n</div>\n<div class="AknFieldContainer">\n    <div class="AknFieldContainer-header">\n        <label for="pim_enrich_family_variant_axis1" class="AknFieldContainer-label"><%- __(\'pim_enrich.entity.family_variant.module.create.axis_level\', { level: 1 }) %> <%- __(\'pim_common.required_label\') %></label>\n    </div>\n    <div class="AknFieldContainer-inputContainer">\n        <input id="pim_enrich_family_variant_axis1" type="hidden" value="<%- axes1 %>" name="axes1" class="select-field" />\n    </div>\n</div>\n\n<div class="AknFieldContainer <% if(1 === familyVariant.variant_attribute_sets.length) { %> AknFieldContainer--hidden <% } %>">\n    <div class="AknFieldContainer-header">\n        <label for="pim_enrich_family_variant_axis2" class="AknFieldContainer-label"><%- __(\'pim_enrich.entity.family_variant.module.create.axis_level\', { level: 2 }) %> <%- __(\'pim_common.required_label\') %></label>\n    </div>\n    <div class="AknFieldContainer-inputContainer">\n        <input id="pim_enrich_family_variant_axis2" type="hidden" value="<%- axes2 %>" name="axes2" class="select-field" />\n    </div>\n</div>\n\n<% if (globalErrors.length > 0) { %>\n<div class="AknMessageBox AknMessageBox--danger global-errors">\n    <ul class="AknMessageBox-list">\n        <% for (let i in globalErrors) { %>\n        <li class="global-error"><%- globalErrors[i].message %></li>\n        <% } %>\n    </ul>\n</div>\n<% } %>\n'},function(t,e){t.exports='<div class="AknFullPage-description AknFamilyVariant-description"><%- __(\'pim_enrich.entity.family_variant.module.edit.description\') %></div>\n<div class="AknFamilyVariant family-variant-levels">\n    <div class="AknFamilyVariant-level">\n        <div class="common-attribute AknFamilyVariant-column AknFamilyVariant-column--common">\n            <div class="AknFamilyVariant-axes AknVerticalList-item">\n                <%- __(\'pim_enrich.entity.family_variant.module.edit.common_attributes\') %>\n            </div>\n            <div data-level="0" id="attribute-groups-column-level-0" class="attribute-list connected-group-sortable">\n            <% groupAttributes(commonAttributes, lockedAttributes).forEach(section => { %>\n                <div data-attribute-group-code="<%- section.attributeGroup.code %>" class="AknFamilyVariant-attributeGroup AknFamilyVariant-attributeGroup--common <%- !section.attributeGroup.locked ? \'movable-group\' : \'\' %>">\n                    <span class="AknFamilyVariant-columTitle AknVerticalList-item <%- !section.attributeGroup.locked ? \'AknFamilyVariant-columTitle--movable\' : \'\' %>">\n                        <%- i18n.getLabel(section.attributeGroup.labels, UserContext.get(\'catalogLocale\'), section.attributeGroup.code) %>\n                    </span>\n                    <%= renderSection(0, section.attributes, true) %>\n                </div>\n            <% }) %>\n            <% if (commonAttributes.length === 0) { %>\n                <div class="AknFamilyVariant-attributeGroup AknFamilyVariant-attributeGroup--common AknFamilyVariant-attributeGroup--empty">\n                    <%- __(\'pim_enrich.entity.family_variant.module.edit.no_common_attributes\') %>\n                </div>\n            <% } %>\n            </div>\n        </div>\n    </div>\n    <% familyVariant.variant_attribute_sets.forEach(function (level) { %>\n    <div class="AknFamilyVariant-level">\n        <div class="AknFamilyVariant-levelPath">\n            <span class="AknFamilyVariant-levelPathLabel"><%- __(\'pim_enrich.entity.family_variant.module.edit.level_\' + level.level) %></span>\n        </div>\n        <div class="family-variant-level AknFamilyVariant-column AknFamilyVariant-column--level<%- level.level %>" data-level="<%- level.level %>">\n            <div class="AknFamilyVariant-axes AknVerticalList-item">\n                <%- level.axes.map(function (axis) {\n                    return i18n.getLabel(getAttribute(axis).labels, UserContext.get(\'catalogLocale\'), getAttribute(axis).code);\n                }).join(\', \') %>\n                (<%- __(\'pim_enrich.entity.family_variant.module.edit.variant_axis_label\') %>)\n            </div>\n            <div data-level="<%- level.level %>" id="attribute-groups-column-level-<%- level.level %>" class="attribute-list connected-group-sortable">\n            <% groupAttributes(level.attributes, lockedAttributes).forEach(section => { %>\n                <% const movable = !(section.attributeGroup.locked || familyVariant.variant_attribute_sets.length === level.level); %>\n                <% const deletable = !section.attributeGroup.locked; %>\n                <div data-attribute-group-code="<%- section.attributeGroup.code %>" class="AknFamilyVariant-attributeGroup <%- movable ? \'movable-group\' : \'\' %> <%- deletable ? \'deletable-group\' : \'\' %> attribute-group-section">\n                    <span class="AknFamilyVariant-columTitle AknVerticalList-item <%- movable ? \'AknFamilyVariant-columTitle--movable\' : \'\' %>">\n                        <%- i18n.getLabel(section.attributeGroup.labels, UserContext.get(\'catalogLocale\'), section.attributeGroup.code) %>\n                        <% if (deletable) { %>\n                        <span\n                            class="AknIconButton AknIconButton--small AknIconButton--delete AknButtonList-item delete-attribute-group"\n                            title="<%- __(\'pim_enrich.entity.family_variant.module.edit.attribute_group_remove\') %>"\n                        ></span>\n                        <% } %>\n                    </span>\n                    <%= renderSection(level.level, section.attributes, movable) %>\n                </div>\n            <% }) %>\n            </div>\n        </div>\n    </div>\n<% }); %>\n</div>\n'},function(t,e){t.exports="<ul data-level=\"<%- level %>\" id=\"attributes-column-level-<%- level %>\" class=\"AknFamilyVariant-columnList connected-sortable\">\n    <% attributes.forEach(function (attribute) { %>\n        <li\n            data-attribute-code=\"<%- attribute.code %>\"\n            class=\"AknVerticalList-item AknFamilyVariant-columnListItem AknFamilyVariant-attribute attribute <%- !lockedAttributes.includes(attribute.code) && movable ? 'AknFamilyVariant-attribute--movable movable' : 'AknFamilyVariant-attribute--notMovable' %> <%- !lockedAttributes.includes(attribute.code) ? 'deletable' : '' %>\"\n        >\n            <%- i18n.getLabel(attribute.labels, UserContext.get('catalogLocale'), attribute.code) %>\n\n            <% if (axesAttributes.includes(attribute.code)) { %>\n            (<%- __('pim_enrich.entity.family_variant.module.edit.variant_axis_label') %>)\n            <% } %>\n            <% if (!lockedAttributes.includes(attribute.code) && 0 !== level) { %>\n            <span\n                class=\"AknIconButton AknIconButton--small AknIconButton--delete AknButtonList-item delete-attribute\"\n                title=\"<%- __('pim_enrich.entity.family_variant.module.edit.attribute_remove') %>\"\n            ></span>\n            <% } %>\n        </li>\n    <% }) %>\n</ul>\n"},function(t,e){t.exports='<div class="AknFullPage-content AknFullPage-content--withIllustration">\n    <div>\n        <img src="bundles/pimui/images/illustrations/Variant.svg">\n    </div>\n    <div>\n        <div class="AknFullPage-titleContainer">\n            <div class="AknFullPage-subTitle"><%- __(\'pim_enrich.entity.family.uppercase_label\') %> <%- familyVariant.family %> </div>\n            <div class="AknFullPage-title"><%- __(\'pim_enrich.entity.family_variant.module.update_translations.title\') %></div>\n        </div>\n        <div data-drop-zone="fields" class="AknFormContainer"></div>\n    </div>\n</div>\n'},function(t,e){t.exports="<% _.each(actions, function (action) { %>\n  <div class=\"AknButton AknButton--glued <%- (action.code === current) ? 'AknButton--apply' : 'AknButton--greyLight' %> switcher-action\" data-code=\"<%- action.code %>\"><%- action.label %></div>\n<% }) %>\n"},function(t,e){t.exports='<div class="AknBadge AknBadge--big <%- badgeClass %> completeness-badge" data-toggle="dropdown">\n    <%- label %>: <%- ratio %>% <img src="bundles/pimui/images/icon-down-white.svg" class="AknBadge-icon">\n</div>\n\n<div class="AknCompletenessPanel-block AknDropdown-menu AknDropdown-menu-expanded">\n    <header class="AknCompletenessPanel-header">\n        <span class="AknCompletenessPanel-headerLocale"><%- label %></span>\n        <span class="AknCompletenessPanel-headerStats"><%- ratio %>%</span>\n    </header>\n    <div class="AknCompletenessPanel-content content">\n        <% _.each(completenesses.locales, function(completeness, locale) { %>\n            <div class="AknCompletenessPanel-channel" data-locale="<%- locale %>">\n                <div class="AknCompletenessPanel-progressContainer">\n                    <span class="AknCompletenessPanel-channelTitle"><%- completeness.label %></span>\n                    <span class="AknCompletenessPanel-progressRatio literal-progress"><%- completeness.completeness.ratio %>%</span>\n                </div>\n                <div class="AknCompletenessPanel-progress AknProgress AknProgress--micro progress <%- completeness.completeness.ratio === 100 ? \'AknProgress--apply\' : \'AknProgress--warning\' %>">\n                    <div class="AknProgress-bar bar" style="width: <%- completeness.completeness.ratio %>%;"></div>\n                </div>\n                <% if (0 < completeness.missing.length) { %>\n                    <div class="AknCompletenessPanel-missing">\n                        <span class="missing"><%- __(missingValues, {count: completeness.missing.length}, completeness.missing.length) %></span>:\n                        <% _.each(completeness.missing, function (attribute, i) { %>\n                            <% if (0 !== i) { %> | <% } %>\n                            <span class="AknCompletenessPanel-highlight missing-attribute" data-attribute="<%- attribute.code %>" data-locale="<%- locale %>">\n                                <%- i18n.getLabel(attribute.labels, currentLocale, attribute.code) %>\n                            </span>\n                        <% }) %>\n                    </div>\n                <% } %>\n            </div>\n        <% }) %>\n    </div>\n</div>\n'},function(t,e){t.exports='<span class="required-attribute-indicator">\n    <span class="AknSubsection-comment AknSubsection-comment--clickable">\n        <span class="AknBadge AknBadge--small AknBadge--highlight"></span>\n        <%- __(\'pim_enrich.entity.product.module.attribute.to_fill_count\', {count: missingRequiredAttributesCount}, missingRequiredAttributesCount) %>\n    </span>\n</span>\n'},function(t,e){t.exports='<div class="AknActionButton AknActionButton--withoutBorder" data-toggle="dropdown">\n    <span class="AknActionButton-highlight">\n        <%- __(\'pim_enrich.entity.product.module.attribute_filter.display\') %> <%- currentFilter.label %>\n    </span>\n    <span class="AknActionButton-caret"></span>\n</div>\n<ul class="AknDropdown-menu AknDropdown-menu--right">\n    <li class="AknDropdown-menuTitle"><%- __(\'pim_enrich.entity.product.module.attribute_filter.display\') %></li>\n    <% _.each(filters, function (filter) { %>\n        <li class="AknDropdown-menuLink <%- currentFilter.code === filter.code ? \'AknDropdown-menuLink--active active\' : \'\' %>" data-code="<%- filter.code %>">\n            <span class="label"><%- filter.label %></span>\n        </li>\n    <% }); %>\n</ul>\n'},function(t,e,i){"use strict";var n,r;n=[i(0),i(8),i(444),i(10)],void 0===(r=function(t,e,i,n){return e.View.extend({template:t.template(i),className:"AknFieldContainer-validationErrors validation-errors",events:{"click .change-context":"changeContext"},initialize:function(t,e){this.errors=t,this.parent=e},render:function(){return this.$el.html(this.template({errors:this.errors,i18n:n})),this.delegateEvents(),this},changeContext:function(t){this.parent.changeContext(t.currentTarget.dataset.locale,t.currentTarget.dataset.scope)}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<% _.each(errors, function(error) { %>\n    <span class="AknFieldContainer-validationError">\n        <% if (error.locale || error.scope) { %>\n            <span class="field-context change-context" data-locale="<%- error.locale %>" data-scope="<%- error.scope %>">\n                <% if (error.scope) { %> <span><%- error.scope %></span> <% } %>\n                <% if (error.locale) { %> <span><%= i18n.getFlag(error.locale) %></span> <% } %>\n            </span>\n        <% } %>\n        <span class="error-message"><%- error.message %></span>\n    </span>\n<% }) %>\n'},function(t,e){t.exports='<div class="tabbable">\n    <div class="AknHorizontalNavtab">\n        <div class="AknButtonList catalog-switcher"></div>\n    </div>\n    <div class="tab-content">\n        <div class="tab-pane active" id="product-categories">\n            <div id="trees" data-id="<%- product.meta.id %>" data-datalocale="<%- locale %>" data-selected-tree="<%- trees.find(function (tree) { return tree.id === parseInt(state.currentTreeId); }).id %>">\n                <% _.each(trees, function (tree) { %>\n                    <div id="root-unselectable" class="tree root-unselectable" data-tree-id="<%- tree.id %>">\n                        <div id="tree-<%- tree.id %>" class="buffer-small-left"></div>\n                    </div>\n                <% }); %>\n            </div>\n        </div>\n    </div>\n</div>\n<input type="hidden" id="hidden-tree-input" value="<%- state.selectedCategories.join(\',\') %>">\n'},function(t,e){t.exports='<div class="jstree-lockeditem">\n    <div class="AknSelectButton AknSelectButton--disabled"></div>\n    <div class="jstree-lockedicon"></div>\n    <%- label %>\n</div>\n'},function(t,e){t.exports='<ul class="AknHorizontalNavtab-list nav nav-tabs tree-selector" id="trees-list">\n    <% _.each(trees, function (tree) { %>\n        <li class="AknHorizontalNavtab-item<% if (tree.code === state.currentTree) { %> AknHorizontalNavtab-item--active active<% } %>" data-tree="<%- tree.code %>" data-tree-id="<%- tree.id %>">\n            <div class="\n                AknHorizontalNavtab-link\n                <%- _.result(categoriesCount, tree.code, 0) > 0 ? \'tree-has-item\' : \'\' %>\n                " id="<%- treeLinkSelector + tree.id %>">\n                <span class="tree-label label"><%- tree.label %></span>\n                <span class="AknBadge AknBadge--medium <%- _.result(categoriesCount, tree.code, 0) > 0 ? \'AknBadge--enabled\' : \'\' %>" data-tree-id="<%- tree.code %>">\n                    <%- _.result(categoriesCount, tree.code, 0) %>\n                </span>\n            </div>\n        </li>\n    <% }); %>\n</ul>\n'},function(t,e){t.exports='<% if (!associationTypes.length) { %>\n    <div class="buffer-top buffer-left">\n        <span class="buffer-small-right">\n            <%- _.__(\'pim_enrich.entity.product.module.associations.none_exist\') %>\n        </span>\n    </div>\n<% } else { %>\n    <div class="tabbable">\n        <div class="tab-content">\n            <div class="<%- datagridName %><% if (\'products\' !== currentAssociationTarget) { %> hide<% } %>">\n                <div class="AknGrid AknGrid--gallery AknGrid--inner">\n                    <div id="grid-<%- datagridName %>" data-type="datagrid">\n                        <% if (addAssociationVisible) { %>\n                        <div class="AknButtonList AknButtonList--right">\n                            <div class="AknButton AknButton--action AknButtonList-item add-associations">\n                                <%- addAssociationsLabel %>\n                            </div>\n                        </div>\n                        <% } %>\n                    </div>\n                </div>\n            </div>\n\n            <div class="association-group-grid<% if (\'groups\' !== currentAssociationTarget) { %> hide<% } %>">\n                <div id="grid-association-group-grid" data-type="datagrid"></div>\n            </div>\n\n            <div class="selection-inputs">\n                <% _.each(associationTypes, function (associationType) { %>\n                    <input type="hidden" id="<%- associationType.code %>-products-appendfield"/>\n                    <input type="hidden" id="<%- associationType.code %>-products-removefield"/>\n                    <input type="hidden" id="<%- associationType.code %>-groups-appendfield"/>\n                    <input type="hidden" id="<%- associationType.code %>-groups-removefield"/>\n                <% }); %>\n            </div>\n        </div>\n    </div>\n<% } %>\n'},function(t,e){t.exports='<% _.each(associationTypes, function (associationType) { %>\n    <div class="AknTabHeader association-type<% if (associationType.code !== currentAssociationType) { %> AknTitleContainer--hidden<% } %>" data-association-type="<%- associationType.code %>">\n        <div class="AknButtonList">\n            <div class="AknDropdown AknButtonList-item association-type-selector">\n                <a class="AknActionButton AknActionButton--important AknActionButton--withoutBorder" data-toggle="dropdown">\n                    <span class="AknActionButton-highlight"><%- associationType.labels[locale] || \'[\' + associationType.code + \']\'  %></span>\n                    <span class="AknActionButton-caret"></span>\n                </a>\n                <ul class="associations-list AknDropdown-menu">\n                    <div class="AknDropdown-menuTitle"><%- label %></div>\n                    <% _.each(associationTypes, function (associationTypeSwitch) { %>\n                        <li data-association-type="<%- associationTypeSwitch.code %>">\n                            <a class="AknDropdown-menuLink<% if (associationType === associationTypeSwitch) { %> AknDropdown-menuLink--active<% } %> label">\n                                <%- associationTypeSwitch.labels[locale] || \'[\' + associationTypeSwitch.code + \']\'  %>\n                            </a>\n                        </li>\n                    <% }) %>\n                </ul>\n            </div>\n            <div class="AknButtonList-item">\n                <%- __(\n                    numberAssociationLabelKey,\n                    { productCount: associationType.productCount, productModelCount: associationType.productModelCount, groupCount: associationType.groupCount }\n                ) %>\n            </div>\n        </div>\n        <div class="AknDropdown target-selector">\n            <a class="AknActionButton AknActionButton--withoutBorder" data-toggle="dropdown">\n                <span class="AknActionButton-highlight">\n                    <% if (\'products\' === currentAssociationTarget) { %>\n                        <%- showProductsLabel %>\n                    <% } else { %>\n                        <%- showGroupsLabel %>\n                    <% } %>\n                </span>\n                <span class="AknActionButton-caret"></span>\n            </a>\n            <ul class="AknDropdown-menu">\n                <div class="AknDropdown-menuTitle"><%- targetLabel %></div>\n                <li class="label target-button AknDropdown-menuLink<% if (\'products\' === currentAssociationTarget) { %> AknDropdown-menuLink--active<% } %>" data-association-target="products">\n                    <%- showProductsLabel %>\n                </li>\n                <li class="label target-button AknDropdown-menuLink<% if (\'groups\' === currentAssociationTarget) { %> AknDropdown-menuLink--active<% } %>" data-association-target="groups">\n                    <%- showGroupsLabel %>\n                </li>\n            </ul>\n        </div>\n   </div>\n<% }); %>\n'},function(t,e){t.exports='<% if (canRemoveAssociation) { %>\n    <div class="AknGrid-bodyRowRemove AknIconButton AknIconButton--remove AknIconButton--topLeft"></div>\n<% } %>\n<div class="AknGrid-fullImage" style="background-image: url(\'<%- imagePath %>\')"></div>\n<td class="AknGrid-title"><%- label %></td>\n<td class="AknGrid-description"><%- identifier %></td>\n'},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(3),i(452),i(5),i(10)],void 0===(r=function(t,e,i,n,r,o){return i.extend({template:t.template(n),className:"AknDropdown AknButtonList-item locale-switcher",events:{"click li span[data-locale]":"changeLocale"},displayInline:!1,displayLabel:!0,config:{},initialize:function(t){void 0!==t&&(this.config=t.config),i.prototype.initialize.apply(this,arguments)},configure:function(){this.listenTo(this.getRoot(),"pim_enrich:form:locale_switcher:change",function(t){"base_product"===t.context&&this.render()}.bind(this))},render:function(){return this.getDisplayedLocales().done(function(i){var n={localeCode:t.first(i).code,context:this.config.context};this.getRoot().trigger("pim_enrich:form:locale_switcher:pre_render",n);var r=i.find(t=>t.code===n.localeCode);void 0===r&&(r=t.first(i)),this.$el.html(this.template({locales:i,currentLocale:r,i18n:o,displayInline:this.displayInline,displayLabel:this.displayLabel,label:e("pim_enrich.entity.locale.uppercase_label")})),this.delegateEvents()}.bind(this)),this},getDisplayedLocales:function(){return r.getFetcher("locale").fetchActivated()},changeLocale:function(t){this.getRoot().trigger("pim_enrich:form:locale_switcher:change",{localeCode:t.currentTarget.dataset.locale,context:this.config.context}),this.render()},setDisplayInline:function(t){this.displayInline=t},setDisplayLabel:function(t){this.displayLabel=t}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<a class="AknActionButton <% if (displayInline) { %> AknActionButton--big AknActionButton--noLeftBorder<% } else { %>AknActionButton--withoutBorder<% } %>" data-toggle="dropdown" href="#">\n    <% if (!displayInline && displayLabel) { %><%- label %>: <% } %>\n    <span class="AknActionButton-highlight"><%= i18n.getFlag(currentLocale.code, false) %> <%- currentLocale.language %></span>\n    <span class="AknActionButton-caret"></span>\n</a>\n<ul class="AknDropdown-menu">\n    <div class="AknDropdown-menuTitle"><%- label %></div>\n    <% _.each(locales, function (locale) { %>\n        <li>\n            <span class="AknDropdown-menuLink<% if (currentLocale.code === locale.code) { %> AknDropdown-menuLink--active<% } %>" data-locale="<%- locale.code %>"><%= i18n.getFlag(locale.code, false) %> <%- locale.language %></span>\n        </li>\n    <% }); %>\n</ul>\n'},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(3),i(454),i(5),i(6),i(10)],void 0===(r=function(t,e,i,n,r,o,a){return i.extend({template:t.template(n),className:"AknDropdown AknButtonList-item scope-switcher",events:{"click li a":"changeScope"},displayInline:!1,displayLabel:!0,config:{},initialize:function(t){void 0!==t&&(this.config=t.config),i.prototype.initialize.apply(this,arguments)},configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:locale_switcher:change",function(t){"base_product"===t.context&&(o.set("catalogLocale",t.localeCode),this.render())}.bind(this)),i.prototype.configure.apply(this,arguments)},render:function(){return r.getFetcher("channel").fetchAll().then(function(i){var n={scopeCode:i[0].code,context:this.config.context};this.getRoot().trigger("pim_enrich:form:scope_switcher:pre_render",n);var r=t.findWhere(i,{code:n.scopeCode});this.$el.html(this.template({channels:i,currentScope:a.getLabel(r.labels,o.get("catalogLocale"),r.code),catalogLocale:o.get("catalogLocale"),i18n:a,displayInline:this.displayInline,displayLabel:this.displayLabel,label:e("pim_enrich.entity.channel.uppercase_label")})),this.delegateEvents()}.bind(this)),this},changeScope:function(t){this.getRoot().trigger("pim_enrich:form:scope_switcher:change",{scopeCode:t.currentTarget.dataset.scope,context:this.config.context}),this.render()},setDisplayInline:function(t){this.displayInline=t},setDisplayLabel:function(t){this.displayLabel=t}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<a class="AknActionButton <% if (displayInline) { %>AknActionButton--big AknActionButton--noLeftBorder<% } else { %>AknActionButton--withoutBorder<% } %>" data-toggle="dropdown" href="#">\n    <% if (!displayInline && displayLabel) { %><%- label %>: <% } %>\n    <span class="AknActionButton-highlight"><%- currentScope %></span>\n    <span class="AknActionButton-caret"></span>\n</a>\n<ul class="AknDropdown-menu">\n    <div class="AknDropdown-menuTitle"><%- label %></div>\n    <% _.each(channels, function (scope) { %>\n        <li>\n            <a class="AknDropdown-menuLink <% if (i18n.getLabel(scope.labels, catalogLocale, scope.code) === currentScope) { %> AknDropdown-menuLink--active<% } %>"\n               data-scope="<%- scope.code %>"\n               data-label="<%- i18n.getLabel(scope.labels, catalogLocale, scope.code) %>">\n                <%- i18n.getLabel(scope.labels, catalogLocale, scope.code) %>\n            </a>\n        </li>\n    <% }); %>\n</ul>\n'},function(t,e){t.exports='<% if (!hasFamily) { %>\n    <p><%- noFamilyLabel %></p>\n<% } else if (_.isEmpty(completenesses) || hasFamilyChanged) { %>\n    <p><%- noCompletenessLabel %></p>\n<% } else { %>\n    <% _.each(completenesses, function(channel) { %>\n        <% var ratio = channel[\'stats\'][\'average\']; %>\n        <div class="AknCompletenessPanel-block completeness-block">\n            <header class="AknCompletenessPanel-header">\n                <span class="AknCompletenessPanel-headerLocale channel" data-channel="<%- channel.channel %>">\n                    <%- (null !== channel.labels[catalogLocale]) ? channel.labels[catalogLocale] : (\'[\' + channel.channel + \']\') %>\n                </span>\n                <span class="AknCompletenessPanel-headerStats stats">\n                    <%- ratio %>%\n                </span>\n            </header>\n            <div class="AknCompletenessPanel-content content">\n                <% _.each(channel[\'locales\'], function(localeCompleteness) { %>\n                    <% if (localeCompleteness.completeness) { %>\n                        <div class="AknCompletenessPanel-channel">\n                            <div class="AknCompletenessPanel-progressContainer">\n                                <span class="AknCompletenessPanel-channelTitle locale" data-locale="<%- localeCompleteness.completeness.locale %>">\n                                    <%- localeCompleteness.label %>\n                                </span>\n                                <span class="AknCompletenessPanel-progressRatio literal-progress"><%- localeCompleteness.completeness.ratio %>%</span>\n                            </div>\n                            <div class="AknCompletenessPanel-progress AknProgress AknProgress--micro progress <%- localeCompleteness.completeness.ratio === 100 ? \'AknProgress--apply\' : \'AknProgress--warning\' %>">\n                                <div class="AknProgress-bar bar" data-ratio="<%- localeCompleteness.completeness.ratio %>" style="width: <%- localeCompleteness.completeness.ratio %>%;"></div>\n                            </div>\n                            <% if (localeCompleteness.completeness.missing > 0) { %>\n                                <div class="AknCompletenessPanel-missing missing">\n                                    <%- __(missingValuesKey, {count: localeCompleteness.completeness.missing}, localeCompleteness.completeness.missing) %>\n                                </div>\n                            <% } %>\n                        </div>\n                    <% }%>\n                <% }); %>\n            </div>\n        </div>\n    <% }); %>\n<% } %>\n'},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(8),i(3),i(208),i(7),i(9),i(5),i(6),i(10),i(73)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c,u){return r.extend({template:e.template(o),className:"panel-pane history-panel",loading:!1,expandedVersions:[],actions:{},events:{"click .expanded .AknGrid-bodyCell":"toggleVersion"},initialize:function(t){this.actions={},void 0!==t&&(this.config=t.config),r.prototype.initialize.apply(this,arguments)},configure:function(){return this.trigger("tab:register",{code:void 0===this.config.tabCode?this.code:this.config.tabCode,label:i("pim_common.history")}),this.listenTo(this.getRoot(),"pim_enrich:form:entity:post_update",this.update),this.onExtensions("action:register",this.addAction.bind(this)),r.prototype.configure.apply(this,arguments)},render:function(){return this.configured&&(void 0===this.config.tabCode?this.code:this.config.tabCode)===this.getParent().getCurrentTab()?(this.getFormData().meta&&this.getVersions().then(function(i){this.$el.html(this.template({versions:i,expandedVersions:this.expandedVersions,expanded:!0,hasAction:this.actions})),this.renderExtensions(),this.actions&&e.each(this.$el.find("td.actions"),function(i){e.each(this.actions,function(e){t(i).append(e.clone(!0))}.bind(this))}.bind(this)),this.delegateEvents()}.bind(this)),this):this},update:function(){var t=this.getFormData();t.meta&&this.getHistoryFetcher(t).clear(t.meta.id),this.render()},getVersions:function(){var t=this.getFormData();return this.getHistoryFetcher(t).fetch(t.meta.id,{entityId:t.meta.id}).then(this.addAttributesLabelToVersions.bind(this))},getHistoryFetcher:function(t){return"product_model"===t.meta.model_type?l.getFetcher("product-model-history"):l.getFetcher("product-history")},addAttributesLabelToVersions:function(t){var i=this.getAttributeCodesInVersions(t);return l.getFetcher("attribute").fetchByIdentifiers(i).then(function(i){return e.each(t,function(t){e.each(t.changeset,function(t,n){var r=n.split("-")[0],o=e.findWhere(i,{code:r});t.label=o?this.getAttributeLabel(o,n):n}.bind(this))}.bind(this)),t}.bind(this))},getAttributeCodesInVersions:function(t){var i=[];return e.each(t,function(t){e.each(t.changeset,function(t,e){i.push(e.split("-")[0])})}),e.uniq(i)},getAttributeLabel:function(t,e){var i=c.get("catalogLocale"),n=u.getLabel(t.labels,i,t.code);(e=e.split("-")).shift();var r="";return t.localizable&&(r+=u.getFlag(e.shift())),t.scopable&&(r=" <span>"+e.shift()+"</span>"+r),0<e.length&&(r=e.join(" ")+r),r&&(r=' <span class="attribute-info">'+r+"</span>"),n+r},addAction:function(t){this.actions[t.code]=t.element},toggleVersion:function(t){var e=t.currentTarget.parentNode.dataset.version;this.expandedVersions.find(t=>t===e)?this.expandedVersions=this.expandedVersions.filter(t=>t!==e):this.expandedVersions.push(e),this.render()}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<div class="AknCommentPanel comment-threads">\n    <ol>\n        <li class="comment-create">\n            <form>\n                <textarea class="AknTextareaField AknTextareaField--small new-comment-value" placeholder="<%- _.__(\'pim_comment.placeholder.new\') %>"></textarea>\n                <span class="AknButtonList AknButtonList--hide AknButtonList--right comment-buttons">\n                    <input class="AknButtonList-item AknButton AknButton--small AknButton--important cancel-comment" type="reset" value="<%- _.__(\'pim_common.cancel\') %>">\n                    <button class="AknButtonList-item AknButton AknButton--small AknButton--apply send-comment"><%- _.__(\'pim_comment.product.panel.comment.post\') %></button>\n                </span>\n            </form>\n        </li>\n        <% if (comments.length) { %>\n            <% _.each(comments, function(comment) { %>\n                <li>\n                    <ol class="AknCommentPanel-thread comment-thread" data-comment-id="<%- comment.id %>">\n                        <li class="AknCommentPanel-item comment-topic">\n                            <div class="AknCommentPanel-header">\n                                <img class="AknCommentPanel-avatar" src="/<%- !_.isEmpty(comment.author.avatar) ? comment.author.avatar : \'bundles/pimui/images/info-user.png\' %>" alt="<%- comment.author.username %>"/>\n                                <span class="AknCommentPanel-title">\n                                    <%= __(\'pim_comment.index.header_comment\', { user: \'<span class="AknCommentPanel-author author">\' + comment.author.fullName + \'</span>\' }) %>\n                                    <% if (comment.author.username === username) { %>\n                                        <span class="AknCommentPanel-icon AknIconButton remove-comment" title="Delete" data-comment-id="<%- comment.id %>">\n                                            <i class="icon-trash"></i>\n                                        </span>\n                                    <% } %>\n                                </span>\n                                <span class="AknCommentPanel-date date"><%- comment.created %></span>\n                            </div>\n                            <div class="AknCommentPanel-message">\n                                <span class="message"><%- comment.body %></span>\n                                <div class="AknCommentPanel-replyContainer reply-to-comment">\n                                    <textarea class="AknTextareaField AknTextareaField--small" name="body" required="required" placeholder="<%- _.__(\'pim_comment.placeholder.reply\') %>"></textarea>\n                                    <span class="AknButtonList AknButtonList--hide AknButtonList--right comment-buttons">\n                                       <button class="AknButtonList-item AknButton AknButton--important AknButton--small cancel-comment" type="reset"><%- _.__(\'pim_common.cancel\') %></button>\n                                       <button class="AknButtonList-item AknButton AknButton--apply AknButton--small send-comment"><%- _.__(\'pim_comment.product.panel.comment.reply\') %></button>\n                                    </span>\n                                </div>\n                            </div>\n                        </li>\n                        <% _.each(comment.replies, function(reply) { %>\n                            <li class="AknCommentPanel-item AknCommentPanel-item--reply comment-reply">\n                                <div class="AknCommentPanel-header">\n                                    <img class="AknCommentPanel-avatar" src="/<%- !_.isEmpty(reply.author.avatar) ? reply.author.avatar : \'bundles/pimui/images/info-user.png\' %>" alt="<%- reply.author.username %>"/>\n                                    <span class="AknCommentPanel-title">\n                                        <%= __(\'pim_comment.index.header_reply\', { user: \'<span class="AknCommentPanel-author author">\' + reply.author.fullName + \'</span>\' }) %>\n                                        <% if (reply.author.username === username) { %>\n                                            <span class="AknCommentPanel-icon AknIconButton remove-comment" title="Delete" data-comment-id="<%- reply.id %>">\n                                                <i class="icon-trash"></i>\n                                            </span>\n                                        <% } %>\n                                    </span>\n                                    <span class="AknCommentPanel-date date"><%- reply.created %></span>\n                                </div>\n                                <div class="AknCommentPanel-message message"><%- reply.body %></div>\n                            </li>\n                        <% }); %>\n                    </ol>\n                </li>\n            <% }); %>\n        <% } else { %>\n            <li class="no-data AknCommentPanel-thread AknMessageBox AknMessageBox--centered">\n                <p><%- emptyLabel %></p>\n            </li>\n        <% } %>\n    </ol>\n</div>\n'},function(t,e){t.exports='<% if (previousObject) { %>\n    <span class="AknSequentialEdit-previous">\n        <span class="previous" data-id="<%- previousObject.id %>" data-type="<%- previousObject.type %>">\n            <%- previousObject.shortLabel %>\n        </span>\n    </span>\n<% } %>\n<span class="AknSequentialEdit-progress AknProgress--info AknProgress progress progress-bar">\n    <div class="AknProgress-bar bar" style="width: <%- ratio %>%;">\n    <% if (ratio < 30) { %></div>&nbsp;&nbsp;<% } %>\n    <%- currentIndex %> / <%- objectCount %> <%- _.__(\'pim_enrich.entity.product.plural_label\') %>\n    <% if (ratio >= 30) { %></div><% } %>\n</span>\n<% if (nextObject) { %>\n    <span class="AknSequentialEdit-next">\n        <span class="next" data-id="<%- nextObject.id %>" data-type="<%- nextObject.type %>">\n            <%- nextObject.shortLabel %>\n        </span>\n    </span>\n<% } %>\n'},function(t,e){t.exports='<div class="AknColumn-subtitle"><%- _.__(\'pim_enrich.entity.family.uppercase_label\')%></div>\n<div class="AknColumn-value product-family" data-drop-zone="buttons"><%- familyLabel %></div>\n'},function(t,e){t.exports='<div class="AknColumn-subtitle"><%- title %></div>\n<div class="AknColumn-value product-family"><%- familyVariantLabel %></div>\n'},function(t,e){t.exports='<div class="AknFormContainer">\n    <form class="AknFieldContainer form-horizontal">\n        <div class="AknFieldContainer-header">\n            <label class="AknFieldContainer-label control-label"><%- _.__(\'pim_enrich.entity.product.module.change_family.change_family_to\')%>&nbsp;:</label>\n        </div>\n        <div class="AknFieldContainer-inputContainer">\n            <input type="hidden" class="input-large family-select2 select-field"\n                   value="<%- product.family !== null ? product.family.code : \'\' %>"\n                   <%- product.family ? \' selected\' : \'\' %>\n                   data-placeholder="<%- _.__(\'pim_enrich.entity.product.module.change_family.empty_selection\') %>"\n            />\n        </div>\n    </form>\n</div>\n'},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(3),i(463)],void 0===(r=function(t,e,i,n){return i.extend({tagName:"span",className:"AknTitleContainer-metaItem",template:t.template(n),initialize:function(t){this.config=t.config,this.label=e(this.config.label),this.labelBy=e(this.config.labelBy),i.prototype.initialize.apply(this,arguments)},render:function(){var e=this.getFormData(),i="";return e.meta.created&&(i=this.template({label:this.label,labelBy:this.labelBy,loggedAt:t.result(e.meta.created,"logged_at",null),author:t.result(e.meta.created,"author",null)})),this.$el.html(i),this}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<span title="<%- label %>: <%- loggedAt %> <%- labelBy %> <%- author %>">\n    <%- label %>: <%- loggedAt %> <%- labelBy %> <%- author %>\n</span>\n'},function(t,e){t.exports='<div class="AknColumn-subtitle"><%- label %></div>\n<div class="AknColumn-value"><%- loggedAt %> <%- labelBy %> <%- author %></div>\n'},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(3),i(9),i(466)],void 0===(r=function(t,e,i,n,r){return i.extend({tagName:"span",className:"AknTitleContainer-metaItem",template:t.template(r),initialize:function(t){this.config=t.config,this.label=e(this.config.label),this.labelBy=e(this.config.labelBy),i.prototype.initialize.apply(this,arguments)},configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:post_update",this.render),i.prototype.configure.apply(this,arguments)},render:function(){var e=this.getFormData(),i="";return e.meta.updated&&(i=this.template({label:this.label,labelBy:this.labelBy,loggedAt:t.result(e.meta.updated,"logged_at",null),author:t.result(e.meta.updated,"author",null)})),this.$el.html(i),this}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<span title="<%- label %>: <%- loggedAt %> <%- labelBy %> <%- author %>">\n    <%- label %>: <%- loggedAt %> <%- labelBy %> <%- author %>\n</span>\n'},function(t,e){t.exports='<div class="AknColumn-subtitle"><%- label %></div>\n<div class="AknColumn-value"><%- loggedAt %> <%- labelBy %> <%- author %></div>\n'},function(t,e){t.exports='<div class="AknColumn-subtitle"><%- label %></div>\n<div class="AknColumn-value product-groups">\n    <% _.each(groups, function (group, index, list) {  %>\n        <div data-group="<%- group.code %>" data-variant="<%- group.isVariant ? 1 : 0 %>" class="product-group">\n            <%- group.label %>\n        </div>\n        <%- list.length > index + 1 ? \',\' : \'\' %>\n    <% }); %>\n</div>\n'},function(t,e){t.exports='<div class="AknFormContainer AknFormContainer--withPadding AknFormContainer--expanded">\n    <% if (products.length) { %>\n        <table class="AknGrid AknGrid--condensed AknGrid--unclickable groups">\n            <thead>\n                <tr>\n                    <th class="AknGrid-headerCell">\n                        <%- identifier.labels[locale] || identifier.code %>\n                    </th>\n                    <th class="AknGrid-headerCell">\n                        <%- _.__(\'pim_common.label\') %>\n                    </th>\n                </tr>\n            </thead>\n            <tbody>\n                <% _.each(products, function (product) {  %>\n                    <tr class="AknGrid-bodyRow">\n                        <td class="AknGrid-bodyCell">\n                            <a href="javascript:void(0);" data-product-id="<%- product.meta.id %>">\n                                <%- product.values[identifier.code][0].data %>\n                            </a>\n                        </td>\n                        <td class="AknGrid-bodyCell">\n                            <%- product.meta.label[locale] %>\n                        </td>\n                    </tr>\n                <% }); %>\n                <% if (products.length < productCount) { %>\n                    <tr class="AknGrid-bodyRow">\n                        <td colspan="2" class="AknGrid-bodyCell">\n                            <%- _.__(\'pim_enrich.entity.product.module.show_group.more_products\', { \'count\': productCount - products.length }) %>\n                        </td>\n                    </tr>\n                <% } %>\n            </tbody>\n        </table>\n    <% } %>\n</div>\n'},function(t,e){t.exports='<div data-toggle="dropdown">\n    <div class="AknColumn-subtitle"><%- label %></div>\n    <div class="AknColumn-value product-status" data-status="<%- status ? \'enabled\' : \'disabled\' %>">\n        <div class="status-switcher">\n            <%- status ? enabledLabel : disabledLabel %>\n            <div class="AknColumn-blockDown"></div>\n        </div>\n    </div>\n</div>\n<ul class="AknDropdown-menu">\n    <li class="AknDropdown-menuTitle"><%- label %></li>\n    <li>\n        <div class="AknDropdown-menuLink <% status ? \'\' : \'AknDropdown-menuLink--active\' %>" data-status="disable">\n            <span class="label"><%- disabledLabel %></span>\n        </div>\n    </li>\n    <li>\n        <div class="AknDropdown-menuLink <% status ? \'AknDropdown-menuLink--active\' : \'\' %>" data-status="enable">\n            <span class="label"><%- enabledLabel %></span>\n        </div>\n    </li>\n</ul>\n'},function(t,e){t.exports="<%- _.__('pim_enrich.entity.product.module.download_pdf.label') %>\n"},function(t,e){t.exports='<header class="AknSubsection-title">\n    <span class="group-label"><%- label %></span>\n    <% if (0 < fieldCollection.toFill) { %>\n        <span class="required-attribute-indicator" data-group="<%- fieldCollection.attributeGroup.code %>">\n            <span class="AknSubsection-comment AknSubsection-comment--clickable">\n                <span class="AknBadge AknBadge--small AknBadge--highlight"></span>\n                <%- __(\'pim_enrich.entity.product.module.attribute.to_fill_count\', {count: fieldCollection.toFill}, fieldCollection.toFill) %>\n            </span>\n        </span>\n    <% } %>\n</header>\n'},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(3),i(474)],void 0===(r=function(t,e,i,n,r){return n.extend({template:e.template(r),dialog:null,events:{"change input":"updateModel"},initialize:function(t){this.config=t.config,this.identifier=this.config.identifier||"code",n.prototype.initialize.apply(this,arguments)},updateModel:function(t){this.getFormModel().set(this.identifier,t.target.value||"")},render:function(){this.configured;var t=this.getRoot().validationErrors||[];return this.$el.html(this.template({identifier:this.identifier,label:i(this.config.label),requiredLabel:i("pim_common.required_label"),errors:t.filter(t=>{var e=this.identifier,i=t.path,n=t.attribute;return e===i||e===n}),value:this.getFormData()[this.identifier]})),this.delegateEvents(),this}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<div class="AknFieldContainer" data-code="<%- identifier %>">\n    <div class="AknFieldContainer-header">\n        <label title="<%- label %>" class="AknFieldContainer-label control-label required truncate" for="creation_<%- identifier %>">\n            <%- label %> <em><%- requiredLabel %></em>\n        </label>\n    </div>\n    <div class="AknFieldContainer-inputContainer field-input">\n        <input type="text" class="AknTextField" value="<%- value %>" id="creation_<%- identifier %>" name="<%- identifier %>"/>\n    </div>\n    <div class="AknFieldContainer-footer AknFieldContainer-validationErrors validation-errors">\n        <% _.each(errors, function (error) { %>\n        <span class="AknFieldContainer-validationError">\n                <span class="error-message"><%- error.message %></span>\n            </span>\n        <% }) %>\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="control-group" data-code="identifier">\n    <div class="validation-errors">\n        <span>\n            <span class="error-message"><%- message %></span>\n        </span>\n    </div>\n</div>\n'},function(t,e){t.exports="<%- label %>\n"},function(t,e){t.exports='<div class="AknVariantNavigation">\n    <% for (let level in navigation) { %>\n\n    <span class="AknVariantNavigation-item <% if (navigation[level].selected && navigation[level].selected.id === entity.meta.id) { %>AknVariantNavigation-item--highlight<% } %>">\n        <% if (level > 0) { %>\n            <span class="AknVariantNavigation-itemLabel" data-action="navigateToLevel" data-level="<%- level %>">\n                <span class="AknVariantNavigation-axisName <%- navigation[level].selected ? \'AknVariantNavigation-axisName--selected\' : \'\' %>" data-level="<%- level %>"><%- navigation[level].axes[currentLocale] %></span>\n\n                <% if (navigation[level].selected) { %>\n                    <span class="AknVariantNavigation-axisValue" data-level="<%- level %>">\n                        <%- navigation[level].selected.axes_values_labels[currentLocale] %>\n                    </span>\n                <% } %>\n            </span>\n\n            <% if (navigation[level - 1].selected) { %>\n                <input type="hidden" class="variant-navigation select-field" value="0" data-level="<%- level %>">\n            <% } %>\n        <% } else { %>\n            <span class="AknVariantNavigation-axisName AknVariantNavigation-axisValue AknVariantNavigation-itemLabel" data-action="navigateToLevel" data-level="<%- level %>"><%- commonLabel %></span>\n        <% } %>\n\n    </span>\n\n    <% } %>\n</div>\n'},function(t,e){t.exports='<div class="AknVariantNavigation-listItem">\n    <img class="AknVariantNavigation-listProductImage" src="<%- entity.image %>" alt="">\n    <span title="<%- entity.label %>" class="AknVariantNavigation-listProductLabel">\n        <%- entity.label %>\n    </span>\n    <span class="AknVariantNavigation-listProductCompleteness AknVariantNavigation-listProductCompleteness--<%- getClass(entity.completeness.ratio) %>">\n        <%- entity.completeness.ratio %>%\n    </span>\n</div>\n'},function(t,e){t.exports='<div class="select2-drop-footer">\n    <button class="AknButton AknButton--apply add-child"><%- label %></button>\n</div>\n'},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(8),i(7),i(3),i(481),i(482),i(110),i(9),i(5),i(6),i(187),i(31),i(211)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c,u,d,p,h,f){return o.extend({template:e.template(a),basketTemplate:e.template(s),events:{"click .remove-item":"removeItemFromBasket"},imagePathMethod:()=>{throw new Error('You have to define "imagePathMethod" method using "setImagePathMethod" method.')},labelMethod:()=>{throw new Error('You have to define "labelMethod" method using "setLabelMethod" method.')},title:"",initialize:function(t){if(this.datagridModel=null,this.config=t.config,this.title=i(this.config.title),void 0===this.config.datagridName)throw new Error('You have to add parameter "datagridName" to the configuration of this module.');if(void 0===this.config.categoryTreeRoute)throw new Error('You have to add parameter "categoryTreeRoute" to the configuration of this module.');o.prototype.initialize.apply(this,arguments)},configure:function(){return this.datagrid={name:this.config.datagridName,paramName:"itemCodes"},c.on("datagrid:selectModel:"+this.datagrid.name,this.selectModel.bind(this)),c.on("datagrid:unselectModel:"+this.datagrid.name,this.unselectModel.bind(this)),c.on("datagrid_collection_set_after",this.updateChecked.bind(this)),c.on("datagrid_collection_set_after",this.setDatagrid.bind(this)),c.on("grid_load:complete",this.updateChecked.bind(this)),c.once("column_form_listener:initialized",function(t){this.configured||c.trigger("column_form_listener:set_selectors:"+t,{included:"#item-picker-append-field"})}.bind(this)),o.prototype.configure.apply(this,arguments)},render:function(){return this.configured?(this.$el.html(this.template({locale:this.getLocale(),datagridIdentifier:this.datagrid.name})),this.renderGrid(this.datagrid),this.setupResizableColumn(),this.renderExtensions()):this},setupResizableColumn(){var t=this.$(".ui-resizable-container--column").outerWidth();f.set({minWidth:t,maxWidth:500,container:this.$(".ui-resizable-container--column-child"),storageKey:"item-picker"})},shutdown(){return f.destroy(),o.prototype.shutdown.apply(this,arguments)},renderGrid:function(){var e={alias:this.datagrid.name,params:{dataLocale:this.getLocale(),_filter:{category:{value:{categoryId:-2}},scope:{value:this.getScope()}}}};new p(e,this.config.datagridName,this.config.categoryTreeRoute,"#item-picker-tree"),t.get(r.generate("pim_datagrid_load",e)).done(function(t){this.$("#grid-"+this.datagrid.name).data({metadata:t.metadata,data:JSON.parse(t.data)});var e=[];t.metadata.requireJSModules.concat(["oro/datagrid/pagination-input"]).forEach(function(t){e.push(h(t))}),l(e)}.bind(this))},setDatagrid:function(t){this.datagridModel=t},selectModel:function(t){this.addItem(t.get(this.config.columnName))},unselectModel:function(t){this.removeItem(t.get(this.config.columnName))},addItem:function(t){var i=this.getItems();return i.push(t),i=e.uniq(i),this.setItems(i),this},removeItem:function(t){var i=e.without(this.getItems(),t);return this.setItems(i),this},getItems:function(){var i=t("#item-picker-append-field").val();return e.isUndefined(i)||""===i?[]:i.split(",")},setItems:function(e){return t("#item-picker-append-field").val(e.join(",")),this.updateBasket(e),this},updateChecked:function(t){if(t.inputName===this.datagrid.name){var e=this.getItems();t.models.forEach(t=>{e.includes(t.get(this.config.columnName))?t.set("is_checked",!0):t.set("is_checked",null)}),this.setItems(e)}},removeItemFromBasket:function(t){this.removeItem(t.currentTarget.dataset.itemcode),this.datagridModel&&this.updateChecked(this.datagridModel)},updateBasket:function(t){u.getFetcher(this.config.fetcher).fetchByIdentifiers(this.getItems()).then(e=>{var i=[];t.forEach(t=>{i=i.concat(e.filter(e=>e.code===t))}),this.renderBasket(i),this.delegateEvents()})},renderBasket:function(t){this.$(".basket").html(this.basketTemplate({items:t,title:i("pim_enrich.entity.product.module.basket.title"),emptyLabel:i("pim_enrich.entity.product.module.basket.empty_basket"),imagePathMethod:this.imagePathMethod.bind(this),columnName:this.config.columnName,identifierName:this.config.columnName,labelMethod:this.labelMethod.bind(this),itemCodeMethod:this.itemCodeMethod.bind(this)}))},setImagePathMethod:function(t){this.imagePathMethod=t},setLabelMethod:function(t){this.labelMethod=t},setCustomTitle:function(t){this.title=t},itemCodeMethod:function(t){return t[this.config.columnName]},getLocale:function(){return d.get("catalogLocale")},getScope:function(){return d.get("catalogScope")}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<div class="AknColumnConfigurator">\n    <div class="AknColumnConfigurator-column ui-resizable-container--column">\n        <div class="AknColumnConfigurator-listContainer ui-resizable-container--column-child">\n            <div class="AknColumnConfigurator-relativeContent categories-container">\n                <div id="item-picker-tree" data-datalocale="<%= locale %>" data-name="category" data-type="tree" class="filter-item" data-relatedentity="product"></div>\n            </div>\n        </div>\n    </div>\n    <div class="AknColumnConfigurator-column AknColumnConfigurator-column--large">\n        <div class="AknColumnConfigurator-listContainer">\n            <div id="<%- datagridIdentifier %>">\n                <div id="grid-<%- datagridIdentifier %>" data-type="datagrid">\n                    <div class="AknFilterBox AknFilterBox--search AknFilterBox--sticky filter-box" data-drop-zone="filters"></div>\n                    <div class="AknTitleContainer-line">\n                        <div data-drop-zone="search" class="AknTitleContainer-search search-zone"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="AknColumnConfigurator-column AknColumnConfigurator-column--fixed">\n        <div class="basket"></div>\n        <div class="selection-inputs">\n            <input type="hidden" id="item-picker-append-field"/>\n        </div>\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="item-picker-basket panel-container">\n    <div class="AknColumnConfigurator-listContainer">\n        <div class="AknColumnConfigurator-columnHeader">\n            <%- title %>\n        </div>\n        <div class="AknGrid--gallery">\n            <div class="AknGridContainer AknGridContainer--withCheckbox">\n                <div class="AknGrid">\n                    <div class="AknGrid-body basket-inner">\n                        <% if (!_.isEmpty(items)) { %>\n                        <% _.each(items, function (item) { %>\n                        <div data-itemCode="<%- itemCodeMethod(item) %>" class="AknGrid-bodyRow AknGrid-bodyRow--thumbnail AknGrid-bodyRow--withoutTopBorder">\n                            <div class="AknGrid-fullImage" style="background-image: url(\'<%- imagePathMethod(item) %>\')"></div>\n                            <div class="AknButton AknButton--important AknButton--micro AknButton-squareIcon AknButton-squareIcon--delete AknAssetCollectionField-icon remove-item" data-itemCode="<%- itemCodeMethod(item) %>"></div>\n                            <div class="AknGrid-title"><%- labelMethod(item) %></div>\n                            <div class="AknGrid-subTitle"><%- item[identifierName] %></div>\n                        </div>\n                        <% }); %>\n                        <% } else { %>\n                        <div class="empty-basket">\n                            <%- emptyLabel %>\n                        </div>\n                        <% } %>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="AknBadge AknBadge--big AknBadge--<%- color %>" data-toggle="dropdown"><%- label %></div>\n'},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(5),i(11),i(6),i(116)],void 0===(r=function(t,e,i,n,r,o,a){return a.extend({previousFamily:null,initialize(){a.prototype.initialize.apply(this,arguments),this.previousFamily=null,this.readOnly=!0},configure(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:post_update",this.onPostUpdate.bind(this)),a.prototype.configure.apply(this,arguments)},onPostUpdate(){this.getFormData().family!==this.previousFamily&&(this.previousFamily=this.getFormData().family,this.getFormData().family?this.getFamilyIdFromCode(this.getFormData().family).then(t=>{this.setChoiceUrl(r.generate(this.config.loadUrl,{family_id:t})),this.readOnly=!1,this.setData({[this.fieldName]:null}),this.render()}):(this.readOnly=!0,this.setData({[this.fieldName]:null}),this.render()))},getFamilyIdFromCode:t=>n.getFetcher("family").fetch(t).then(t=>t.meta.id),getFamilyVariantLabelFromCode:t=>n.getFetcher("family-variant").fetch(t).then(t=>t.labels[o.get("catalogLocale")]),select2InitSelection(e,i){var n=t(e).val();""!==n&&this.getFamilyVariantLabelFromCode(n).then(function(t){i({id:n,text:t})})},postRender(){a.prototype.postRender.apply(this,arguments),!this.getFormData()[this.fieldName]&&this.choiceUrl&&t.getJSON(this.choiceUrl,this.select2Data.bind(this)).then(t=>{var e=this.select2Results(t).results;1===e.length?(this.setData({[this.fieldName]:e[0].id}),this.$(".select2").select2("val",e[0].id)):(this.setData({[this.fieldName]:null}),this.$(".select2").select2("val",""))})}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<div class="AknFullPage">\n    <div class="AknFullPage-content AknFullPage-content--withIllustration">\n        <div>\n            <div class="AknFullPage-illustration AknFullPage-illustration--<%- illustrationClass %>"></div>\n        </div>\n        <div>\n            <div data-drop-zone="header"></div>\n            <div data-drop-zone="fields-container"></div>\n            <div class="AknButton AknButton--apply ok"><%- okText %></div>\n        </div>\n    </div>\n</div>\n<div class="AknFullPage-cancel cancel"></div>\n'},function(t,e){t.exports='<div class="AknFullPage-titleContainer">\n    <div class="AknFullPage-subTitle"><%- __(\'pim_enrich.entity.product_model.plural_label\') %></div>\n    <div class="AknFullPage-title"><%- __(\'pim_enrich.entity.product_model.module.variant_axis.create_label\', { axes: axes }) %></div>\n</div>\n'},function(t,e){t.exports='<div class="AknFormContainer">\n    <div data-drop-zone="content"></div>\n    <% if (errors.length > 0) { %>\n        <div class="AknMessageBox AknMessageBox--danger global-errors">\n            <ul class="AknMessageBox-list">\n                <% errors.forEach(function(error) { %>\n                    <li class="global-error"><%- error.message %></li>\n                <% }) %>\n            </ul>\n        </div>\n    <% } %>\n</div>\n'},function(t,e){t.exports='<div class="AknHorizontalNavtab-item--active AknVerticalNavtab-item--active">\n    <div class="AknGridToolbar">\n        <div class="AknGridToolbar-right" data-drop-zone="actions">\n        </div>\n    </div>\n    <div class="tabsection-content">\n        <div class="AknGridContainer">\n            <table class="AknGrid AknGrid--unclickable table attributes">\n                <thead>\n                    <tr>\n                        <th class="AknGrid-headerCell">&nbsp;</th>\n                        <th class="AknGrid-headerCell"><%- __(\'pim_enrich.entity.attribute.property.name\') %></th>\n                        <th class="AknGrid-headerCell"><%- __(\'pim_common.type\') %></th>\n                        <th class="AknGrid-headerCell"><%- __(\'pim_enrich.entity.attribute.property.scopable\') %></th>\n                        <th class="AknGrid-headerCell"><%- __(\'pim_enrich.entity.attribute.property.localizable\') %></th>\n                        <% if (hasRightToRemove) { %>\n                        <th class="AknGrid-headerCell">&nbsp;</th>\n                        <% } %>\n                    </tr>\n                </thead>\n                <tbody class="attribute-list">\n                    <% _.each(attributes, function (attribute) { %>\n                        <tr class="AknGrid-bodyRow attribute" data-attribute-code="<%- attribute.code %>">\n                            <td class="AknGrid-bodyCell AknGrid-bodyCell--tight">\n                                <span class="handle">\n                                    <i class="icon-reorder"></i>\n                                </span>\n                            </td>\n                            <td class="AknGrid-bodyCell"><%- i18n.getLabel(attribute.labels, UserContext.get(\'uiLocale\'), attribute.code) %></td>\n                            <td class="AknGrid-bodyCell"><%- __(\'pim_enrich.entity.attribute.property.type.\' + attribute.type) %></td>\n                            <td class="AknGrid-bodyCell">\n                                <input type="checkbox" disabled="disabled"<%- attribute.scopable ? \' checked="checked"\' : \'\' %>>\n                            </td>\n                            <td class="AknGrid-bodyCell">\n                                <input type="checkbox" disabled="disabled"<%- attribute.localizable ? \' checked="checked"\' : \'\' %>>\n                            </td>\n                            <% if (hasRightToRemove) { %>\n                            <td class="AknGrid-bodyCell AknGrid-bodyCell--right">\n                                <span class="AknIconButton AknIconButton--small AknIconButton--trash remove-attribute" data-attribute-code="<%- attribute.code %>"></span>\n                            </td>\n                            <% } %>\n                        </tr>\n                    <% }) %>\n                </tbody>\n            </table>\n        </div>\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="tabsection-title">\n    <%- __(\'pim_enrich.export.product.structure.title\') %>\n</div>\n<div class="tabsection-content">\n    <div class="AknFormContainer AknFormContainer--withPadding" data-drop-zone="filters">\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="AknFieldContainer-header">\n    <label class="AknFieldContainer-label control-label required" for="pim_enrich.export.product.filter.channel">\n        <%- __(\'pim_enrich.entity.channel.uppercase_label\') %> <em><%- __(\'pim_common.required_label\') %></em>\n    </label>\n</div>\n<div class="AknFieldContainer-inputContainer">\n    <select class="select2" <%- isEditable ? \'\' : \'disabled\' %> id="pim_enrich.export.product.filter.channel">\n        <% _.each(channels, function (channel) { %>\n            <option value="<%- channel.code %>" <%- channel.code === scope ? \'selected\' : \'\' %>><%- channel.label %></option>\n        <% }); %>\n    </select>\n    <div class="AknFieldContainer-iconsContainer icons-container">\n        <i class="AknIconButton icon-info-sign" data-toggle="tooltip" data-placement="right" data-original-title="<%- __(\'pim_enrich.export.product.filter.channel.help\') %>"></i>\n    </div>\n</div>\n<div class="AknFieldContainer-footer">\n    <span class="below-input">\n        <span class="AknFieldContainer-validationErrors validation-errors">\n            <% errors.forEach(function (error) { %>\n                <span class="AknFieldContainer-validationError">\n                    <span class="error-message"><%- error %></span>\n                </span>\n            <% }); %>\n        </span>\n    </span>\n</div>\n'},function(t,e){t.exports='<div class="AknFieldContainer-header">\n    <label class="AknFieldContainer-label control-label required" for="pim_enrich.export.product.filter.locales">\n        <%- __(\'pim_enrich.entity.locale.plural_label\') %> <em><%- __(\'pim_common.required_label\') %></em>\n    </label>\n</div>\n<div class="AknFieldContainer-inputContainer">\n    <select class="select2" multiple <%- isEditable ? \'\' : \'disabled\' %> id="pim_enrich.export.product.filter.locales">\n        <% _.each(availableLocales, function (locale) { %>\n            <option value="<%- locale.code %>" <%- _.contains(locales, locale.code) ? \'selected\' : \'\' %>><%- locale.label %></option>\n        <% }); %>\n    </select>\n    <div class="AknFieldContainer-iconsContainer icons-container">\n        <i class="AknIconButton icon-info-sign" data-toggle="tooltip" data-placement="right" data-original-title="<%- __(\'pim_enrich.export.product.filter.locales.help\') %>"></i>\n    </div>\n</div>\n<div class="AknFieldContainer-footer">\n    <span class="below-input">\n        <span class="AknFieldContainer-validationErrors validation-errors">\n            <% errors.forEach(function (error) { %>\n                <span class="AknFieldContainer-validationError">\n                    <span class="error-message"><%- error %></span>\n                </span>\n            <% }); %>\n        </span>\n    </span>\n</div>\n'},function(t,e){t.exports='<div class="AknFieldContainer-header">\n    <label class="AknFieldContainer-label control-label required" for="pim_enrich.export.product.filter.attributes"><%- __(\'pim_enrich.entity.attribute.plural_label\') %></label>\n</div>\n<div class="AknFieldContainer-inputContainer">\n    <div class="AknTextField <%- !isEditable ? \'AknTextField--disabled\' : \'AknTextField--withRightButton\' %>">\n        <%- labelInfo %>\n        <% if (isEditable) { %>\n        <button type="button" class="AknButton AknButton--action AknButton--small edit">\n            <%- labelEdit %>\n        </button>\n        <% } %>\n    </div>\n    <div class="AknFieldContainer-iconsContainer icons-container">\n        <i class="AknIconButton icon-info-sign" data-toggle="tooltip" data-placement="right" data-original-title="<%- __(\'pim_enrich.export.product.filter.attributes.help\') %>"></i>\n    </div>\n</div>\n<div class="AknFieldContainer-footer">\n    <span class="below-input">\n        <span class="AknFieldContainer-validationErrors validation-errors">\n            <% errors.forEach(function (error) { %>\n                <span class="AknFieldContainer-validationError">\n                    <span class="error-message"><%- error %></span>\n                </span>\n            <% }); %>\n        </span>\n    </span>\n</div>\n'},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(8),i(10),i(6),i(5),i(494),i(495)],void 0===(r=function(t,e,i,n,r,o,a,s,l){return n.View.extend({events:{"click .attribute-groups li":"changeAttributeGroup","keyup .search-field":"updateSearch","click .clear":"clear","click .remove":"removeAttribute"},search:"",curentFetchId:0,attributeListPage:1,isFetching:!1,selected:[],currentGroup:null,template:e.template(s),attributeListTemplate:e.template(l),initialize:function(){this.listenTo(this,"selected:update:after",function(t){this.$(".empty-message").addClass(0===t.length?"":"AknMessageBox--hide").removeClass(0===t.length?"AknMessageBox--hide":"")})},render:function(){t.when(a.getFetcher("attribute-group").fetchAll(),a.getFetcher("attribute").fetchByIdentifiers(this.getSelected())).then(function(t,n){var a,s={};e.each(this.$("[data-scroll-container]"),function(t){s[t.dataset.scrollContainer]=t.scrollTop}),this.attributeListPage=1,this.isFetching=!1,a=null===this.currentGroup?e.reduce(t,function(t,e){return t+e.attributes.length},0):e.findWhere(t,{code:this.currentGroup}).attributes.length,this.$el.empty().append(this.template({__:i,i18n:r,userContext:o,attributeGroups:t,attributeCount:a,currentGroup:this.currentGroup,selectedAttributes:n})),this.initializeSortable(),this.updateAttributeList().then(function(){e.each(s,function(t,e){this.$('[data-scroll-container="'+e+'"]').scrollTop(t)}.bind(this))}.bind(this)),this.$(".attributes div").on("scroll",this.updateAttributeList.bind(this))}.bind(this))},setSelected:function(t){this.selected=t,this.trigger("selected:update:after",this.selected)},getSelected:function(){return this.selected},changeAttributeGroup:function(t){var e=t.currentTarget.dataset.attributeGroupCode;e=""===e?null:e,this.search="",this.currentGroup=e,this.render()},updateSearch:function(){this.search=this.$(".search-field").val(),this.attributeListPage=1,this.isFetching=!1,this.$(".attributes ul").empty(),this.updateAttributeList()},clear:function(){this.setSelected([]),this.search="",this.render()},updateAttributeList:function(){var t=this.$(".attributes > .AknColumnConfigurator-listContainer"),i=t.children(".AknVerticalList");if(0>i.height()-t.scrollTop()-2*t.height()&&!this.isFetching){this.curentFetchId++;var n=+this.curentFetchId,s={search:this.search,options:{excluded_identifiers:this.getSelected(),page:this.attributeListPage,limit:20,locale:o.get("catalogLocale")}};return null!==this.currentGroup&&(s.options.attribute_groups=[this.currentGroup]),this.isFetching=!0,a.getFetcher("attribute").search(s).then(function(t){t=e.filter(t,function(t){return"pim_catalog_identifier"!==t.type}),n!==this.curentFetchId||(i.append(this.attributeListTemplate({attributes:t,i18n:r,userContext:o})),0!==t.length&&(this.attributeListPage++,this.isFetching=!1))}.bind(this))}},initializeSortable:function(){this.$(".attributes ul, .selected-attributes ul").sortable({connectWith:".attributes ul, .selected-attributes ul",containment:this.$el,tolerance:"pointer",cursor:"move",stop:function(){this.setSelected(e.map(this.$(".selected-attributes li"),function(t){return t.dataset.attributeCode}))}.bind(this)}).disableSelection()},removeAttribute:function(i){var n=t(i.currentTarget).parents("li"),r=this.getSelected();r=e.without(r,n.data("attributeCode")),this.setSelected(r),this.$(".attributes > div ul").append(n)}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<div class="AknColumnConfigurator">\n    <div class="AknColumnConfigurator-column attribute-groups">\n        <header class="AknColumnConfigurator-columnHeader"><%- __(\'pim_enrich.entity.attribute_group.plural_label\') %></header>\n        <div data-scroll-container="attribute-groups" class="AknColumnConfigurator-listContainer">\n            <ul class="AknVerticalList">\n                <li class="AknVerticalList-item AknVerticalList-item--selectable <%- null === currentGroup ? \'selected active\' : \'\' %>" data-attribute-group-code=""><%- __(\'pim_enrich.export.product.filter.attributes_selector.all_group\') %></li>\n                <% _.each(attributeGroups, function (attributeGroup) { %>\n                    <li class="AknVerticalList-item AknVerticalList-item--selectable <%- currentGroup === attributeGroup.code ? \'selected active\' : \'\' %>" data-attribute-group-code="<%- attributeGroup.code %>">\n                        <%- i18n.getLabel(attributeGroup.labels, userContext.get(\'uiLocale\'), attributeGroup.code) %>\n                    </li>\n                <% }); %>\n            </ul>\n        </div>\n    </div>\n    <div class="AknColumnConfigurator-column attributes">\n        <header class="AknColumnConfigurator-columnHeader">\n            <input class="AknTextField AknColumnConfigurator-searchInput search-field" type="text" placeholder="<%- __(\'pim_enrich.export.product.filter.attributes_selector.attributes\', {itemsCount: attributeCount}, attributeCount) %>"/>\n        </header>\n        <div data-scroll-container="attributes" class="AknColumnConfigurator-listContainer">\n            <ul class="AknVerticalList"></ul>\n        </div>\n    </div>\n    <div class="AknColumnConfigurator-column selected-attributes">\n        <header class="AknColumnConfigurator-columnHeader">\n            <span><%- __(\'pim_enrich.export.product.filter.attributes_selector.selected\') %></span>\n            <span class="AknButton AknButton--grey clear"><%- __(\'pim_enrich.export.product.filter.attributes_selector.clear\') %></span>\n        </header>\n        <div data-scroll-container="selected-attributes" class="AknColumnConfigurator-listContainer">\n            <span class="AknMessageBox AknMessageBox--centered empty-message <%- 0 === selectedAttributes.length ? \'\' : \'AknMessageBox--hide\' %>"><%- __(\'pim_enrich.export.product.filter.attributes_selector.empty_selection\') %></span>\n            <ul class="AknVerticalList">\x3c!--\n                --\x3e<% _.each(selectedAttributes, function (attribute) { %>\n                    <li class="AknVerticalList-item AknVerticalList-item--movable <%- currentGroup === attribute.code ? \'selected\' : \'\' %>" data-attribute-code="<%- attribute.code %>">\n                        <div>\n                            <span class="attribute-label"><%- i18n.getLabel(attribute.labels, userContext.get(\'uiLocale\'), attribute.code) %></span>\n                        </div>\n                        <span class="AknIconButton AknIconButton--grey AknIconButton--small remove"><i class="icon-trash"></i></span>\n                    </li>\n                <% }); %>\x3c!--\n            --\x3e</ul>\n        </div>\n    </div>\n</div>\n'},function(t,e){t.exports='<% _.each(attributes, function (attribute) { %>\n<li class="AknVerticalList-item AknVerticalList-item--movable" data-attribute-code="<%- attribute.code %>">\n    <div>\n        <span class="attribute-label"><%- i18n.getLabel(attribute.labels, userContext.get(\'catalogLocale\'), attribute.code) %></span>\n    </div>\n    <span class="AknIconButton AknIconButton--grey AknIconButton--small remove"><i class="icon-trash"></i></span>\n</li>\n<% }); %>\n'},function(t,e){t.exports='<span class="AknFieldContainer-iconsContainer icons-container">\n    <i class="AknIconButton icon-info-sign" data-toggle="tooltip" data-placement="right" data-original-title="<%- text %>"></i>\n</span>\n'},function(t,e){t.exports='<div class="tabsection-title">\n    <div class="pull-right AknButtonList-item" data-drop-zone="headings"></div>\n    <%- __(\'pim_enrich.export.product.data.title\') %>\n</div>\n<div class="tabsection-content">\n    <div class="AknFormContainer AknFormContainer--withPadding" data-drop-zone="product-filters"></div>\n    <div class="AknFormContainer AknFormContainer--withPadding filters"></div>\n</div>\n'},function(t,e){t.exports='<div class="AknFieldContainer">\n    <div class="AknFieldContainer-header">\n        <label class="AknFieldContainer-label" for="jobInstance_<%- config.fieldCode.replace(\'.\', \'_\') %>"><%- __(config.label) %></label>\n    </div>\n    <div class="AknFieldContainer-inputContainer field-input">\n        <% if (undefined !== config.tooltip) { %>\n        <div class="icons-container">\n            <i class="AknIconButton icon-info-sign" data-toggle="tooltip" data-placement="right" data-original-title="<%- __(config.tooltip) %>"></i>\n        </div>\n        <% } %>\n    </div>\n    <div class="AknFieldContainer-footer">\n        <span class="below-input-elements-container">\n            <% if (null !== error) { %>\n            <span class="validation-container">\n                <span class="AknFieldContainer-validationErrors validation-errors">\n                    <span class="AknFieldContainer-validationError">\n                        <span class="error-message"><%- error %></span>\n                    </span>\n                </span>\n            </span>\n            <% } %>\n        </span>\n    </div>\n</div>\n'},function(t,e){t.exports="<select class=\"select2\" id=\"jobInstance_<%- config.fieldCode.replace('.', '_') %>\" title=\"<%- __(config.label) %>\" <%- true === config.readOnly ? 'readonly disabled' : '' %>>\n    <% _.each(config.options, function (label, code) { %>\n        <option value=\"<%- code %>\" <%- value === code ? 'selected' : '' %>><%- __(label) %></option>\n    <% }) %>\n</select>\n"},function(t,e){t.exports='<div class="tabsections">\n    <div class="tabsection">\n        <div class="tabsection-content AknFormContainer AknFormContainer--withPadding">\n            <div class="AknFormContainer" data-drop-zone="properties"></div>\n        </div>\n    </div>\n</div>\n'},function(t,e){t.exports="<input class=\"AknTextField\" title=\"<%- __(config.label) %>\" id=\"jobInstance_<%- config.fieldCode.replace('.', '_') %>\" value=\"<%- value %>\" type=\"text\" name=\"jobInstance_<%- config.fieldCode.replace('.', '_') %>\" <%- true === config.readOnly ? 'readonly disabled' : '' %>/>\n"},function(t,e){t.exports="<div class=\"switch switch-small\" data-on-label=\"<%- __('pim_common.yes') %>\" data-off-label=\"<%- __('pim_common.no') %>\">\n    <input type=\"checkbox\" title=\"<%- __(config.label) %>\" id=\"jobInstance_<%- config.fieldCode.replace('.', '_') %>\" <%- value ? 'checked' : '' %> <%- true === config.readOnly ? 'readonly disabled' : '' %>/>\n</div>\n"},function(t,e){t.exports="<span class=\"AknTitleContainer-metaItem\"><%- __('pim_import_export.form.job_instance.meta.job') %>: <%- __('batch_jobs.' + jobInstance.job_name + '.label') %> | <%- __('pim_import_export.form.job_instance.meta.connector') %>: <%- jobInstance.connector %></span>\n"},function(t,e){t.exports='<span class="validation-container">\n    <span class="AknFieldContainer-validationErrors validation-errors">\n        <% errors.forEach(function (error) { %>\n            <span class="AknFieldContainer-validationError">\n               <span class="error-message"><%- error %></span>\n            </span>\n        <% }); %>\n    </span>\n</span>\n'},function(t,e){t.exports='<button class="AknButton AknButton--apply AknButton--centered">\n    <%- label %>\n</button>\n'},function(t,e){t.exports='<div class="AknFormContainer AknFormContainer--large AknFormContainer--withPadding AknFormContainer--centered">\n    <div class="AknMediaField <%- !file ? \'has-file\' : \'\' %>" >\n        <% if (!file) { %>\n            <input class="AknMediaField-fileUploaderInput" type="file" name="Drag and drop a file or click here"/>\n            <div class="AknMediaField-emptyContainer">\n                <span title="upload icon" class="AknMediaField-uploadIcon"/>\n                <span><%- __(\'pim_enrich.entity.job_execution.module.create.upload\', {type})%></span>\n            </div>\n        <% } else { %>\n            <div class="AknMediaField-preview preview">\n                <div class="AknMediaField-thumb file">\n                    <span title="upload icon" class="AknMediaField-uploadIcon"/>\n                </div>\n                <div class="AknMediaField-info info">\n                    <div class="filename" title="<%- file.name %>"><%- file.name %></div>\n                    <div class="AknButtonList AknButtonList--centered actions">\n                        <span class="AknButtonList-item clear-field">\n                            <span class="AknMediaField-remove"/>\n                        </span>\n                    </div>\n                </div>\n            </div>\n        <% } %>\n        <div class="AknMediaField-progress AknProgress AknProgress--micro progress">\n            <div class="AknProgress-bar bar"></div>\n        </div>\n    </div>\n</div>\n'},function(t,e){t.exports='<div>\n    <%- label %>: <span class="AknCenteredBox-highlight"><%- path %></span>\n</div>\n<div data-drop-zone="buttons"></div>\n'},function(t,e){t.exports='<div class="AknGridContainer grid-container">\n    <table class="AknGrid AknGrid--unclickable grid job-execution" id="job-execution">\n        <thead>\n        <th class="AknGrid-headerCell"><%- transAndUpperCase(\'pim_import_export.form.job_execution.summary.header.step\')%></th>\n        <th class="AknGrid-headerCell"><%- transAndUpperCase(\'pim_common.status\')%></th>\n        <th class="AknGrid-headerCell"><%- transAndUpperCase(\'pim_import_export.form.job_execution.summary.header.summary\')%></th>\n        <th class="AknGrid-headerCell"><%- transAndUpperCase(\'pim_import_export.form.job_execution.summary.header.start\')%></th>\n        <th class="AknGrid-headerCell"><%- transAndUpperCase(\'pim_import_export.form.job_execution.summary.header.end\')%></th>\n        </thead>\n        <tbody>\n        <% if (!stepExecutions) { %>\n        <tr class="AknGrid-bodyRow">\n            <td class="AknGrid-bodyCell AknGrid-bodyCell--full" colspan="5">\n                <%- __(\'pim_import_export.form.job_execution.summary.fetching\')%>\n            </td>\n        </tr>\n        <% } else { %>\n            <% _.each(stepExecutions, function (stepExecution, stepIndex) { %>\n                <tr class="AknGrid-bodyRow">\n                    <td class="AknGrid-bodyCell AknGrid-bodyCell--highlight"><%- translateStepExecutionLabel(stepExecution) %></td>\n                    <td class="AknGrid-bodyCell"><%- stepExecution.status %></td>\n                    <td class="AknGrid-bodyCell">\n                        <% if (_.size(stepExecution.summary) > 0) { %>\n                        <table class="AknGrid AknGrid--condensed">\n                            <% _.each(stepExecution.summary, function (value, key) { %>\n                            <tr class="AknGrid-bodyRow">\n                                <td class="AknGrid-bodyCell"><%- key %></td>\n                                <td class="AknGrid-bodyCell"><%- value %></td>\n                            </tr>\n                            <% }); %>\n                        </table>\n                        <% } %>\n                    </td>\n                    <td class="AknGrid-bodyCell"><%- stepExecution.startedAt %></td>\n                    <td class="AknGrid-bodyCell"><%- stepExecution.endedAt %></td>\n                </tr>\n\n                \x3c!-- Step execution warnings --\x3e\n                <% _.each(stepExecution.warnings, function (warning, warningIndex) { %>\n                <tr class="AknGrid-bodyRow warning">\n                    <td class="AknGrid-bodyCell AknGrid-bodyCell--full" colspan="5">\n                        <div class="AknMessageBox AknMessageBox--warning">\n                            <span class="AknMessageBox-title title"><%- __(\'pim_import_export.form.job_execution.summary.warning\')%></span>\n                            <ul class="AknMessageBox-list">\n                                <% _.each(warning.reason.split("\\n"), function(warningItem) { %>\n                                    <% if (warningItem) { %>\n                                        <li><%- warningItem %></li>\n                                    <% } %>\n                                <% }) %>\n                            </ul>\n                            <a class="data" data-step-index="<%- stepIndex %>" data-warning-index="<%- warningIndex %>">\n                                <%- warning.expanded ? __(\'job_execution.summary.hide_item\') : __(\'job_execution.summary.display_item\')%>\n                            </a>\n                            <table class="AknGrid AknGrid--condensed AknGrid--unclickable <%- warning.expanded ? \'\' : \'hide\'%>">\n                                <% _.each(warning.item, function (value, key) { %>\n                                <tr class="AknGrid-bodyRow">\n                                    <td class="AknGrid-bodyCell"><%- key %></td>\n                                    <td class="AknGrid-bodyCell">\n                                        <% if (typeof value === \'object\') { %>\n                                            <%- JSON.stringify(value) %>\n                                        <% } else { %>\n                                            <%- value %>\n                                        <% } %>\n                                    </td>\n                                </tr>\n                                <% }); %>\n                            </table>\n                        </div>\n                    </td>\n                </tr>\n                <% }); %>\n\n                \x3c!-- Step execution failures --\x3e\n                <% _.each(stepExecution.failures, function (failure) { %>\n                <tr class="AknGrid-bodyRow error">\n                    <td class="AknGrid-bodyCell AknGrid-bodyCell--full" colspan="5">\n                        <div class="AknMessageBox AknMessageBox--error">\n                            <% if (failure.label) { %>\n                                <span class="AknMessageBox-title title"><%- failure.label.toUpperCase() %></span>\n                                <%- failure %>\n                            <% } else { %>\n                                <%- failure.toUpperCase() %>\n                            <% } %>\n                        </div>\n                    </td>\n                </tr>\n                <% }); %>\n            <% }); %>\n\n            \x3c!-- Job execution failures --\x3e\n            <% _.each(failures, function (failure) { %>\n            <tr class="AknGrid-bodyRow error">\n                <td class="AknGrid-bodyCell AknGrid-bodyCell--full" colspan="5">\n                    <div class="AknMessageBox AknMessageBox--error">\n                        <span class="AknMessageBox-title title"><%- status.toUpperCase() %></span>\n                        <%- failure %>\n                    </div>\n                </td>\n            </tr>\n            <% }); %>\n\n        <% } %>\n        </tbody>\n    </table>\n</div>\n'},function(t,e){t.exports="<img src=\"/bundles/pimimportexport/images/loading.gif\" alt=\"<%- __('pim_common.loading') %>\"\n     class=\"AknButtonList-item <%- loadingShown ? '': 'AknButtonList-item--transparent' %>\"/>\n<a class=\"AknButtonList-item AknButton <%- refreshBtnShown ? '': 'AknButtonList-item--transparent' %>\"\n   title=\"Refresh\">\n    <%- __('pim_import_export.form.job_execution.refreshBtn.title')%>\n</a>\n"},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(3),i(7),i(11),i(23),i(511)],void 0===(r=function(t,e,i,n,r,o,a,s){return n.extend({template:e.template(s),events:{click:"redirect"},initialize:function(t){this.config=t.config,n.prototype.initialize.apply(this,arguments)},render:function(){return this.isVisible().then(function(t){return t?void this.$el.html(this.template({label:i(this.config.label),buttonClass:this.config.buttonClass||"AknButton--action"})):this}.bind(this)),this},redirect:function(){o.redirect(this.getUrl())},getUrl:function(){var t={};return this.config.identifier&&(t[this.config.identifier.name]=a.accessProperty(this.getFormData(),this.config.identifier.path)),r.generate(this.config.route,t)},isVisible:function(){return t.Deferred().resolve(!0).promise()}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<button class="<%- buttonClass %>">\n    <%- label %>\n</button>\n'},function(t,e){t.exports='<% if (Object.keys(files).length > 0) { %>\n    <% if (Object.keys(files).length === 1) { %>\n    <a class="AknButton AknButton--action" title="<%- label %>" href="<%- Object.values(files)[0] %>">\n        <%- label %>\n    </a>\n    <% } else { %>\n    <div class="AknDropdown">\n        <div class="AknButton AknButton--action" data-toggle="dropdown"><%- label %></div>\n        <div class="AknDropdown-menu">\n            <div class="AknDropdown-menuTitle"><%- label %></div>\n            <% Object.keys(files).forEach((key) => { %>\n            <a class="AknDropdown-menuLink" href="<%- files[key] %>">\n                <%- key %>\n            </a>\n            <% }); %>\n        </div>\n    </div>\n    <% } %>\n<% } %>\n'},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(3),i(514),i(7),i(6),i(23)],void 0===(r=function(t,e,i,n,r,o,a){return i.extend({template:t.template(n),initialize:function(t){this.config=t.config,i.prototype.initialize.apply(this,arguments)},configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:post_update",this.render),i.prototype.configure.apply(this,arguments)},render:function(){return this.isVisible()?(this.$el.html(this.template({btnLabel:e(this.config.label),btnIcon:this.config.iconName,url:this.getUrl()})),this):this},getUrl:function(){var t={};if(this.config.urlParams){var e=this.getFormData();this.config.urlParams.forEach(function(i){t[i.property]=a.accessProperty(e,i.path)})}return r.generate(this.config.url,t)},isVisible:function(){return a.accessProperty(this.getFormData(),this.config.isVisiblePath)}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<a class="AknDropdown-menuLink btn-download" href="<%- url %>"><%- btnLabel %></a>\n'},function(t,e){t.exports='<div class="tabsections">\n    <div data-drop-zone="structure-filters" class="tabsection"></div>\n    <div data-drop-zone="data-filters" class="tabsection"></div>\n</div>\n'},function(t,e){t.exports='<div class="AknFieldContainer-header">\n    <label class="AknFieldContainer-label control-label">\n        <%- label %>\n        <span class="label-elements-container"></span>\n    </label>\n    <div class="after-label-elements-container"></div>\n</div>\n<div class="AknFieldContainer-inputContainer">\n    <div class="filter-input"></div>\n    <span class="after-input-elements-container"></span>\n    <% if (removable && editable) { %>\n        <div class="AknFieldContainer-iconsContainer icons-container"><i class="AknIconButton remove icon-trash"></i></div>\n    <% } %>\n</div>\n<div class="AknFieldContainer-footer">\n    <span class="below-input-elements-container"></span>\n</div>\n'},function(t,e){t.exports="<input\n    class=\"select2 value\"\n    name=\"filter-value\"\n    type=\"hidden\"\n    value=\"<%- value ? value : '' %>\"\n    data-placeholder=\"<%- __('pim_enrich.export.product.filter.' + shortname + '.empty_selection') %>\"\n    <%- isEditable ? '' : 'disabled' %>\n/>\n"},function(t,e){t.exports="<select class=\"select2 value\" name=\"filter-value\" <%- isEditable ? '' : 'disabled' %>>\n    <option value=\"all\"<%- value === null ? ' selected' : '' %>><%- labels.valueChoices.all %></option>\n    <option value=\"enabled\"<%- value === true ? ' selected' : '' %>><%- labels.valueChoices.enabled %></option>\n    <option value=\"disabled\"<%- value === false ? ' selected' : '' %>><%- labels.valueChoices.disabled %></option>\n</select>\n"},function(t,e){t.exports="<select class=\"select2 operator\" <%- isEditable ? '' : 'disabled' %> name=\"filter-operator\">\n    <% _.each(operatorChoices, function (operatorChoice) { %>\n        <option value=\"<%- operatorChoice %>\"<%- operator === operatorChoice ? ' selected' : '' %>>\n            <%- __('pim_enrich.export.product.filter.updated.operators.' + operatorChoice) %>\n        </option>\n    <% }); %>\n</select>\n<% if ('>' === operator) { %>\n    <span class=\"date-wrapper\">\n        <input name=\"filter-value-updated\" class=\"AknTextField add-on value\" type=\"text\" <%- isEditable ? '' : 'disabled' %> value=\"<%- value ? value : '' %>\">\n    </span>\n<% } else if ('SINCE LAST N DAYS' === operator) { %>\n    <input name=\"filter-value-updated\" class=\"AknTextField AknTextField--noLeftRadius\" type=\"text\" value=\"<%- value ? value : '' %>\"<%- isEditable ? '' : ' disabled' %>>\n<% } %>\n"},function(t,e){t.exports="<select class=\"select2 operator\" <%- isEditable ? '' : 'disabled' %> name=\"filter-operator\">\n    <% _.each(operatorChoices, function (operatorChoice) { %>\n        <option value=\"<%- operatorChoice %>\"<%- operator === operatorChoice ? ' selected' : '' %>>\n            <%- __('pim_enrich.export.product.filter.completeness.operators.' + operatorChoice) %>\n        </option>\n    <% }); %>\n</select>\n"},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(8),i(7),i(2),i(20),i(10),i(5),i(6),i(522),i(114)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c){return i.View.extend({template:e.template(c),config:{core:{animation:200,html_titles:!0,strings:{loading:r("pim_common.loading")}},plugins:["themes","json_data","ui","types","checkbox"],checkbox:{two_state:!0,real_checkboxes:!0},themes:{dots:!0,icons:!0},types:{max_depth:-2,max_children:-2,valid_children:["folder"],types:{default:{valid_children:"folder"}}},ui:{select_limit:1,select_multiple_modifier:!1}},currentTree:null,attributes:{categories:[]},checkNode:function(t){var i=t.rslt.obj.data("code")+"";""===i?(t.inst.get_container_ul().find("li.jstree-checked:not(.jstree-all)").each(function(){t.inst.uncheck_node(this)}),this.attributes.categories=[]):(!e.contains(this.attributes.categories,i)&&this.attributes.categories.push(i),t.inst.uncheck_node(t.inst.get_container_ul().find("li.jstree-all")))},uncheckNode:function(t){var i=t.rslt.obj.data("code").toString();""!==i&&(this.attributes.categories=e.without(this.attributes.categories,i))},loadNode:function(t){var i=t.rslt.obj;-1===i?t.inst.create_node(t.inst.get_container(),"last",{attr:{id:"node_",class:"jstree-unclassified jstree-all separated","data-code":""},data:{title:r("jstree.all")}},function(e){0===this.attributes.categories.length&&t.inst.check_node(e)}.bind(this),!0):e.contains(this.attributes.categories,i.data("code"))&&t.inst.check_node(i)},render:function(){var i=new o;i.render().$el.appendTo(this.$el.parent()),i.show(),s.initialize().then(function(){s.getFetcher("channel").fetch(this.attributes.channel).then(function(i){return t.when(s.getFetcher("category").fetch(i.category_tree)).then(function(t){this.$el.html(this.template({tree:t,label:a.getLabel(t.labels,l.get("uiLocale"),t.code)}));var i=this.attributes.categories;this.$(".root").jstree(e.extend(this.config,{json_data:{ajax:{dataType:"json",method:"POST",url:function(e){return-1===e&&0<i.length?n.generate("pim_enrich_category_rest_list_selected_children",{identifier:t.code}):n.generate("pim_enrich_categorytree_children",{_format:"json"})}.bind(this),data:function(t){return-1===t?{id:this.get_container().data("tree-id"),selected:i}:{id:t.attr("id").replace("node_","")}}}}})).on("check_node.jstree",function(t,e){this.checkNode(e)}.bind(this)).on("uncheck_node.jstree",function(t,e){this.uncheckNode(e)}.bind(this)).on("load_node.jstree",function(t,e){this.loadNode(e)}.bind(this))}.bind(this))}.bind(this)).done(function(){this.$el.parent().find(".loading-mask").remove()}.bind(this))}.bind(this))}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<h4><%- label %></h4>\n<hr>\n<div class="root categories-selector-tree" data-tree-id="<%- tree.id %>"></div>\n'},function(t,e){t.exports='<div class="AknTextField <%- isEditable ? \'AknTextField--withRightButton\' : \'AknTextField--disabled\' %>">\n    <%- labelInfo %>\n    <% if (isEditable) { %>\n    <button type="button" class="AknButton AknButton--action AknButton--small edit" title="<%- titleEdit %>">\n        <%- labelEdit %>\n    </button>\n    <% } %>\n</div>\n'},function(t,e){t.exports="<textarea\n    class=\"AknTextareaField identifier\"\n    name=\"filter-value\"\n    <%- isEditable ? '' : 'disabled' %>\n><%- value %></textarea>\n"},function(t,e){t.exports='<div class="switch switch-small" data-on-label="<%- labels.on %>" data-off-label="<%- labels.off %>">\n    <input type="checkbox" name="filter-value" <%- value ? \'checked\' : \'\' %> <%- editable ? \'\' : \'disabled\' %>>\n</div>\n'},function(t,e){t.exports="<select class=\"select2 operator\" <%- editable ? '' : 'disabled' %> name=\"filter-operator\">\n    <% _.each(operators, function (operatorChoiceLabel, operatorChoice) { %>\n        <option value=\"<%- operatorChoice %>\"<%- operator === operatorChoice ? ' selected' : '' %>>\n            <%- operatorChoiceLabel %>\n        </option>\n    <% }); %>\n</select>\n\n<% if (!_.contains(['EMPTY', 'NOT EMPTY'], operator)) { %>\n    <input type=\"text\" name=\"filter-value\" class=\"AknTextField AknTextField--noLeftRadius value\" value=\"<%- value %>\" <%- editable ? '' : 'disabled' %>/>\n<% } %>\n"},function(t,e){t.exports="<select class=\"select2 operator\" name=\"filter-operator\" <%- editable ? '' : 'disabled' %>>\n    <% _.each(operators, function (operatorChoiceLabel, operatorChoice) { %>\n        <option value=\"<%- operatorChoice %>\"<%- operator === operatorChoice ? ' selected' : '' %>>\n            <%- operatorChoiceLabel %>\n        </option>\n    <% }); %>\n</select>\n\n<% if (!_.contains(['EMPTY', 'NOT EMPTY'], operator)) { %>\n    <input type=\"text\" name=\"filter-data\" class=\"AknTextField AknTextField--noRightRadius AknTextField--noLeftRadius value\" value=\"<%- value.amount %>\" <%- editable ? '' : 'disabled' %>>\n\n    <select class=\"select2 unit\" name=\"filter-unit\" <%- editable ? '' : 'disabled' %>>\n        <% _.each(_.keys(units.units), function (key) { %>\n            <option value=\"<%- key %>\"<%- value.unit === key ? ' selected' : '' %>>\n                <%- __(`pim_measure.units.${key}`) %>\n            </option>\n        <% }); %>\n    </select>\n<% } %>\n"},function(t,e){t.exports="<select class=\"select2 operator\" <%- editable ? '' : 'disabled' %> name=\"filter-operator\">\n    <% _.each(operators, function (operatorChoiceLabel, operatorChoice) { %>\n        <option value=\"<%- operatorChoice %>\"<%- operator === operatorChoice ? ' selected' : '' %>>\n            <%- operatorChoiceLabel %>\n        </option>\n    <% }); %>\n</select>\n\n<% if (!_.contains(['EMPTY', 'NOT EMPTY'], operator)) { %>\n    <input type=\"text\" name=\"filter-data\" class=\"AknTextField AknTextField--noRightRadius AknTextField--noLeftRadius value\" value=\"<%- value.amount %>\" <%- editable ? '' : 'disabled' %>>\n\n    <select class=\"select2 currency\" name=\"filter-currency\" <%- editable ? '' : 'disabled' %>>\n        <% _.each(currencies, function (currencyChoice) { %>\n            <option value=\"<%- currencyChoice.code %>\"<%- value.currency === currencyChoice.code ? ' selected' : '' %>>\n                <%- currencyChoice.code %>\n            </option>\n        <% }); %>\n    </select>\n<% } %>\n"},function(t,e){t.exports="<select class=\"select2 operator\" <%- editable ? '' : 'disabled' %> name=\"filter-operator\">\n    <% _.each(operators, function (operatorChoiceLabel, operatorChoice) { %>\n        <option value=\"<%- operatorChoice %>\"<%- operator === operatorChoice ? ' selected' : '' %>>\n            <%- operatorChoiceLabel %>\n        </option>\n    <% }); %>\n</select>\n\n<% if (!_.contains(['EMPTY', 'NOT EMPTY'], operator)) { %>\n    <input type=\"text\" name=\"filter-value\" class=\"AknTextField AknTextField--noLeftRadius value\" value=\"<%- value %>\" <%- editable ? '' : 'disabled' %>/>\n<% } %>\n"},function(t,e){t.exports="<select class=\"select2 operator\" name=\"filter-operator\" <%- editable ? '' : 'disabled' %>>\n    <% _.each(operators, function (operatorChoiceLabel, operatorChoice) { %>\n        <option value=\"<%- operatorChoice %>\"<%- operator === operatorChoice ? ' selected' : '' %>>\n            <%- operatorChoiceLabel %>\n        </option>\n    <% }); %>\n</select>\n\n<input type=\"hidden\" name=\"filter-value\" class=\"select2 value noLeftBorder\" value=\"<%- value ? value : '' %>\" <%- editable ? '' : 'disabled' %> />\n"},function(t,e){t.exports="<select class=\"select2 operator\" <%- editable ? '' : 'disabled' %> name=\"filter-operator\">\n    <% _.each(operators, function (operatorChoiceLabel, operatorChoice) { %>\n        <option value=\"<%- operatorChoice %>\"<%- operator === operatorChoice ? ' selected' : '' %>>\n            <%- operatorChoiceLabel %>\n        </option>\n    <% }); %>\n</select>\n\n<% if (!_.contains(['EMPTY', 'NOT EMPTY'], operator)) { %>\n    <input type=\"text\" name=\"filter-value\" class=\"AknTextField AknTextField--noLeftRadius value\" value=\"<%- value %>\" <%- editable ? '' : 'disabled' %>>\n<% } %>\n"},function(t,e){t.exports="<select class=\"select2 operator\" <%- isEditable ? '' : 'disabled' %> name=\"filter-operator\">\n    <% _.each(operators, function (operatorChoiceLabel, operatorChoice) { %>\n        <option value=\"<%- operatorChoice %>\"<%- operator === operatorChoice ? ' selected' : '' %>>\n            <%- operatorChoiceLabel %>\n        </option>\n    <% }); %>\n</select>\n\n<% if (!_.contains(['EMPTY', 'NOT EMPTY', 'BETWEEN', 'NOT BETWEEN'], operator)) { %>\n    <span class=\"AknFieldContainer-subContainer start-date-wrapper\">\n        <input name=\"filter-value-start\" class=\"AknTextField AknTextField--noLeftRadius add-on value\" type=\"text\" <%- isEditable ? '' : 'disabled' %> value=\"<%- startValue ? startValue : '' %>\">\n    </span>\n<% } else if (_.contains(['BETWEEN', 'NOT BETWEEN'], operator)) { %>\n    <span class=\"AknFieldContainer-subContainer start-date-wrapper\">\n        <input name=\"filter-value-start\" class=\"AknTextField AknTextField--noLeftRadius add-on value\" type=\"text\" <%- isEditable ? '' : 'disabled' %> value=\"<%- startValue ? startValue : '' %>\">\n    </span>\n    <span class=\"AknFieldContainer-subContainer end-date-wrapper\">\n        <input name=\"filter-value-end\" class=\"AknTextField AknTextField--noLeftRadius add-on value\" type=\"text\" <%- isEditable ? '' : 'disabled' %> value=\"<%- endValue ? endValue : '' %>\">\n    </span>\n<% } %>\n"},function(t,e){t.exports='<div class="AknFullPage AknFullPage--withBottom">\n    <span class="AknButtonList-item AknFullPage-cancel wizard-action" data-action-target="grid"/>\n    <% if (currentStep === \'choose\') { %>\n        <span class="AknButton AknFullPage-ok AknButton--apply<% if (!currentOperation) { %> AknButton--disabled<% } %> wizard-action next" data-action-target="configure">\n            <%- nextLabel %>\n        </span>\n    <% } else if (currentStep === \'configure\') { %>\n        <span class="<%- currentStep %> AknButton AknButton--apply AknFullPage-ok wizard-action next" data-action-target="confirm">\n            <%- nextLabel %>\n        </span>\n        <span class="<%- currentStep %> AknButton AknButton--grey AknFullPage-previous wizard-action" data-action-target="choose">\n            <%- previousLabel %>\n        </span>\n    <% } else if (currentStep === \'confirm\') { %>\n        <span class="<%- currentStep %> AknButton AknButton--grey AknFullPage-previous wizard-action" data-action-target="choose">\n            <%- previousLabel %>\n        </span>\n    <% } %>\n\n    <% if (currentStep === \'choose\') { %>\n    <div class="AknFullPage-content">\n        <div class="AknFullPage-titleContainer">\n            <div class="AknFullPage-subTitle"><%- title %></div>\n            <div class="AknFullPage-title"><%= labelCount %></div>\n        </div>\n        <div class="AknSquareList">\n            <div class="step"></div>\n        </div>\n    </div>\n    <% } else { %>\n    <div class="AknFullPage-content AknFullPage-content--withIllustration">\n        <div>\n            <div class="AknFullPage-image AknFullPage-illustration AknFullPage-illustration--<%- illustrationClass %>"></div>\n        </div>\n        <div>\n            <div class="AknFullPage-titleContainer">\n                <div class="AknFullPage-subTitle"><%- title %></div>\n                <div class="AknFullPage-title"><%= labelCount %></div>\n                <% if (description) { %>\n                <div class="AknFullPage-description">\n                    <%- description %>\n                </div>\n                <% } %>\n            </div>\n            <% if (currentStep === \'confirm\') { %>\n            <div class="AknMessageBox AknMessageBox--warning AknMessageBox--withIcon">\n                <%- confirm %>\n            </div>\n            <% } %>\n            <div class="step"></div>\n            <% if (currentStep === \'confirm\') { %>\n            <div class="AknButtonList AknButtonList--single">\n                <div class="AknButton AknButtonList-item AknButton--apply wizard-action" data-action-target="validate">\n                    <%- confirmLabel %>\n                </div>\n            </div>\n            <% } %>\n        </div>\n    </div>\n    <% } %>\n\n    <div class="AknFullPage-bottom">\n        <div class="AknSteps">\n            <div class="AknSteps-step<% if (currentStepNumber > 0) { %> AknSteps-step--checked<% } %>">\n                <div class="AknSteps-stepCircle"></div>\n                Select action\n            </div>\n            <% if (currentStep === \'choose\') { %>\n            <div class="AknSteps-step AknSteps-step--undefined">\n                <div class="AknSteps-stepCircle"></div>\n            </div>\n            <div class="AknSteps-step AknSteps-step--undefined">\n                <div class="AknSteps-stepCircle"></div>\n            </div>\n            <% } else { %>\n            <div class="AknSteps-step<% if (currentStepNumber > 1) { %> AknSteps-step--checked<% } %>">\n                <div class="AknSteps-stepCircle"></div>\n                <%- label %>\n            </div>\n            <div class="AknSteps-step<% if (currentStepNumber > 2) { %> AknSteps-step--checked<% } %>">\n                <div class="AknSteps-stepCircle"></div>\n                <%- confirmLabel %>\n            </div>\n            <% } %>\n        </div>\n    </div>\n</div>\n'},function(t,e){t.exports='<% _.each(operations, function (operation) { %>\n    <div class="AknSquareList-item<%- (operation.code === currentOperation) ? \' AknSquareList-item--selected\' : \'\' %> operation" data-code="<%- operation.code %>">\n        <img src="/bundles/pimui/images/bulk/<%- operation.icon %>.svg" class="AknSquareList-icon">\n        <img src="/bundles/pimui/images/bulk/<%- operation.icon %>_selected.svg" class="AknSquareList-icon AknSquareList-icon--selected">\n        <div><%- operation.label %></div>\n    </div>\n<% }); %>\n'},function(t,e){t.exports='<div class="AknDropdown AknButtonList-item association-type-selector">\n    <a class="AknActionButton AknActionButton--important AknActionButton--withoutBorder" data-toggle="dropdown">\n        <span class="AknActionButton-highlight"><%- i18n.getLabel(associationType.labels, locale, associationType.code) %></span>\n        <span class="AknActionButton-caret"></span>\n    </a>\n    <ul class="associations-list AknDropdown-menu">\n        <div class="AknDropdown-menuTitle"><%- label %></div>\n        <% _.each(associationTypes, function (associationTypeSwitch) { %>\n            <li data-association-type="<%- associationTypeSwitch.code %>">\n                <a class="AknDropdown-menuLink<% if (associationType === associationTypeSwitch) { %> AknDropdown-menuLink--active<% } %> label">\n                    <%- i18n.getLabel(associationTypeSwitch.labels, locale, associationTypeSwitch.code) %>\n                </a>\n            </li>\n        <% }) %>\n    </ul>\n</div>\n\n<div class="AknButtonList AknButtonList--right">\n    <div class="AknButton AknButton--action AknButtonList-item add-associations">\n        <%- addAssociationsLabel %>\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="AknGrid--gallery AknColumnConfigurator-listContainer">\n    <div class="AknGridContainer AknGridContainer--withCheckbox">\n        <div class="AknGrid">\n            <div class="AknGrid-body AknGrid-body--small basket-inner">\n                <% if (!_.isEmpty(items)) { %>\n                <% _.each(items, function (item) { %>\n                <div class="AknGrid-bodyRow AknGrid-bodyRow--thumbnail AknGrid-bodyRow--withoutTopBorder">\n                    <div class="AknGrid-fullImage AknGrid-fullImage--small" style="background-image: url(\'<%- imagePathMethod(item) %>\')"></div>\n                    <div class="AknGrid-title"><%- labelMethod(item) %></div>\n                    <div class="AknGrid-subTitle"><%- item[\'identifier\'] %></div>\n                </div>\n                <% }); %>\n                <% } else { %>\n                <div class="empty-basket">\n                    <%- emptyLabel %>\n                </div>\n                <% } %>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="AknFormContainer AknFormContainer--withPadding">\n    <div class="AknFieldContainer">\n        <div class="AknFieldContainer-header">\n            <label class="AknFieldContainer-label control-label AknFieldContainer-label required" for="pim_enrich_mass_edit_choose_action_operation_enable">\n                <%- labels.field %>\n            </label>\n        </div>\n        <div class="AknFieldContainer-inputContainer field-input">\n            <div class="switch switch-small" data-on-label="<%- labels.on %>" data-off-label="<%- labels.off %>">\n                <input type="checkbox" name="enabled" id="pim_enrich_mass_edit_choose_action_operation_enable" <%- value ? \'checked\' : \'\' %> <%- readOnly ? \'readonly disabled\' : \'\' %>/>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(12),i(7),i(68),i(6),i(14),i(5),i(10),i(23),i(539)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c,u,d){return o.extend({className:"AknGridContainer--withoutNoDataPanel",template:e.template(d),errors:null,formPromise:null,channel:null,locales:[],configure:function(){return t.when(l.getFetcher("channel").fetch(a.get("catalogScope"),{force_list_method:!0}),l.getFetcher("locale").search({activated:!0,cached:!1})).then((t,e)=>{this.channel=t,this.locales=e})},reset:function(){this.setValue({})},render:function(){var t={meta:{},values:this.getValue()};return this.formPromise||(this.formPromise=s.build(this.config.innerForm).then(function(e){return e.setData(t),e.trigger("pim_enrich:form:entity:post_fetch",t),this.listenTo(e,"pim_enrich:mass_edit:model_updated",this.updateModel),e}.bind(this))),this.formPromise.then(function(e){if(this.$el.html(this.template()),e.setElement(this.$(".edit-common-attributes")).render(),e.trigger("pim_enrich:form:update_read_only",this.readOnly),this.$el.find(".navigation").remove(),this.$el.find(".AknDefault-thirdColumnContainer").remove(),this.$el.find(".AknDefault-mainContent").addClass("AknDefault-mainContent--withoutPadding").css({"overflow-x":"hidden"}),this.errors){var i={sentData:t,response:{values:this.errors}};e.trigger("pim_enrich:form:entity:bad_request",i)}}.bind(this)),this},updateModel:function(t){this.setValue(t.values)},getDescription:function(){return i(this.config.description,{locale:e.findWhere(this.locales,{code:a.get("catalogLocale")}).label,scope:c.getLabel(this.channel.labels,a.get("catalogLocale"),this.channel.code)})},setValue:function(t){var e=this.getFormData();e.actions=[{normalized_values:t,ui_locale:a.get("uiLocale"),attribute_locale:a.get("catalogLocale"),attribute_channel:a.get("catalogScope")}],this.setData(e)},getValue:function(){var t=e.first(this.getFormData().actions);return t?t.normalized_values:null},validate:function(){var o=this.getFormData(),a=u.accessProperty(o,"actions.0.normalized_values",{});return 0===Object.keys(a).length?(n.notify("error",i("pim_enrich.mass_edit.product.operation.edit_common.no_update")),t.Deferred().resolve(!1)):t.ajax({method:"POST",contentType:"application/json",data:JSON.stringify(this.getValue()),url:r.generate("pim_enrich_value_rest_validate")}).then(function(t){return e.isEmpty(t.values)?this.errors={}:(this.errors=t.values,this.render()),e.isEmpty(this.errors)}.bind(this))}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<div class="edit-common-attributes"></div>\n'},function(t,e){t.exports='<div data-drop-zone="fields">\n</div>\n'},function(t,e){t.exports='<div class="AknFormContainer AknFormContainer--withPadding">\n    <div class="AknFieldContainer">\n        <div class="AknFieldContainer-header">\n            <label class="AknFieldContainer-label control-label AknFieldContainer-label required" for="pim_enrich_mass_edit_choose_action_operation_change_family">\n                <%- label %>\n            </label>\n        </div>\n        <div class="AknFieldContainer-inputContainer field-input">\n            <input id="pim_enrich_mass_edit_choose_action_operation_change_family" type="hidden" class="input-large family select-field"\n                   value="<%- value !== null ? value : \'\' %>"\n                   <%- readOnly ? \'readonly disabled\' : \'\' %>\n                   <%- value ? \' selected\' : \'\' %>\n                   data-placeholder="<%- _.__(\'pim_enrich.entity.product.module.change_family.empty_selection\') %>"\n            />\n        </div>\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="AknFormContainer AknFormContainer--withPadding" data-drop-zone="inputContainer"></div>\n'},function(t,e){t.exports='<div class="tabbable">\n    <div class="sidebar">\n        <div class="AknHorizontalNavtab nav nav-tabs">\n            <div class="AknButtonList catalog-switcher">\n                <ul class="AknHorizontalNavtab-list nav nav-tabs" id="trees-list">\n                <% _.each(trees, function (tree) { %>\n                <li class="AknHorizontalNavtab-item tree-selector <% if (tree.code === currentTree.code) { %> active<% } %>" data-tree="<%- tree.code %>" data-tree-id="<%- tree.id %>">\n                    <div class="AknHorizontalNavtab-link" id="tree-link-<%- tree.id %>">\n                        <span class="tree-label label"><%- i18n.getLabel(tree.labels, locale, tree.code) %></span>\n                        <div class="AknAcl">\n                            <i class="icon-ok <%- tree.associated ? \'green AknAcl-icon--granted\' : \'gray\' %>"></i>\n                        </div>\n                    </div>\n                </li>\n                <% }) %>\n            </ul>\n            </div>\n        </div>\n    </div>\n    <div class="AknTabContainer-content tab-content">\n        <div class="AknTabContainer-contentCache AknTabContainer-contentCache--hidden content-cache"></div>\n        <div class="tab-pane active">\n            <div id="trees" data-datalocale="<%- locale %>" data-selected-tree="<%- currentTree.id %>">\n                <% _.each(trees, function (tree) { %>\n                    <div id="root-unselectable" class="tree root-unselectable" data-tree-id="<%- tree.id %>">\n                        <div id="tree-<%- tree.id %>" class="buffer-small-left"></div>\n                    </div>\n                <% }); %>\n            </div>\n        </div>\n    </div>\n</div>\n<input type="hidden" id="hidden-tree-input" value="<%- selectedCategories.join(\',\') %>">\n'},function(t,e,i){"use strict";var n,r;n=[i(116)],void 0===(r=function(t){return t.extend({readOnly:!1,initialize(){t.prototype.initialize.apply(this,arguments),this.readOnly=!1},configure(){return this.listenTo(this,"mass-edit:update-read-only",this.setReadOnly.bind(this)),t.prototype.configure.apply(this,arguments)},isReadOnly(){return this.readOnly||t.prototype.isReadOnly.apply(this,arguments)},setReadOnly(t){this.readOnly=t}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<div class="set-requirements"></div>\n'},function(t,e){t.exports='<div class="tab-content">\n    <header data-drop-zone="header" class="AknAttributeActions tab-header attribute-actions">\n        <div data-drop-zone="edit-actions" class="AknAttributeActions-editActions attribute-edit-actions">\n            <div data-drop-zone="context-selectors" class="AknButtonList AknAttributeActions-contextSelectors context-selectors"></div>\n            <div data-drop-zone="other-actions" class="AknAttributeActions-otherActions AknButtonList AknButtonList--vertical other-actions"></div>\n        </div>\n    </header>\n    <div class="tab-pane active object-values"></div>\n</div>\n'},function(t,e){t.exports='<div class="AknFormContainer AknFormContainer--withPadding">\n    <div class="AknFieldContainer">\n        <div class="AknFieldContainer-header">\n            <label class="AknFieldContainer-label" title="<%- __(\'pim_common.code\') %>">\n                <%- __(\'pim_common.code\') %> <em><%- __(\'pim_common.required_label\') %></em>\n            </label>\n        </div>\n        <div class="AknFieldContainer-inputContainer field-input">\n            <input class="AknTextField" type="text" name="code">\n        </div>\n    </div>\n    <div class="AknFieldContainer">\n        <div class="AknFieldContainer-header">\n            <label class="AknFieldContainer-label">\n                <%- __(\'pim_common.label\') %> <span><%= i18n.getFlag(locale) %></span>\n            </label>\n        </div>\n        <div class="AknFieldContainer-inputContainer field-input">\n            <input class="AknTextField input-large" type="text" name="label-<%- locale %>" data-locale="<%- locale %>">\n        </div>\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="tabsection-title">\n    <%- sectionTitle %>\n</div>\n<div class="tabsection-content">\n    <div class="AknFormContainer AknFormContainer--withPadding">\n        <div class="AknFieldContainer">\n            <div class="AknFieldContainer-header">\n                <label class="AknFieldContainer-label control-label required" for="pim_enrich_group_form_code">\n                    <%- codeLabel %> <em><%- __(\'pim_common.required_label\') %></em>\n                </label>\n            </div>\n            <div class="AknFieldContainer-inputContainer">\n                <input id="pim_enrich_group_form_code" class="AknTextField" type="text" readonly="readonly" disabled="disabled" required="required" value="<%- model.code %>">\n            </div>\n        </div>\n\n        <div class="AknFieldContainer">\n            <div class="AknFieldContainer-header">\n                <label class="AknFieldContainer-label control-label required">\n                    <%- typeLabel %> <em><%- __(\'pim_common.required_label\') %></em>\n                </label>\n            </div>\n            <div class="AknFieldContainer-inputContainer">\n                <select id="pim_enrich_group_form_type" readonly="readonly" disabled="disabled" class="select2 input-large">\n                    <option>[<%- model.type %>]</option>\n                </select>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(t,e){t.exports='<span title="<%- label %>: <%- productCount %>">\n    <%- label %>: <%- productCount %>\n</span>\n'},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e){t.exports='<div class="AknFormContainer AknFormContainer--withPadding" data-drop-zone="form-container"></div>\n<div data-drop-zone="bottom"></div>\n'},function(t,e){t.exports='<div\n    class="AknGridContainer attribute-option-grid"\n    data-attribute-id="<%- attributeId %>"\n    data-locales="<%- JSON.stringify(localeCodes) %>"\n    data-sortable="<%- sortable ? \'1\' : \'0\' %>"\n></div>\n'},function(t,e){t.exports='<select\n    id="pim_enrich_form_<%- fieldId %>"\n    class="select2"\n    name="<%- fieldName %>"\n    data-placeholder="<%- labels.defaultLabel %>"\n    <% if (readOnly) { %>readonly disabled<% } %>\n>\n    <option value=""<% if (!value) { %> selected<% } %>></option>\n    <% _.each(groups, function (group) { %>\n        <option\n            value="<%- group.code %>"\n            <% if (group.code === value) { %> selected<% } %>\n        >\n            <%- i18n.getLabel(group.labels, locale, group.code) %>\n        </option>\n    <% }); %>\n</select>\n'},function(t,e){t.exports='<div class="switch switch-small" data-on-label="<%- labels.on %>" data-off-label="<%- labels.off %>">\n    <input\n        id="pim_enrich_form_<%- fieldId %>"\n        type="checkbox"\n        name="<%- fieldName %>"\n        <% if (value) { %> checked<% } %>\n        <% if (readOnly) { %>readonly disabled<% } %>\n    >\n</div>\n'},function(t,e){t.exports='<input\n    id="pim_enrich_form_<%- fieldId %>"\n    class="AknTextField"\n    type="text"\n    name="<%- fieldName %>"\n    value="<%- value %>"\n    <% if (readOnly) { %>readonly disabled<% } %>\n>\n'},function(t,e,i){var n,r,o={formNames:{pim_reference_data_multiselect:{create:"pim-attribute-form-ref-data-multi",edit:"pim-attribute-form-ref-data-multi"},pim_reference_data_simpleselect:{create:"pim-attribute-form-ref-data-simple",edit:"pim-attribute-form-ref-data-simple"},pim_catalog_date:{create:"pim-attribute-form-date",edit:"pim-attribute-form-date"},pim_catalog_file:{create:"pim-attribute-form-file",edit:"pim-attribute-form-file"},pim_catalog_identifier:{create:"pim-attribute-form-identifier",edit:"pim-attribute-form-identifier"},pim_catalog_image:{create:"pim-attribute-form-image",edit:"pim-attribute-form-image"},pim_catalog_metric:{create:"pim-attribute-form-metric-create",edit:"pim-attribute-form-metric-edit"},pim_catalog_multiselect:{create:"pim-attribute-form-select",edit:"pim-attribute-form-select"},pim_catalog_number:{create:"pim-attribute-form-number",edit:"pim-attribute-form-number"},pim_catalog_price_collection:{create:"pim-attribute-form-price",edit:"pim-attribute-form-price"},pim_catalog_simpleselect:{create:"pim-attribute-form-select",edit:"pim-attribute-form-select"},pim_catalog_text:{create:"pim-attribute-form-text",edit:"pim-attribute-form-text"},pim_catalog_textarea:{create:"pim-attribute-form-textarea",edit:"pim-attribute-form-textarea"},pim_catalog_boolean:{create:"pim-attribute-form-boolean",edit:"pim-attribute-form-boolean"}}};n=[i(0)],void 0===(r=function(t){return{getFormName:function(e,i){return t.has(o.formNames,e)?o.formNames[e][i]:null}}}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<span class="AknBreadcrumb-item AknBreadcrumb-item--routable breadcrumb-tab" data-code="<%- breadcrumbTab.code %>"><%- breadcrumbTab.label %></span>\n<% if (null !== breadcrumbItem) { %>\n    <span class="AknBreadcrumb-item <%- breadcrumbItem.active ? \'AknBreadcrumb-item--routable\' : \'AknBreadcrumb-item--final\' %> breadcrumb-item" data-code="<%- breadcrumbItem.code %>"><%- breadcrumbItem.label %></span>\n<% } %>\n'},function(t,e){t.exports='<div class="tabsection-title">\n    <%- sectionTitle %>\n</div>\n<div class="tabsection-content">\n    <div class="AknFormContainer AknFormContainer--withPadding">\n        <div class="AknFieldContainer">\n            <div class="AknFieldContainer-header">\n                <label class="control-label required" for="<%- inputField %>">\n                    <%- codeLabel %> <em><%- formRequired %></em>\n                </label>\n            </div>\n            <div class="AknFieldContainer-inputContainer">\n                <input id="<%- inputField %>" class="AknTextField" type="text" <%- false === hasId ? \'\' : \'readonly disabled\' %> required value="<%- model.code %>">\n            </div>\n        </div>\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="tabsection-title">\n    <%- sectionTitle %>\n</div>\n<div class="tabsection-content">\n    <div class="AknFormContainer AknFormContainer--withPadding" data-drop-zone="general-select-fields">\n        <div class="AknFieldContainer">\n            <div class="AknFieldContainer-header">\n                <label class="AknFieldContainer-label control-label required" for="pim_enrich_entity_form_code">\n                    <%- label %> <em><%- requiredLabel %></em>\n                </label>\n            </div>\n            <div class="AknFieldContainer-inputContainer">\n                <input id="pim_enrich_entity_form_code" class="AknTextField code" type="text"\n                    <%- false === hasId ? \'\' : \'readonly disabled\' %>\n                    required value="<%- code %>">\n            </div>\n            <div class="AknFieldContainer-footer">\n                <div class="AknFieldContainer-validationErrors validation-errors">\n                    <% _.each(errors, function (error) { %>\n                        <div class="AknFieldContainer-validationError">\n                            <%- error %>\n                        </div>\n                    <% }); %>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(6),i(3),i(9),i(5),i(561)],void 0===(r=function(t,e,i,n,r,o,a,s){return r.extend({tagName:"ul",className:"AknVerticalNavtab nav nav-tabs group-selector",all:{},template:e.template(s),elements:[],badges:{},events:{"click li":"change"},initialize:function(){this.badges={},this.elements=[],r.prototype.initialize.apply(this,arguments)},configure:function(){return r.prototype.configure.apply(this,arguments).then(()=>a.getFetcher("locale").fetchActivated().then(t=>{this.all={code:"all_attribute_groups",labels:{},sort_order:-1},t.forEach(t=>{this.all.labels[t.code]=i("pim_common.all")})}))},render:function(){return this.$el.empty(),this.$el.html(this.template({current:this.getCurrent(),elements:this.getElements(),badges:this.badges})),this.delegateEvents(),this},setElements:function(t){this.elements=t,this.elements[this.all.code]=this.all,this.ensureDefault()},change:function(t){this.setCurrent(t.currentTarget.dataset.element)},getCurrent:function(){return sessionStorage.getItem("current_select_group_"+this.code)},setCurrent:function(t,e){e=e||{silent:!1},t!==this.getCurrent()&&(sessionStorage.setItem("current_select_group_"+this.code,t),!e.silent&&this.trigger("group:change"),this.render())},ensureDefault:function(){(e.isUndefined(this.getCurrent())||!this.getElements()[this.getCurrent()])&&(!this.elements[this.all.code]&&(this.elements[this.all.code]=this.all),this.setCurrent(this.all.code,{silent:!0}))},getCurrentElement:function(){return this.getElements()[this.getCurrent()]},getElements:function(){return this.elements},addToBadge:function(t,e){this.badges[t]||(this.badges[t]={}),this.badges[t][e]||(this.badges[t][e]=0),this.badges[t][e]++,this.render()},removeBadges:function(t){t?e.each(this.badges,function(e){delete e[t]}.bind(this)):this.badges={},this.render()},isAll:function(){return this.getCurrent()===this.all.code}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<% _.each(elements, function (element) { %>\n    <li class="AknVerticalNavtab-item <%- current === element.code ? \'active\' : \'\' %>" data-element="<%- element.code %>">\n        <a class="AknVerticalNavtab-link <%- current === element.code ? \'AknVerticalNavtab-link--active\' : \'\' %>">\n            <span class="group-label label"><%- element.label %></span>\n            <span class="badge-elements-container">\n                <% _.each(badges[element.code], function(badge, type) { %>\n                    <span class="AknBadge AknBadge--<%- type %> <%- type %>-badge label"><%- badge %></span>\n                <% }) %>\n            </span>\n        </a>\n    </li>\n<% }); %>\n'},function(t,e){t.exports='<div class="AknActionButton AknActionButton--withoutBorder" data-toggle="dropdown">\n    <%- label %>:\n    <span class="AknActionButton-highlight">\n        <%- i18n.getLabel(currentElement.labels, locale, currentElement.code) %>\n    </span>\n    <span class="AknActionButton-caret"></span>\n</div>\n<ul class="AknDropdown-menu AknDropdown-menu--right">\n    <li class="AknDropdown-menuTitle"><%- label %></li>\n    <% _.each(elements, function (element) { %>\n        <li class="<%- current === element.code ? \'active\' : \'\' %>" data-element="<%- element.code %>">\n            <div class="AknDropdown-menuLink <%- current === element.code ? \'AknDropdown-menuLink--active\' : \'\' %>">\n                <span class="label"><%- i18n.getLabel(element.labels, locale, element.code) %></span>\n                <span class="badge-elements-container">\n                    <span class="AknBadge AknBadge--small AknBadge--highlight <%- !_.contains(toFillAttributeGroups, element.code) && !(element.code === allAttributeCode && 0 < toFillAttributeGroups.length) ? \'AknBadge--hidden\' : \'\' %>"></span>\n                    <% _.each(badges[element.code], function(badge, type) { %>\n                        <span class="AknBadge AknBadge--<%- type %> <%- type %>-badge label"><%- badge %></span>\n                    <% }) %>\n                </span>\n            </div>\n        </li>\n    <% }); %>\n</ul>\n'},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(8),i(3),i(564)],void 0===(r=function(t,e,i,n,r){return n.extend({template:e.template(r),className:"tabbable tabs-top",tabs:[],urlParsed:!1,events:{"click header ul.nav-tabs li":"selectTab"},currentKey:"current_form_tab",config:{},initialize:function(t){this.config=e.extend({},{centered:!1},t.config),this.tabs=[],n.prototype.initialize.apply(this,arguments)},configure:function(){return this.onExtensions("tab:register",this.registerTab.bind(this)),this.listenTo(this.getRoot(),"pim_enrich:form:form-tabs:change",this.setCurrentTab),n.prototype.configure.apply(this,arguments)},registerTab:function(t){this.tabs.push({code:t.code,isVisible:t.isVisible,label:t.label}),this.render()},render:function(){if(!this.configured||e.isEmpty(this.tabs))return this;var t=this.getTabs();this.ensureDefault(),this.$el.html(this.template({tabs:t,currentTab:this.getCurrentTab(),centered:this.config.centered})),this.delegateEvents(),this.initializeDropZones();var i=this.getTabExtension(this.getCurrentTab());i&&(this.getZone("container").appendChild(i.el),this.renderExtension(i));var n=this.getExtension("panels");return n&&(this.getZone("panels").appendChild(n.el),this.renderExtension(n)),this},getTabs:function(){var t=e.clone(this.tabs);return t=e.filter(t,function(t){return!e.isFunction(t.isVisible)||t.isVisible()})},selectTab:function(t){this.setCurrentTab(t.currentTarget.dataset.tab)},setCurrentTab:function(t){return this.getCurrentTab()!==t&&(sessionStorage.setItem(this.currentKey,t),this.render()),this},getCurrentTab:function(){return sessionStorage.getItem(this.currentKey)},ensureDefault:function(){var t=this.getTabs();!e.isNull(sessionStorage.getItem("redirectTab"))&&e.findWhere(t,{code:sessionStorage.getItem("redirectTab").substring(1)})&&(this.setCurrentTab(sessionStorage.redirectTab.substring(1)),sessionStorage.removeItem("redirectTab"));var i=e.isNull(this.getCurrentTab()),n=!e.findWhere(t,{code:this.getCurrentTab()});(i||n)&&e.first(t)&&this.setCurrentTab(e.first(t).code)},getTabExtension:function(t){return this.extensions[e.find(this.extensions,function(e){var i=e.config&&e.config.tabCode?e.config.tabCode:e.code,n=i.length-t.length;return 0<=n&&n===i.indexOf(t,n)}).code]}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<header class="AknHorizontalNavtab <% if (centered) { %> AknHorizontalNavtab--centered<% } %>">\n    <ul class="AknHorizontalNavtab-list nav nav-tabs form-tabs">\n        <% _.each(tabs, function (tab) { %>\n            <li class="AknHorizontalNavtab-item<% if (currentTab === tab.code) { %> active<% } %>" data-tab="<%- tab.code %>">\n                <a class="AknHorizontalNavtab-link <% if (currentTab === tab.code) { %> AknHorizontalNavtab-link--active<% } %>" href="javascript:void(0);"><%- tab.label %></a>\n            </li>\n        <% }); %>\n    </ul>\n</header>\n<div class="AknTabContainer-contentThreeColumns form-container form-horizontal">\n    <div data-drop-zone="container" class="tab-container tab-content"></div>\n</div>\n'},function(t,e){t.exports='<div data-drop-zone="container" class="tab-container tab-content"></div>\n'},function(t,e){t.exports='<div class="AknColumn-title"><%= title %></div>\n<% _.each(tabs, function (tab) { %>\n    <div class="AknColumn-navigationLink<% if (currentTab === tab.code) { %> AknColumn-navigationLink--active <% } %> column-navigation-link" data-tab="<%- tab.code %>">\n        <%- tab.label %>\n    </div>\n<% }); %>\n'},function(t,e){t.exports='<% if ((primaryButton) && !(secondaryButtons && secondaryButtons.length)) { %>\n    <button class="AknButton AknButton--apply <%- primaryButton.className || \'\' %>">\n        <%- primaryButton.label %>\n    </button>\n<% } else { %>\n    <div class="AknSeveralActionsButton AknSeveralActionsButton--apply AknDropdown">\n        <button class="AknSeveralActionsButton-mainAction <%- primaryButton.className || \'\' %>">\n            <%- primaryButton.label %>\n        </button>\n        <button class="AknSeveralActionsButton-caretContainer" data-toggle="dropdown">\n            <img src="/bundles/pimui/images/icon-down-white.svg" class="AknSeveralActionsButton-caret"/>\n        </button>\n        <ul class="AknSeveralActionsButton-menu AknDropdown-menu AknDropdown-menu--right">\n            <% _.each(secondaryButtons, function (btn) { %>\n                <li>\n                    <button type="button" class="AknDropdown-menuLink <%- btn.className || \'\' %>">\n                        <%- btn.label %>\n                    </button>\n                </li>\n            <% }) %>\n        </ul>\n    </div>\n<% } %>\n'},function(t,e){t.exports='<span class="AknState"><%- message %></span>\n'},function(t,e){t.exports='<div class="AknColumn-title"><%- label %></div>\n<div class="meta" data-drop-zone="meta"></div>\n'},function(t,e){t.exports='<div class="AknSubsection-title">\n    <%- title %>\n</div>\n<div data-drop-zone="content"></div>\n'},function(t,e){t.exports='<img src="<%- path %>">\n'},function(t,e){t.exports='<span title="<%- label %>: <%- value %>" id="status">\n    <%- label %>: <%- value %>\n</span>\n'},function(t,e){t.exports='<% if (copying) { %>\n    <div data-drop-zone="context-selectors" class="AknButtonList AknAttributeActions-contextSelectors context-selectors"></div>\n    <div data-drop-zone="other-actions" class="AknAttributeActions-otherActions AknButtonList AknButtonList--right other-actions">\n        <div data-drop-zone="copy-actions" class="AknButtonList AknButtonList--right copy-actions">\n            <div class="AknDropdown AknButtonList-item selection-dropdown">\n                <a class="AknActionButton AknActionButton--withoutBorder" data-toggle="dropdown" href="#">\n                    <span class="AknActionButton-highlight"><%- _.__(\'pim_enrich.entity.product.module.copy.select\') %></span>\n                    <span class="AknActionButton-caret"></span>\n                </a>\n                <ul class="AknDropdown-menu AknDropdown-menu--right">\n                    <li class="AknDropdown-menuTitle"><%- _.__(\'pim_enrich.entity.product.module.copy.select\') %></li>\n                    <li><a class="AknDropdown-menuLink select-all"><%- _.__(\'pim_common.all\') %></a></li>\n                    <li><a class="AknDropdown-menuLink select-all-visible"><%- _.__(\'pim_enrich.entity.product.module.copy.all_visible\') %></a></li>\n                    <li><a class="AknDropdown-menuLink select-none"><%- _.__(\'pim_common.copy.none\') %></a></li>\n                </ul>\n            </div>\n            <div class="AknButtonList-item AknButton AknButton--small AknButton--apply copy"><%- _.__(\'pim_enrich.entity.product.module.copy.copy\') %></div>\n            <div class="AknButtonList-item AknAttributeActions-close AknIconButton--delete stop-copying"></div>\n        </div>\n    </div>\n<% } %>\n'},function(t,e,i){"use strict";var n,r;n=[i(8),i(0),i(41),i(575),i(10),i(9)],void 0===(r=function(t,e,i,n,r,o){return i.extend({tagName:"div",field:null,template:e.template(n),selected:!1,events:{click:"onSelect"},initialize:function(){this.selected=!1,this.field=null,i.prototype.initialize.apply(this,arguments)},render:function(){this.$el.empty();var t={type:this.field.attribute.field_type,label:this.field.getLabel(),config:this.field.config,attribute:this.field.attribute,selected:this.selected,context:this.context,i18n:r};return o.trigger("pim_enrich:form:field:extension:add",{field:this,promises:[]}),this.$el.html(this.template(t)),this.field.renderCopyInput(this.getCurrentValue()).then(function(t){this.$(".field-input").html(t),this.renderElements()}.bind(this)),this.delegateEvents(),this},renderElements:function(){e.each(this.elements,function(t,i){if("field-input"===i){var n=this.$(".field-input");n.empty(),e.each(t,function(t){"function"==typeof t.render?n.append(t.render().$el):n.append(t)}.bind(this))}}.bind(this))},setField:function(t){this.field=t},onSelect:function(){this.selected=!this.selected,this.$(".copy-field-selector").prop("checked",this.selected)},setSelected:function(t){this.selected=t}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<div class="AknComparableFields-copyContainer copy-container">\n    <input type="checkbox" class="AknComparableFields-checkbox copy-field-selector" <%- selected ? \'checked\' : \'\' %>></input>\n    <div class="<%- type %> AknFieldContainer AknComparableFields-item">\n        <div class="AknFieldContainer-header">\n            <label class="AknFieldContainer-label"><%- label %></label>\n            <span class="AknFieldContainer-fieldInfo field-info">\n                <% if (attribute.localizable || attribute.scopable) { %>\n                    <span class="field-context">\n                        <% if (attribute.scopable) { %> <span><%- context.scopeLabel %></span> <% } %>\n                        <% if (attribute.localizable) { %> <span><%= i18n.getFlag(context.locale) %></span> <% } %>\n                    </span>\n                <% } %>\n            </span>\n        </div>\n        <div class="AknFieldContainer-inputContainer field-input">\n        </div>\n    </div>\n</div>\n'},function(t,e){t.exports='<span id="attribute-create-button" class="AknButton AknButton--apply AknButtonList-item">\n    <%- buttonTitle %>\n</span>\n'},function(t,e){t.exports='<div class="AknSquareList">\n  <% _.each(attributeTypes, function(attributeType){ %>\n      <span class="AknSquareList-item attribute-choice"\n          data-route="<%- generateRoute(\'pim_enrich_attribute_create\', { attribute_type: attributeType.code }) %>">\n          <i class="AknButton-squareIcon AknButton-squareIcon--<%- iconsMap[attributeType.code] %>"></i>\n          <div><%- attributeType.label %></div>\n      </span>\n  <% }); %>\n</div>\n'},function(t,e){t.exports='<a id="create-button-extension" class="AknButton AknButton--apply AknButtonList-item" data-form-url="<%- url %>">\n    <%- title %>\n</a>\n'},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(3),i(580),i(581)],void 0===(r=function(t,e,i,n,r){return i.extend({className:"AknColumn",template:t.template(n),navigationTemplate:t.template(r),events:{"click .AknColumn-collapseButton":"toggleColumn","click .navigation-link":"redirect"},navigationItems:[],initialize:function(t){return this.config=t.config,this.navigationItems=[],i.prototype.initialize.apply(this,arguments)},configure:function(){return this.onExtensions("pim_menu:column:register_navigation_item",this.registerNavigationItem),i.prototype.configure.apply(this,arguments)},render:function(){return this.$el.empty().append(this.template()),t.isEmpty(this.getNavigationItems())||this.$el.find(".column-inner").prepend(this.navigationTemplate({navigationItems:this.getNavigationItems(),title:e(this.config.navigationTitle)})),this.isCollapsed()&&this.setCollapsed(!0),i.prototype.render.apply(this,arguments)},toggleColumn:function(){this.setCollapsed(!this.isCollapsed())},isCollapsed:function(){var t=sessionStorage.getItem(this.getSessionStorageKey());return null!==t&&"1"===t},setCollapsed:function(t){sessionStorage.setItem(this.getSessionStorageKey(),t?"1":"0"),t?this.$el.addClass("AknColumn--collapsed"):this.$el.removeClass("AknColumn--collapsed")},getSessionStorageKey:function(){return"collapsedColumn_"+this.config.stateCode},registerNavigationItem:function(t){this.navigationItems.push(t)},getNavigationItems:function(){return t.filter(this.navigationItems,function(e){return!t.isFunction(e.isVisible)||e.isVisible()})},redirect:function(t){this.getRoot().trigger("column-tab:select-tab",t)}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<div class="AknColumn-inner column-inner">\n    <div class="AknColumn-innerTop" data-drop-zone="navigation"></div>\n    <div class="AknColumn-innerBottom" data-drop-zone="bottom"></div>\n</div>\n<div class="AknColumn-collapseButton"></div>\n'},function(t,e){t.exports='<div class="AknColumn-navigation">\n    <div class="AknSecondaryActions AknDropdown">\n        <div class="AknSecondaryActions-button AknSecondaryActions-button--rotated dropdown-button" data-toggle="dropdown"></div>\n        <div class="AknDropdown-menu">\n            <div class="AknDropdown-menuTitle"><%= title %></div>\n            <% _.each(navigationItems, function (navigationItem) { %>\n                <div class="AknDropdown-menuLink navigation-link" data-tab="<%- navigationItem.route %>">\n                    <%- navigationItem.label %>\n                </div>\n            <% }); %>\n        </div>\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="AknSecondaryActions-button dropdown-button" data-toggle="dropdown"></div>\n<div class="AknDropdown-menu AknDropdown-menu--right" data-drop-zone="secondary-actions">\n    <div class="AknDropdown-menuTitle"><%- titleLabel %></div>\n</div>\n'},function(t,e){t.exports='<a class="AknButton <%- buttonClass %>" title="<%- buttonLabel %>" data-title=" <%- title %>"\n   data-dialog="confirm" data-method="POST"\n   data-buttonlabel="<%- buttonLabel %>"\n   data-subtitle="<%- subTitle %>"\n   data-message="<%- message %>" data-url="<%- url %>" data-redirect-url="<%- redirectUrl %>"\n   data-error-message="<%- errorMessage %>" data-success-message="<%- successMessage %>">\n    <%- buttonLabel %>\n</a>\n'},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(8),i(7),i(3),i(14),i(6),i(20),i(11),i(12),i(215),i(23)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c,u,d,p){return o.extend({config:{},template:e.template(d),validationErrors:[],initialize(t){this.config=t.config,o.prototype.initialize.apply(this,arguments)},render(){return this.$el.html(this.template({innerDescription:i(this.config.labels.content),fields:null})),this.renderExtensions(),this},open(){var e=t.Deferred(),r=new n.BootstrapModal({title:i(this.config.labels.title),subtitle:i(this.config.labels.subTitle),picture:this.config.picture,content:"",okText:i("pim_common.save"),okCloses:!1});return r.open(),this.setElement(r.$(".modal-body")).render(),r.$(".modal-body").addClass("creation"),r.on("cancel",()=>{e.reject(),r.remove()}),r.on("ok",this.confirmModal.bind(this,r,e)),e.promise()},confirmModal(t,e){this.save().done(n=>{t.close(),t.remove(),e.resolve();var r={};this.config.routerKey&&this.config.entityIdentifierParamName?r[this.config.routerKey]=p.accessProperty(n,this.config.entityIdentifierParamName,""):this.config.routerKey?r[this.config.routerKey]=n[this.config.routerKey]:r={id:n.meta.id},u.notify("success",i(this.config.successMessage)),c.redirectToRoute(this.config.editRoute,r)})},normalize:t=>(t.values||[]).map(t=>(t.path||(t.path=t.attribute),t)),save(){this.validationErrors={};var n=new l;this.$el.empty().append(n.render().$el.show());var o=t.extend(this.getFormData(),this.config.defaultValues||{});return this.config.excludedProperties&&(o=e.omit(o,this.config.excludedProperties)),t.ajax({url:r.generate(this.config.postUrl),type:"POST",data:JSON.stringify(o)}).fail(function(t){t.responseJSON&&this.getRoot().trigger("pim_enrich:form:entity:bad_request",{sentData:this.getFormData(),response:t.responseJSON.values}),this.validationErrors=t.responseJSON?this.normalize(t.responseJSON):[{message:i("pim_enrich.entity.fallback.generic_error")}],this.render()}.bind(this)).always(()=>n.remove())}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<div class="AknFieldContainer" data-code="type">\n    <div class="AknFieldContainer-header">\n        <label for="type" class="AknFieldContainer-label control-label required">\n            <%- label %> <em><%- required %></em>\n        </label>\n    </div>\n    <div class="AknFieldContainer-inputContainer">\n        <input type="hidden" name="type" id="type" class="select-field" value="<%- type %>" <%- isEditable ? \'disabled\' : \'\' %> data-placeholder="<%- label %>" />\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="AknFieldContainer">\n    <div class="AknFieldContainer-header">\n        <label for="job" class="AknFieldContainer-label control-label required">\n            <%- label %> <em><%- required %></em>\n        </label>\n    </div>\n    <div class="AknFieldContainer-inputContainer">\n        <select name="job" id="job" class="job-input">\n            <option value=""></option>\n            <% for (var job in jobs) { %>\n                <optgroup label="<%- job %>">\n                    <% for (var name in jobs[job]) { %>\n                        <option <%- (name === selectedJobType ? "selected": "") %> value="<%- name %>"><%- __(`batch_jobs.${name}.label`) %></option>\n                    <% } %>\n                </optgroup>\n            <% } %>\n        </select>\n    </div>\n    <div class="AknFieldContainer-footer AknFieldContainer-validationErrors validation-errors">\n        <% _.each(errors, function (error) { %>\n        <span class="AknFieldContainer-validationError">\n                <span class="error-message"><%- error.message %></span>\n            </span>\n        <% }) %>\n    </div>\n</div>\n'},function(t,e){t.exports='<a title="Create product and product models" class="AknButton AknButton--apply AknButtonList-item create-product-button"> <%- buttonTitle %> </a>\n'},function(t,e){t.exports='<div class="AknSquareList AknSquareList--centered">\n<% _.each(choices, function(choice, key) { %>\n    <div class="AknSquareList-item product-choice" title="<%- choice.title %>" data-form="<%- choice.form %>">\n        <img src="/bundles/pimui/images/<%- choice.icon %>.svg" class="AknSquareList-icon">\n        <img src="/bundles/pimui/images/<%- choice.icon %>.svg" class="AknSquareList-icon AknSquareList-icon--selected">\n        <div><%- choice.title %></div>\n    </div>\n<% }); %>\n</div>\n'},function(t,e){t.exports='<div class="AknHeader-menu">\n    <div class="AknHeader-menuBlock" data-drop-zone="mainMenu"></div>\n    <div class="AknHeader-menuBlock AknHeader-menuBlock--space"></div>\n    <div class="AknHeader-menuBlock" data-drop-zone="helpMenu"></div>\n</div>\n<div data-drop-zone="column"></div>\n'},function(t,e){t.exports='<a class="AknHeader-menuItem<% if (active) { %> AknHeader-menuItem--active <% } %>" href="<%- url %>">\n    <div>\n        <span class="AknHeader-menuItemImage AknHeader-menuItemImage--<%= iconModifier %>"></span>\n        <span class="AknHeader-menuItemImage AknHeader-menuItemImage--<%= iconModifier %>"></span>\n    </div>\n    <%- title %>\n</a>\n'},function(t,e){t.exports='<a href="<%- url %>" class="AknColumn-navigationLink<% if (active) { %> AknColumn-navigationLink--active<% } %> navigation-item"><%- title %></a>\n'},function(t,e){t.exports='<a class="AknHeader-menuItem" title="<%= helper %>" href="https://help.akeneo.com/pim/index.html?utm_source=akeneo-app&utm_medium=interrogation-icon&utm_campaign=<%= url %>" target="_blank">\n    <div>\n        <span class="AknHeader-menuItemImage AknHeader-menuItemImage--iconHelp"></span>\n        <span class="AknHeader-menuItemImage AknHeader-menuItemImage--iconHelp"></span>\n    </div>\n    <%- title %>\n</a>\n'},function(t,e){t.exports='<div class="AknColumn-title"><%- title %></div>\n'},function(t,e){t.exports='<div class="AknDropdown">\n    <div class="AknTitleContainer-userIcon"\n        data-toggle="dropdown"\n        title="<%- firstName %> <%- lastName %>"\n        style="background-image:url(\'<%- !_.isEmpty(avatar) ? avatar : \'bundles/pimui/images/info-user.png\' %>\')"\n    ></div>\n    <div class="AknDropdown-menu AknDropdown-menu--right">\n        <div class="AknDropdown-menuTitle"><%- firstName %> <%- lastName %></div>\n        <div class="AknDropdown-menuLink user-account"><%- userAccountLabel %></div>\n        <div class="AknDropdown-menuLink logout"><%- logoutLabel %></div>\n    </div>\n</div>\n\n<div class="AknNotificationMenu AknDropdown dropdown notification"></div>\n'},function(t,e){t.exports='<div class="AknHeader-menuItem">\n    <img class="AknHeader-logoImage" src="/bundles/pimui/images/logo.svg" alt="Akeneo">\n</div>\n'},function(t,e){t.exports='<span class="date-wrapper">\n    <input\n        id="pim_enrich_form_<%- fieldId %>"\n        class="AknTextField add-on value"\n        type="text"\n        name="<%- fieldName %>"\n        value="<%- value %>"\n        <%- readOnly ? \'readonly="readonly"\' : \'\' %>\n    >\n</span>\n'},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=i(0),a=i(103),s=i(598),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.template=o.template(s),e}return r(e,t),e.prototype.events=function(){return{"click .copy":function(t){var e=t.currentTarget.parentElement;null!==e&&(e.getElementsByTagName("input")[0].select(),document.execCommand("copy"))}}},e}(a);t.exports=l},function(t,e){t.exports='<input\n    id="pim_enrich_form_<%- fieldId %>"\n    class="AknTextField AknTextField--noRightRadius AknTextField--disabled"\n    type="text"\n    name="<%- fieldName %>"\n    value="<%- value %>"\n    readonly\n>\n<div class="AknIconButton AknIconButton--light AknIconButton--glued AknIconButton--edit AknFieldContainer-editButton copy" title="<%- __(tooltipLabel) %>"></div>\n'},function(t,e){t.exports='<textarea\n    id="pim_enrich_form_<%- fieldId %>"\n    class="AknTextareaField"\n    name="<%- fieldName %>"\n    <% if (readOnly) { %>readonly disabled<% } %>\n><%- value %></textarea>\n'},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(34),i(2),i(5),i(601)],void 0===(r=function(t,e,i,n,r,o){return i.extend({events:{"keyup input":function(){this.errors=[],this.updateModel(this.getValue())},"change select":function(){this.errors=[],this.updateModel(this.getValue()),this.getRoot().render()}},template:e.template(o),metricFamily:null,defaultMetricUnit:null,initialize(){return this.metricFamily=null,this.defaultMetricUnit=null,i.prototype.initialize.apply(this,arguments)},setMetricFamily(t){this.metricFamily=t},setDefaultMetricUnit(t){this.defaultMetricUnit=t},renderInput(t){return this.template(e.extend(t,{value:{amount:this.getModelValuePart("amount"),unit:this.getModelValuePart("unit")}}))},getModelValuePart(t){return void 0===this.getModelValue()?null:this.getModelValue()[t]},getTemplateContext:function(){return t.when(i.prototype.getTemplateContext.apply(this,arguments),r.getFetcher("measure").fetchAll()).then((t,e)=>Object.assign({},t,{unitChoices:this.formatChoices(e[this.metricFamily].units),defaultUnit:this.defaultMetricUnit}))},postRender(){this.$("select.select2").select2({allowClear:!0})},formatChoices(t){var i=Object.keys(t);return e.object(i,i.map(t=>n(t)))},getValue(){return{amount:this.$(".amount").val(),unit:this.$(".unit").val()}}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<div class="AknMetricField metric-container">\n    <input id="<%- fieldId %>"\n           class="AknTextField AknTextField--noRightRadius amount"\n           value="<%- value.amount %>"\n           <% if (readOnly) { %>readonly disabled<% } %>\n    >\n\n    <select class="AknMetricField-unit unit select-field"\n            <% if (readOnly) { %>readonly disabled<% } %>\n    >\n        <% _.each(_.keys(unitChoices), function(unit) { %>\n            <option value="<%- unit %>"\n                    <% if ((null === value.unit && defaultUnit === unit) || value.unit === unit) { %> selected<% } %>\n            >\n                <%- __(`pim_measure.units.${unit}`) %>\n            </option>\n        <% }); %>\n    </select>\n</div>\n'},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=i(0),a=i(103),s=i(603),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.template=o.template(s),e}return r(e,t),e.prototype.renderInput=function(t){return this.template(Object.assign(t,{value:""}))},e}(a);t.exports=l},function(t,e){t.exports='<input\n    id="pim_enrich_form_<%- fieldId %>"\n    class="AknTextField"\n    type="password"\n    name="<%- fieldName %>"\n    value="<%- value %>"\n    <% if (readOnly) { %>readonly disabled<% } %>\n>\n'},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=i(0),a=i(103),s=i(605),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.template=o.template(s),e}return r(e,t),e}(a);t.exports=l},function(t,e){t.exports='<input\n    id="pim_enrich_form_<%- fieldId %>"\n    class="AknTextField"\n    type="number"\n    name="<%- fieldName %>"\n    value="<%- value %>"\n    <% if (readOnly) { %>readonly disabled<% } %>\n>\n'},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=i(1),a=i(0),s=i(2),l=i(34),c=i(7),u=i(9),d=i(12),p=i(48),h=i(607);i(143);var f=function(t){function e(e){var i=t.call(this,e)||this;return i.template=a.template(h),i.events={'change input[type="file"]':i.uploadMedia,"click .clear-field":i.clearField,"click .open-media":i.openMedia},i}return r(e,t),e.prototype.getTemplateContext=function(){return l.prototype.getTemplateContext.apply(this,arguments).then(function(t){return t.mediaUrlGenerator=p,t})},e.prototype.renderInput=function(t){return this.template(Object.assign(t,{media:this.getFormData()[this.fieldName],readOnly:this.readOnly,uploadLabel:s("pim_common.media_upload")}))},e.prototype.handleProcess=function(t){this.$("> .akeneo-media-uploader-field .progress").css({opacity:1}),this.$("> .akeneo-media-uploader-field .progress .bar").css({width:t.loaded/t.total*100+"%"})},e.prototype.setUploadContextValue=function(t){this.updateModel(t),u.trigger("pim_enrich:form:entity:update_state")},e.prototype.uploadMedia=function(){var t=this,e=this.$('input[type="file"]')[0];if(e&&0!==e.files.length){var i=new FormData;i.append("file",e.files[0]),o.ajax({url:c.generate("pim_enrich_media_rest_post"),type:"POST",data:i,contentType:!1,cache:!1,processData:!1,xhr:function(){var e=o.ajaxSettings.xhr();return e.upload&&e.upload.addEventListener("progress",t.handleProcess.bind(t),!1),e}}).done(function(e){t.setUploadContextValue(e),t.render()}).fail(function(t){var e=t.responseJSON&&t.responseJSON.message?t.responseJSON.message:s("pim_enrich.entity.product.error.upload");d.enqueueMessage("error",e)}).always(function(){t.$("> .akeneo-media-uploader-field .progress").css({opacity:0})})}},e.prototype.clearField=function(){this.updateModel({filePath:null,originalFilename:null}),this.render()},e.prototype.openMedia=function(){var t=p.getMediaShowUrl(this.getFormData()[this.fieldName].filePath,"preview");t&&o.slimbox(t,"",{overlayOpacity:.3})},e}(l);t.exports=f},function(t,e){t.exports='<div class="AknMediaField<%- media.filePath ? \' has-file\' : \'\' %><%- readOnly ? \' AknMediaField--disabled\' : \'\' %>" >\n    <% if (media.filePath === null) { %>\n        <input class="AknMediaField-fileUploaderInput<%- readOnly ? \' AknMediaField-fileUploaderInput--disabled\' : \'\' %>" type="file" />\n        <div class="AknMediaField-emptyContainer">\n            <span title="upload icon" class="AknMediaField-uploadIcon"/>\n            <span><%- uploadLabel %></span>\n        </div>\n    <% } else { %>\n        <div class="AknMediaField-preview preview">\n            <% mediaThumbnailUrl = mediaUrlGenerator.getMediaShowUrl(media.filePath, \'thumbnail_small\') %>\n            <% mediaPreviewUrl   = mediaUrlGenerator.getMediaShowUrl(media.filePath, \'preview\') %>\n            <% mediaDownloadUrl  = mediaUrlGenerator.getMediaDownloadUrl(media.filePath) %>\n            <% if (null != mediaThumbnailUrl) { %>\n                <div class="AknMediaField-thumb file"><img src="<%- mediaThumbnailUrl %>" class="AknMediaField-image"/></div>\n            <% } else { %>\n                <div class="AknMediaField-thumb file">\n                    <span title="upload icon" class="AknMediaField-uploadIcon"/>\n                </div>\n            <% } %>\n            <div class="AknMediaField-info info">\n                <div class="filename" title="Filename"><%- media.originalFilename %></div>\n                <div class="AknButtonList AknButtonList--centered actions">\n                    <% if (null != mediaPreviewUrl) { %>\n                        <span class="AknButtonList-item AknIconButton AknIconButton--grey open-media"><i class="icon icon-eye-open"></i></span>\n                    <% } %>\n                    <% if (!readOnly) { %>\n                        <a href="<%- mediaDownloadUrl %>" class="AknButtonList-item AknIconButton AknIconButton--grey download-file" download><i class="icon icon-cloud-download"></i></a>\n                        <span class="AknButtonList-item AknIconButton AknIconButton--grey clear-field %>"><i class="icon icon-trash"></i></span>\n                    <% } %>\n                </div>\n            </div>\n        </div>\n    <% } %>\n    <div class="AknMediaField-progress AknProgress AknProgress--micro progress">\n        <div class="AknProgress-bar bar"></div>\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="switch switch-small" tabindex="0" role="checkbox" aria-checked="<%- value && value.data ? \'true\' : \'false\' %>" data-on-label="<%- _.__(\'switch_on\') %>" data-off-label="<%- _.__(\'switch_off\') %>">\n    <input id="<%- fieldId %>" type="checkbox" data-locale="<%- locale %>" data-scope="<%- scope %>" <%- value && value.data ? \'checked\' : \'\' %> <%- editMode === \'view\' ? \'disabled\' : \'\' %>>\n</div>\n'},function(t,e){t.exports='<div class="datetimepicker AknFieldContainer-subContainer">\n    <% if (attribute.localizable) { %>\n        <div class="AknTextField-layer AknTextField-layer--first"></div>\n        <div class="AknTextField-layer AknTextField-layer--second"></div>\n    <% } %>\n    <input id="<%- fieldId %>" class="AknTextField<% if (attribute.localizable) { %> AknTextField--localizable <% } %> datepicker-field add-on" type="text" data-locale="<%- locale %>" data-scope="<%- scope %>" value="<%- value ? value.data : null %>" <%- editMode === \'view\' ? \'disabled\' : \'\' %>/>\n</div>\n'},function(t,e){t.exports='<div class="AknMediaField <%- value && value.data && value.data.filePath ? \'has-file\' : \'\' %>" >\n    <% if (!value || !value.data || value.data.filePath === null) { %>\n        <input class="AknMediaField-fileUploaderInput" id="<%- fieldId %>" type="file" data-locale="<%- locale %>" data-scope="<%- scope %>" <%- editMode === \'view\' ? \'disabled\' : \'\' %>/>\n        <div class="AknMediaField-emptyContainer">\n            <span title="upload icon" class="AknMediaField-uploadIcon"/>\n            <span><%- _.__(\'pim_common.media_upload\')%></span>\n        </div>\n    <% } else { %>\n        <div class="AknMediaField-preview preview">\n            <% mediaThumbnailUrl = mediaUrlGenerator.getMediaShowUrl(value.data.filePath, \'thumbnail_small\') %>\n            <% mediaPreviewUrl   = mediaUrlGenerator.getMediaShowUrl(value.data.filePath, \'preview\') %>\n            <% mediaDownloadUrl  = mediaUrlGenerator.getMediaDownloadUrl(value.data.filePath) %>\n            <% if (\'pim_catalog_image\' === attribute.type && null != mediaThumbnailUrl) { %>\n                <div class="AknMediaField-thumb file"><img src="<%- mediaThumbnailUrl %>" class="AknMediaField-image"/></div>\n            <% } else { %>\n                <div class="AknMediaField-thumb file">\n                    <span title="upload icon" class="AknMediaField-uploadIcon"/>\n                </div>\n            <% } %>\n            <div class="AknMediaField-info info">\n                <div class="filename" title="<%- value.data.originalFilename %>"><%- value.data.originalFilename %></div>\n                <div class="AknButtonList AknButtonList--centered actions">\n                    <% if (\'pim_catalog_image\' === attribute.type && null != mediaPreviewUrl) { %>\n                        <span class="AknButtonList-item AknIconButton AknIconButton--grey open-media"><i class="icon icon-eye-open"></i></span>\n                    <% } %>\n                    <a href="<%- mediaDownloadUrl %>" class="AknButtonList-item AknIconButton AknIconButton--grey download-file" download><i class="icon icon-cloud-download"></i></a>\n                    <span class="AknButtonList-item AknIconButton AknIconButton--grey clear-field <%- editMode === \'view\' ? \'AknIconButton--hide\' : \'\' %>"><i class="icon icon-trash"></i></span>\n                </div>\n            </div>\n        </div>\n    <% } %>\n    <div class="AknMediaField-progress AknProgress AknProgress--micro progress">\n        <div class="AknProgress-bar bar"></div>\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="AknMetricField metric-container<% if (attribute.localizable) { %> AknMetricField--localizable<% } %>">\n    <% if (attribute.localizable) { %>\n        <div class="AknTextField-layer AknTextField-layer--first"></div>\n        <div class="AknTextField-layer AknTextField-layer--second"></div>\n    <% } %>\n    <input class="AknTextField AknTextField--noRightRadius data" id="<%- fieldId %>" type="text" data-locale="<%- locale %>" data-scope="<%- scope %>" value="<%- value ? value.data.amount : null %>" <%- editMode === \'view\' ? \'disabled\' : \'\' %>/>\n    <select class="AknMetricField-unit unit select-field" data-locale="<%- value.locale %>" data-scope="<%- value.scope %>" <%- editMode === \'view\' ? \'disabled\' : \'\' %>>\n        <% _.each(_.keys(measures[attribute.metric_family].units), function(unit) { %>\n            <option value="<%- unit %>"<% if ((null === value.data.unit && unit === attribute.empty_value.unit) || value.data.unit === unit) { %> selected<% } %>>\n                <%- __(`pim_measure.units.${unit}`) %>\n            </option>\n        <% }); %>\n    </select>\n</div>\n'},function(t,e){t.exports='<% if (attribute.localizable) { %>\n    <div class="AknTextField-layer AknTextField-layer--first"></div>\n    <div class="AknTextField-layer AknTextField-layer--second"></div>\n<% } %>\n<input\n    id="<%- fieldId %>"\n    class="AknTextField<% if (attribute.localizable) { %> AknTextField--localizable <% } %>"\n    type="text"\n    data-locale="<%- locale %>"\n    data-scope="<%- scope %>"\n    value="<%- value ? value.data : null %>"\n    <%- editMode === \'view\' ? \'disabled\' : \'\' %>\n/>\n'},function(t,e){t.exports='<div class="AknPriceList<% if (attribute.localizable) { %> AknPriceList--localizable<% } %>">\n    <% if (!value || !value.data) { %>\n        <% _.each(currencies, function (currency) { %>\n            <div class="AknPriceList-item price-input">\n                <% if (attribute.localizable) { %>\n                    <div class="AknTextField-layer AknTextField-layer--first"></div>\n                    <div class="AknTextField-layer AknTextField-layer--second"></div>\n                <% } %>\n                <input class="AknTextField AknTextField--noRightRadius" type="text" data-locale="<%- locale %>" data-scope="<%- scope %>" data-currency="<%- currency.code %>" value="" <%- editMode === \'view\' ? \'disabled\' : \'\' %> size="1">\n                <span class="AknPriceList-currency"><%- currency.code %></span>\n            </div>\n        <% }) %>\n    <% } else { %>\n        <% _.each(value.data, function (price) { %>\n            <div class="AknPriceList-item price-input">\n                <% if (attribute.localizable) { %>\n                    <div class="AknTextField-layer AknTextField-layer--first"></div>\n                    <div class="AknTextField-layer AknTextField-layer--second"></div>\n                <% } %>\n                <input class="AknTextField AknTextField--noRightRadius" type="text" data-locale="<%- locale %>" data-scope="<%- scope %>" data-currency="<%- price.currency %>" value="<%- price.amount %>" <%- editMode === \'view\' ? \'disabled\' : \'\' %> size="1">\n                <span class="AknPriceList-currency"><%- price.currency %></span>\n            </div>\n        <% }) %>\n    <% } %>\n</div>\n'},function(t,e){t.exports='<% if (attribute.localizable) { %>\n    <div class="AknTextField-layer AknTextField-layer--first"></div>\n    <div class="AknTextField-layer AknTextField-layer--second"></div>\n<% } %>\n<input\n    id="<%- fieldId %>"\n    class="AknTextField<% if (attribute.localizable) { %> AknTextField--localizable <% } %> <%- context.isRequired ? \'AknTextField--required\' : \'\' %>"\n    type="text"\n    data-locale="<%- locale %>"\n    data-scope="<%- scope %>"\n    value="<%- value ? value.data : null %>"\n    <%- editMode === \'view\' ? \'disabled\' : \'\' %>\n/>\n'},function(t,e){t.exports='<div data-toggle="dropdown">\n    <div class="AknColumn-subtitle"><%- localeLabel %></div>\n    <div class="AknColumn-value value"><%= i18n.getFlag(currentLocale.code, false) %>&nbsp;<%- getDisplayName(currentLocale) %></div>\n</div>\n<div class="AknDropdown-menu">\n    <div class="AknDropdown-menuTitle"><%- localeLabel %></div>\n    <% _.each(locales, (locale) => { %>\n    <div class="AknDropdown-menuLink<% if (currentLocale.code === locale.code) { %> AknDropdown-menuLink--active<% } %>" data-locale="<%- locale.code %>">\n        <span class="label"><%= i18n.getFlag(locale.code, false) %> <%- getDisplayName(locale) %></span>\n    </div>\n    <% }) %>\n</div>\n'},function(t,e){t.exports='<div class="AknColumn-subtitle"><%- label %></div>\n<div class="AknColumn-value<% if (isOpen) { %> AknColumn-value--highlited<% } %>">\n    <%- treeLabel %><% if (\'\' !== categoryLabel) { %> - <%- categoryLabel %><% } %>\n</div>\n'},function(t,e){t.exports='<div class="select-button AknSelectButton"></div>\n<div class="AknDropdown select-dropdown">\n    <div class="AknMassActions-dropdown" data-toggle="dropdown"/>\n    <div class="AknDropdown-menu">\n        <div class="AknDropdown-menuTitle"><%- select %></div>\n        <div class="AknDropdown-menuLink select-all"><%- selectAll %></div>\n        <div class="AknDropdown-menuLink select-visible"><%- selectVisible %></div>\n        <div class="AknDropdown-menuLink select-none"><%- selectNone %></div>\n    </div>\n</div>\n<div class="AknButtonList-item AknMassActions-counter"><span class="count"></span> <%- selectedProductsLabel %></div>\n<div data-drop-zone="actions-panel"></div>\n'},function(t,e){t.exports='<div class="AknButton AknButton--apply"><%- label %></div>\n'},function(t,e,i){var n,r,o={"forwarded-events":{"grid:product-grid:state_changed":"grid:product-grid:state_changed"}};n=[i(1),i(0),i(2),i(8),i(3),i(620),i(28),i(46),i(5),i(14)],void 0===(r=function(t,e,i,n,r,a,s,l,c,u){return r.extend({template:e.template(a),resultsPerPage:20,queryTimer:null,config:{},currentViewType:null,currentView:null,initialView:null,defaultColumns:[],defaultUserView:null,gridAlias:null,select2Instance:null,viewTypeSwitcher:null,currentLoadingPage:null,currentLoadingTerm:null,events:{"click .view-type-item":"switchViewType"},initialize:function(t){this.config=t.config,r.prototype.initialize.apply(this,arguments)},configure:function(t){return this.gridAlias=t,e.has(o,"forwarded-events")&&this.forwardMediatorEvents(o["forwarded-events"]),this.listenTo(this.getRoot(),"grid:view-selector:view-created",this.onViewCreated.bind(this)),this.listenTo(this.getRoot(),"grid:view-selector:view-saved",this.onViewSaved.bind(this)),this.listenTo(this.getRoot(),"grid:view-selector:view-removed",this.onViewRemoved.bind(this)),this.listenTo(this.getRoot(),"grid:view-selector:close-selector",this.closeSelect2.bind(this)),this.listenTo(this.getRoot(),"grid:product-grid:state_changed",this.onGridStateChange.bind(this)),n.Router.prototype.on("route",this.unbindEvents.bind(this)),c.getFetcher("datagrid-view").defaultColumns(this.gridAlias).then(function(t){return this.defaultColumns=t,r.prototype.configure.apply(this,arguments)}.bind(this))},unbindEvents:function(){this.off()},render:function(){this.initializeSelection().then(function(){this.initializeViewTypes(),this.$el.html(this.template({__:i,currentViewType:this.currentViewType,displaySwitcher:1<this.config.viewTypes.length,viewTypes:this.config.viewTypes})),this.initializeSelectWidget(),this.renderExtensions()}.bind(this))},initializeViewTypes:function(){this.currentViewType="view"},initializeSelectWidget:function(){var t=this.$('input[type="hidden"]'),e={dropdownCssClass:"grid-view-selector",closeOnSelect:!1,formatResult:this.formatResult.bind(this),formatSelection:this.formatSelection.bind(this),query:this.query.bind(this),initSelection:function(t,e){e(this.currentView)}.bind(this)};this.select2Instance=s.init(t,e),this.select2Instance.on("select2-selecting",function(t){var e=t.object;this.selectView(e)}.bind(this)),this.select2Instance.on("select2-close",function(){this.currentLoadingPage=null,this.currentLoadingTerm=null}.bind(this))},query:function(t){clearTimeout(this.queryTimer),this.queryTimer=setTimeout(function(){var e=1;t.context&&t.context.page&&(e=t.context.page);var i=this.getSelectSearchParameters(t.term,e),n=this.config.fetchers[this.currentViewType];this.currentLoadingPage===e&&this.currentLoadingTerm===t.term||(this.currentLoadingPage=e,this.currentLoadingTerm=t.term,c.getFetcher(n).search(i).then(function(i){var n=this.toSelect2Format(i),r=n.length===this.getResultsPerPage();1!==e||t.term||(n=this.ensureDefaultView(n)),t.callback({results:n,more:r,context:{page:e+1}})}.bind(this)))}.bind(this),400)},formatResult:function(t,e){u.build("pim-grid-view-selector-line").then(function(i){i.setParent(this),i.setView(t,this.currentViewType,this.currentView.id),e.append(i.render().$el)}.bind(this))},formatSelection:function(t,e){u.getFormMeta("pim-grid-view-selector-current").then(u.buildForm).then(function(i){return i.setParent(this),i.setView(t),i.configure().then(function(){e.append(i.render().$el),this.onGridStateChange()}.bind(this))}.bind(this))},switchViewType:function(e){this.currentViewType=t(e.target).data("value"),this.render()},initializeSelection:function(){var e=l.get(this.gridAlias,"view"),i="0"===e,n=t.Deferred();return this.getUserDefaultView().then(function(t){!t||e&&!i?e&&!i?c.getFetcher("datagrid-view").fetch(e,{alias:this.gridAlias,cached:!1}).then(this.postFetchDatagridView.bind(this)).then(function(t){n.resolve(t)}).fail(function(){this.selectView(t||this.getDefaultView())}.bind(this)):n.resolve(this.getDefaultView()):(t.text=t.label,n.resolve(t))}.bind(this)),n.then(function(e){var i=l.get(this.gridAlias,["filters","columns"]);return this.initialView=t.extend(!0,{},e),this.currentView=t.extend(!0,{},e),0!==this.initialView.id&&null!==i.columns&&(this.currentView.filters=i.filters,this.currentView.columns=i.columns.split(",")),l.set(this.gridAlias,{initialViewState:this.initialView.filters}),this.getRoot().trigger("grid:view-selector:initialized",this.currentView),e}.bind(this)),n},postFetchDatagridView:function(e){return e.text=e.label,t.Deferred().resolve(e).promise()},getDefaultView:function(){return{id:0,text:i("pim_datagrid.view_selector.default_view"),columns:this.defaultColumns,type:"view",filters:""}},getUserDefaultView:function(){return c.getFetcher("datagrid-view").defaultUserView(this.gridAlias).then(function(t){return this.defaultUserView=t.view,t.view}.bind(this))},ensureDefaultView:function(t){return null!==this.defaultUserView||"view"!==this.currentViewType?t:(t.unshift(this.getDefaultView()),t)},onGridStateChange:function(){var t=l.get(this.gridAlias,["filters","columns"]);null===t.columns&&(t.columns=""),null!==this.currentView&&(this.currentView.filters=t.filters,this.currentView.columns=t.columns.split(",")),this.getRoot().trigger("grid:view-selector:state-changed",t)},onViewCreated:function(t){c.getFetcher("datagrid-view").clear(),c.getFetcher("datagrid-view").fetch(t,{alias:this.gridAlias}).then(function(t){this.selectView(t)}.bind(this))},onViewSaved:function(t){this.onViewCreated(t)},onViewRemoved:function(){c.getFetcher("datagrid-view").clear(),this.selectView(this.getDefaultView())},closeSelect2:function(){null!==this.select2Instance&&this.select2Instance.select2("close")},selectView:function(t){l.set(this.gridAlias,{view:t.id,filters:t.filters,columns:t.columns.join(",")}),this.currentView=t,this.trigger("grid:view-selector:view-selected",t),c.getFetcher("locale").clear(),this.reloadPage()},getSelectSearchParameters:function(e,i){return t.extend(!0,{},this.config.searchParameters,{search:e,alias:this.gridAlias,options:{limit:this.getResultsPerPage(),page:i}})},toSelect2Format:function(t){return e.map(t,function(t){return t.text=t.label,!e.has(t,"id")&&e.has(t,"code")&&(t.id=t.code),t})},reloadPage:function(){var t=window.location.hash;n.history.fragment=(new Date).getTime(),n.history.navigate(t,!0)},getResultsPerPage:function(){return this.resultsPerPage}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<div class="grid-view-selector">\n    <div class="AknColumn-block AknColumn-block--inline">\n        <% if (displaySwitcher) { %>\n        <div class="AknDropdown AknColumn-subtitle">\n            <div class="view-selector-type-switcher" data-toggle="dropdown">\n                <span class="current-view-type"><%- __(\'pim_datagrid.view_selector.\' + currentViewType) %></span>\n                <span class="AknActionButton-caret"></span>\n            </div>\n            <ul class="AknDropdown-menu">\n                <li class="AknDropdown-menuTitle">Type</li>\n                <% viewTypes.forEach(function (type) { %>\n                <li>\n                    <a data-value="<%- type %>" class="AknDropdown-menuLink<% if (currentViewType === type) { %> AknDropdown-menuLink--active<% } %> view-type-item" title="<%- __(\'pim_datagrid.view_selector.\' + type) %>">\n                        <%- __(\'pim_datagrid.view_selector.\' + type) %>\n                    </a>\n                </li>\n                <% });  %>\n            </ul>\n        </div>\n        <% } else { %>\n        <div class="AknColumn-subtitle"><%- __(\'pim_datagrid.view_selector.\' + currentViewType) %></div>\n        <% } %>\n        <div class="AknColumn-subtitle">&nbsp;/&nbsp;</div>\n        <div class="AknColumn-value">\n            <input type="hidden" class="select-field" value="0"/>\n        </div>\n        <div class="AknColumn-blockDropdown" data-drop-zone="buttons"></div>\n    </div>\n    <div class="AknColumn-resume" data-drop-zone="resume"></div>\n</div>\n'},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(8),i(3),i(622)],void 0===(r=function(t,e,i,n,r){return n.extend({template:e.template(r),datagridView:null,datagridViewType:null,currentViewId:null,render:function(){return this.$el.html(this.template({view:this.datagridView,isCurrent:this.currentViewId===this.datagridView.id})),this.renderExtensions(),this},setView:function(t,e,i){this.datagridView=t,this.datagridViewType=e,this.currentViewId=i}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports="<div class=\"select2-result-label-view\">\n    <span class=\"view-label <%- isCurrent ? 'view-label-current' : '' %>\"><%- view.text %></span>\n</div>\n"},function(t,e){t.exports='<div class="AknFieldContainer">\n    <div class="AknFieldContainer-header">\n        <label title="<%- label %>" class="AknFieldContainer-label control-label required truncate">\n            <%- label %>\n        </label>\n    </div>\n    <div class="AknFieldContainer-inputContainer field-input">\n        <input name="new-view-label" type="text" class="AknTextField" placeholder="<%- placeholder %>">\n    </div>\n</div>\n'},function(t,e){t.exports='<a class="AknDropdown-menuLink create">\n    <%- label %>\n</a>\n'},function(t,e){t.exports="<a class=\"AknDropdown-menuLink save <%- dirty ? '' : 'AknDropdown-menuLink--hidden' %>\">\n    <%- label %>\n</a>\n"},function(t,e){t.exports='<a class="AknDropdown-menuLink remove">\n    <%- label %>\n</a>\n'},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(8),i(3),i(628)],void 0===(r=function(t,e,i,n,r){return n.extend({template:e.template(r),datagridView:null,dirtyColumns:!1,dirtyFilters:!1,configure:function(){return this.listenTo(this.getRoot(),"grid:view-selector:state-changed",this.onDatagridStateChange.bind(this)),n.prototype.configure.apply(this,arguments)},render:function(){return this.$el.html(this.template({view:this.datagridView,dirtyFilters:this.dirtyFilters,dirtyColumns:this.dirtyColumns})),this.renderExtensions(),this},onDatagridStateChange:function(t){null===t.columns&&(t.columns="");var i=this.getRoot().initialView,n=null!==i&&0!==i.id,r=this.areFiltersModified(i.filters,t.filters),o=!e.isEqual(i.columns,t.columns.split(","));if(n)this.dirtyFilters=r,this.dirtyColumns=o;else{var a=""===t.filters,s=e.isEqual(this.getRoot().defaultColumns,t.columns.split(","));this.dirtyFilters=!a,this.dirtyColumns=!s}this.render()},setView:function(t){this.datagridView=t},areFiltersModified:function(t,e){return t!==e}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<span class="select2-selection-label-view">\n    <span class="before" data-drop-zone="before"></span>\n    <span class="current"><%- dirtyColumns || dirtyFilters ? \'*\' : \'\' %> <%- view.text %></span>\n    <span class="after" data-drop-zone="after"></span>\n</span>\n'},function(t,e,i){i(630),t.exports=i(831)},,function(t,e,i){i(632),i(634),i(635),i(636),i(637),i(638),i(639),i(640),i(641),i(642),i(643),i(644),i(645),i(646),i(647),i(648),i(649),i(650),i(651),i(652),i(653),i(654),i(655),i(656),i(657),i(658),i(659),i(660),i(661),i(662),i(663),i(664),i(665),i(666),i(667),i(668),i(669),i(670),i(671),i(672),i(673),i(674),i(675),i(676),i(677),i(678),i(679),i(680),i(681),i(682),i(683),i(684),i(685),i(686),i(687),i(688),i(689),i(690),i(691),i(692),i(693),i(694),i(695),i(696),i(697),i(698),i(699),i(700),i(701),i(702),i(703),i(704),i(705),i(706),i(707),i(708),i(709),i(711),i(712),i(714),i(715),i(716),i(717),i(718),i(719),i(720),i(722),i(723),i(724),i(725),i(726),i(727),i(728),i(729),i(730),i(731),i(732),i(733),i(734),i(168),i(735),i(236),i(736),i(237),i(737),i(738),i(739),i(740),i(741),i(240),i(242),i(243),i(742),i(743),i(744),i(745),i(746),i(747),i(748),i(749),i(750),i(751),i(752),i(753),i(754),i(755),i(756),i(757),i(758),i(759),i(760),i(761),i(762),i(763),i(764),i(765),i(766),i(767),i(768),i(769),i(770),i(771),i(772),i(773),i(774),i(775),i(776),i(777),i(778),i(779),i(780),i(781),i(782),i(783),i(784),i(785),i(786),i(787),i(788),i(789),i(790),i(791),i(792),i(793),i(794),i(795),i(796),i(797),i(798),i(799),i(800),i(801),i(802),i(803),i(804),i(805),i(806),i(807),i(808),i(809),i(810),i(811),i(812),i(813),i(814),i(815),i(816),i(817),i(818),i(819),i(820),i(821),i(822),i(823),i(824),i(825),i(826),t.exports=i(49)},function(t,e,i){"use strict";var n=i(15),r=i(42),o=i(24),a=i(4),s=i(39),l=i(69).KEY,c=i(16),u=i(119),d=i(91),p=i(78),h=i(21),f=i(218),m=i(149),g=i(633),v=i(122),b=i(13),y=i(18),_=i(43),k=i(54),x=i(77),A=i(81),C=i(221),w=i(44),T=i(25),S=i(79),F=w.f,E=T.f,L=C.f,D=n.Symbol,P=n.JSON,N=P&&P.stringify,M=h("_hidden"),I=h("toPrimitive"),R={}.propertyIsEnumerable,O=u("symbol-registry"),V=u("symbols"),B=u("op-symbols"),j=Object.prototype,$="function"==typeof D,U=n.QObject,z=!U||!U.prototype||!U.prototype.findChild,q=o&&c(function(){return 7!=A(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=F(j,e);n&&delete j[e],E(t,e,i),n&&t!==j&&E(j,e,n)}:E,G=function(t){var e=V[t]=A(D.prototype);return e._k=t,e},H=$&&"symbol"==typeof D.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof D},W=function(t,e,i){return t===j&&W(B,e,i),b(t),e=k(e,!0),b(i),r(V,e)?(i.enumerable?(r(t,M)&&t[M][e]&&(t[M][e]=!1),i=A(i,{enumerable:x(0,!1)})):(r(t,M)||E(t,M,x(1,{})),t[M][e]=!0),q(t,e,i)):E(t,e,i)},J=function(t,e){b(t);for(var i,n=g(e=_(e)),r=0,o=n.length;o>r;)W(t,i=n[r++],e[i]);return t},K=function(t){var e=R.call(this,t=k(t,!0));return!(this===j&&r(V,t)&&!r(B,t))&&(!(e||!r(this,t)||!r(V,t)||r(this,M)&&this[M][t])||e)},Z=function(t,e){if(t=_(t),e=k(e,!0),t!==j||!r(V,e)||r(B,e)){var i=F(t,e);return!i||!r(V,e)||r(t,M)&&t[M][e]||(i.enumerable=!0),i}},Y=function(t){for(var e,i=L(_(t)),n=[],o=0;i.length>o;)r(V,e=i[o++])||e==M||e==l||n.push(e);return n},X=function(t){for(var e,i=t===j,n=L(i?B:_(t)),o=[],a=0;n.length>a;)!r(V,e=n[a++])||i&&!r(j,e)||o.push(V[e]);return o};$||(s((D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(i){this===j&&e.call(B,i),r(this,M)&&r(this[M],t)&&(this[M][t]=!1),q(this,t,x(1,i))};return o&&z&&q(j,t,{configurable:!0,set:e}),G(t)}).prototype,"toString",function(){return this._k}),w.f=Z,T.f=W,i(82).f=C.f=Y,i(105).f=K,i(121).f=X,o&&!i(70)&&s(j,"propertyIsEnumerable",K,!0),f.f=function(t){return G(h(t))}),a(a.G+a.W+a.F*!$,{Symbol:D});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Q.length>tt;)h(Q[tt++]);for(var et=S(h.store),it=0;et.length>it;)m(et[it++]);a(a.S+a.F*!$,"Symbol",{for:function(t){return r(O,t+="")?O[t]:O[t]=D(t)},keyFor:function(t){if(!H(t))throw TypeError(t+" is not a symbol!");for(var e in O)if(O[e]===t)return e},useSetter:function(){z=!0},useSimple:function(){z=!1}}),a(a.S+a.F*!$,"Object",{create:function(t,e){return void 0===e?A(t):J(A(t),e)},defineProperty:W,defineProperties:J,getOwnPropertyDescriptor:Z,getOwnPropertyNames:Y,getOwnPropertySymbols:X}),P&&a(a.S+a.F*(!$||c(function(){var t=D();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))})),"JSON",{stringify:function(t){for(var e,i,n=[t],r=1;arguments.length>r;)n.push(arguments[r++]);if(i=e=n[1],(y(e)||void 0!==t)&&!H(t))return v(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!H(e))return e}),n[1]=e,N.apply(P,n)}}),D.prototype[I]||i(38)(D.prototype,I,D.prototype.valueOf),d(D,"Symbol"),d(Math,"Math",!0),d(n.JSON,"JSON",!0)},function(t,e,i){var n=i(79),r=i(121),o=i(105);t.exports=function(t){var e=n(t),i=r.f;if(i)for(var a,s=i(t),l=o.f,c=0;s.length>c;)l.call(t,a=s[c++])&&e.push(a);return e}},function(t,e,i){var n=i(4);n(n.S,"Object",{create:i(81)})},function(t,e,i){var n=i(4);n(n.S+n.F*!i(24),"Object",{defineProperty:i(25).f})},function(t,e,i){var n=i(4);n(n.S+n.F*!i(24),"Object",{defineProperties:i(220)})},function(t,e,i){var n=i(43),r=i(44).f;i(56)("getOwnPropertyDescriptor",function(){return function(t,e){return r(n(t),e)}})},function(t,e,i){var n=i(27),r=i(45);i(56)("getPrototypeOf",function(){return function(t){return r(n(t))}})},function(t,e,i){var n=i(27),r=i(79);i(56)("keys",function(){return function(t){return r(n(t))}})},function(t,e,i){i(56)("getOwnPropertyNames",function(){return i(221).f})},function(t,e,i){var n=i(18),r=i(69).onFreeze;i(56)("freeze",function(t){return function(e){return t&&n(e)?t(r(e)):e}})},function(t,e,i){var n=i(18),r=i(69).onFreeze;i(56)("seal",function(t){return function(e){return t&&n(e)?t(r(e)):e}})},function(t,e,i){var n=i(18),r=i(69).onFreeze;i(56)("preventExtensions",function(t){return function(e){return t&&n(e)?t(r(e)):e}})},function(t,e,i){var n=i(18);i(56)("isFrozen",function(t){return function(e){return!n(e)||!!t&&t(e)}})},function(t,e,i){var n=i(18);i(56)("isSealed",function(t){return function(e){return!n(e)||!!t&&t(e)}})},function(t,e,i){var n=i(18);i(56)("isExtensible",function(t){return function(e){return!!n(e)&&(!t||t(e))}})},function(t,e,i){var n=i(4);n(n.S+n.F,"Object",{assign:i(222)})},function(t,e,i){var n=i(4);n(n.S,"Object",{is:i(223)})},function(t,e,i){var n=i(4);n(n.S,"Object",{setPrototypeOf:i(153).set})},function(t,e,i){"use strict";var n=i(92),r={};r[i(21)("toStringTag")]="z",r+""!="[object z]"&&i(39)(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},function(t,e,i){var n=i(4);n(n.P,"Function",{bind:i(224)})},function(t,e,i){var n=i(25).f,r=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in r||i(24)&&n(r,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,i){"use strict";var n=i(18),r=i(45),o=i(21)("hasInstance"),a=Function.prototype;o in a||i(25).f(a,o,{value:function(t){if("function"!=typeof this||!n(t))return!1;if(!n(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,i){var n=i(4),r=i(226);n(n.G+n.F*(parseInt!=r),{parseInt:r})},function(t,e,i){var n=i(4),r=i(227);n(n.G+n.F*(parseFloat!=r),{parseFloat:r})},function(t,e,i){"use strict";var n=i(15),r=i(42),o=i(51),a=i(155),s=i(54),l=i(16),c=i(82).f,u=i(44).f,d=i(25).f,p=i(93).trim,h=n.Number,f=h,m=h.prototype,g="Number"==o(i(81)(m)),v="trim"in String.prototype,b=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){var i,n,r,o=(e=v?e.trim():p(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(i=e.charCodeAt(2))||120===i)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+e}for(var a,l=e.slice(2),c=0,u=l.length;c<u;c++)if((a=l.charCodeAt(c))<48||a>r)return NaN;return parseInt(l,n)}}return+e};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof h&&(g?l(function(){m.valueOf.call(i)}):"Number"!=o(i))?a(new f(b(e)),i,h):b(e)};for(var y,_=i(24)?c(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;_.length>k;k++)r(f,y=_[k])&&!r(h,y)&&d(h,y,u(f,y));h.prototype=m,m.constructor=h,i(39)(n,"Number",h)}},function(t,e,i){"use strict";var n=i(4),r=i(52),o=i(228),a=i(156),s=1..toFixed,l=Math.floor,c=[0,0,0,0,0,0],u="Number.toFixed: incorrect invocation!",d=function(t,e){for(var i=-1,n=e;++i<6;)n+=t*c[i],c[i]=n%1e7,n=l(n/1e7)},p=function(t){for(var e=6,i=0;--e>=0;)i+=c[e],c[e]=l(i/t),i=i%t*1e7},h=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==c[t]){var i=String(c[t]);e=""===e?i:e+a.call("0",7-i.length)+i}return e},f=function(t,e,i){return 0===e?i:e%2==1?f(t,e-1,i*t):f(t*t,e/2,i)};n(n.P+n.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i(16)(function(){s.call({})})),"Number",{toFixed:function(t){var e,i,n,s,l=o(this,u),c=r(t),m="",g="0";if(c<0||c>20)throw RangeError(u);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(m="-",l=-l),l>1e-21)if(i=(e=function(t){for(var e=0,i=t;i>=4096;)e+=12,i/=4096;for(;i>=2;)e+=1,i/=2;return e}(l*f(2,69,1))-69)<0?l*f(2,-e,1):l/f(2,e,1),i*=4503599627370496,(e=52-e)>0){for(d(0,i),n=c;n>=7;)d(1e7,0),n-=7;for(d(f(10,n,1),0),n=e-1;n>=23;)p(1<<23),n-=23;p(1<<n),d(1,1),p(2),g=h()}else d(0,i),d(1<<-e,0),g=h()+a.call("0",c);return g=c>0?m+((s=g.length)<=c?"0."+a.call("0",c-s)+g:g.slice(0,s-c)+"."+g.slice(s-c)):m+g}})},function(t,e,i){"use strict";var n=i(4),r=i(16),o=i(228),a=1..toPrecision;n(n.P+n.F*(r(function(){return"1"!==a.call(1,void 0)})||!r(function(){a.call({})})),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(e):a.call(e,t)}})},function(t,e,i){var n=i(4);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,i){var n=i(4),r=i(15).isFinite;n(n.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},function(t,e,i){var n=i(4);n(n.S,"Number",{isInteger:i(229)})},function(t,e,i){var n=i(4);n(n.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,i){var n=i(4),r=i(229),o=Math.abs;n(n.S,"Number",{isSafeInteger:function(t){return r(t)&&o(t)<=9007199254740991}})},function(t,e,i){var n=i(4);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,i){var n=i(4);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,i){var n=i(4),r=i(227);n(n.S+n.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},function(t,e,i){var n=i(4),r=i(226);n(n.S+n.F*(Number.parseInt!=r),"Number",{parseInt:r})},function(t,e,i){var n=i(4),r=i(230),o=Math.sqrt,a=Math.acosh;n(n.S+n.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:r(t-1+o(t-1)*o(t+1))}})},function(t,e,i){var n=i(4),r=Math.asinh;n(n.S+n.F*!(r&&1/r(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(t,e,i){var n=i(4),r=Math.atanh;n(n.S+n.F*!(r&&1/r(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,i){var n=i(4),r=i(157);n(n.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,i){var n=i(4);n(n.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,i){var n=i(4),r=Math.exp;n(n.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},function(t,e,i){var n=i(4),r=i(158);n(n.S+n.F*(r!=Math.expm1),"Math",{expm1:r})},function(t,e,i){var n=i(4);n(n.S,"Math",{fround:i(231)})},function(t,e,i){var n=i(4),r=Math.abs;n(n.S,"Math",{hypot:function(t,e){for(var i,n,o=0,a=0,s=arguments.length,l=0;a<s;)l<(i=r(arguments[a++]))?(o=o*(n=l/i)*n+1,l=i):o+=i>0?(n=i/l)*n:i;return l===1/0?1/0:l*Math.sqrt(o)}})},function(t,e,i){var n=i(4),r=Math.imul;n(n.S+n.F*i(16)(function(){return-5!=r(4294967295,5)||2!=r.length}),"Math",{imul:function(t,e){var i=+t,n=+e,r=65535&i,o=65535&n;return 0|r*o+((65535&i>>>16)*o+r*(65535&n>>>16)<<16>>>0)}})},function(t,e,i){var n=i(4);n(n.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,i){var n=i(4);n(n.S,"Math",{log1p:i(230)})},function(t,e,i){var n=i(4);n(n.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,i){var n=i(4);n(n.S,"Math",{sign:i(157)})},function(t,e,i){var n=i(4),r=i(158),o=Math.exp;n(n.S+n.F*i(16)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,i){var n=i(4),r=i(158),o=Math.exp;n(n.S,"Math",{tanh:function(t){var e=r(t=+t),i=r(-t);return e==1/0?1:i==1/0?-1:(e-i)/(o(t)+o(-t))}})},function(t,e,i){var n=i(4);n(n.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,i){var n=i(4),r=i(80),o=String.fromCharCode,a=String.fromCodePoint;n(n.S+n.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){for(var e,i=[],n=arguments.length,a=0;n>a;){if(e=+arguments[a++],r(e,1114111)!==e)throw RangeError(e+" is not a valid code point");i.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return i.join("")}})},function(t,e,i){var n=i(4),r=i(43),o=i(22);n(n.S,"String",{raw:function(t){for(var e=r(t.raw),i=o(e.length),n=arguments.length,a=[],s=0;i>s;)a.push(String(e[s++])),s<n&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,i){"use strict";i(93)("trim",function(t){return function(){return t(this,3)}})},function(t,e,i){"use strict";var n=i(123)(!0);i(159)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=n(e,i),this._i+=t.length,{value:t,done:!1})})},function(t,e,i){"use strict";var n=i(4),r=i(123)(!1);n(n.P,"String",{codePointAt:function(t){return r(this,t)}})},function(t,e,i){"use strict";var n=i(4),r=i(22),o=i(161),a="".endsWith;n(n.P+n.F*i(162)("endsWith"),"String",{endsWith:function(t){var e=o(this,t,"endsWith"),i=arguments.length>1?arguments[1]:void 0,n=r(e.length),s=void 0===i?n:Math.min(r(i),n),l=String(t);return a?a.call(e,l,s):e.slice(s-l.length,s)===l}})},function(t,e,i){"use strict";var n=i(4),r=i(161);n(n.P+n.F*i(162)("includes"),"String",{includes:function(t){return!!~r(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){var n=i(4);n(n.P,"String",{repeat:i(156)})},function(t,e,i){"use strict";var n=i(4),r=i(22),o=i(161),a="".startsWith;n(n.P+n.F*i(162)("startsWith"),"String",{startsWith:function(t){var e=o(this,t,"startsWith"),i=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return a?a.call(e,n,i):e.slice(i,i+n.length)===n}})},function(t,e,i){"use strict";i(40)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,i){"use strict";i(40)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,i){"use strict";i(40)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,i){"use strict";i(40)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,i){"use strict";i(40)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,i){"use strict";i(40)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(t,e,i){"use strict";i(40)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(t,e,i){"use strict";i(40)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,i){"use strict";i(40)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,i){"use strict";i(40)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,i){"use strict";i(40)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,i){"use strict";i(40)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,i){"use strict";i(40)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,i){var n=i(4);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,i){"use strict";var n=i(4),r=i(27),o=i(54);n(n.P+n.F*i(16)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=r(this),i=o(e);return"number"!=typeof i||isFinite(i)?e.toISOString():null}})},function(t,e,i){var n=i(4),r=i(710);n(n.P+n.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},function(t,e,i){"use strict";var n=i(16),r=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(t){return t>9?t:"0"+t};t.exports=n(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!n(function(){o.call(new Date(NaN))})?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),i=t.getUTCMilliseconds(),n=e<0?"-":e>9999?"+":"";return n+("00000"+Math.abs(e)).slice(n?-6:-4)+"-"+a(t.getUTCMonth()+1)+"-"+a(t.getUTCDate())+"T"+a(t.getUTCHours())+":"+a(t.getUTCMinutes())+":"+a(t.getUTCSeconds())+"."+(i>99?i:"0"+a(i))+"Z"}:o},function(t,e,i){var n=Date.prototype,r=n.toString,o=n.getTime;new Date(NaN)+""!="Invalid Date"&&i(39)(n,"toString",function(){var t=o.call(this);return t==t?r.call(this):"Invalid Date"})},function(t,e,i){var n=i(21)("toPrimitive"),r=Date.prototype;n in r||i(38)(r,n,i(713))},function(t,e,i){"use strict";var n=i(13),r=i(54);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return r(n(this),"number"!=t)}},function(t,e,i){var n=i(4);n(n.S,"Array",{isArray:i(122)})},function(t,e,i){"use strict";var n=i(50),r=i(4),o=i(27),a=i(232),s=i(163),l=i(22),c=i(164),u=i(165);r(r.S+r.F*!i(125)(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,r,d,p=o(t),h="function"==typeof this?this:Array,f=arguments.length,m=f>1?arguments[1]:void 0,g=void 0!==m,v=0,b=u(p);if(g&&(m=n(m,f>2?arguments[2]:void 0,2)),void 0==b||h==Array&&s(b))for(i=new h(e=l(p.length));e>v;v++)c(i,v,g?m(p[v],v):p[v]);else for(d=b.call(p),i=new h;!(r=d.next()).done;v++)c(i,v,g?a(d,m,[r.value,v],!0):r.value);return i.length=v,i}})},function(t,e,i){"use strict";var n=i(4),r=i(164);n(n.S+n.F*i(16)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,i=new("function"==typeof this?this:Array)(e);e>t;)r(i,t,arguments[t++]);return i.length=e,i}})},function(t,e,i){"use strict";var n=i(4),r=i(43),o=[].join;n(n.P+n.F*(i(104)!=Object||!i(53)(o)),"Array",{join:function(t){return o.call(r(this),void 0===t?",":t)}})},function(t,e,i){"use strict";var n=i(4),r=i(152),o=i(51),a=i(80),s=i(22),l=[].slice;n(n.P+n.F*i(16)(function(){r&&l.call(r)}),"Array",{slice:function(t,e){var i=s(this.length),n=o(this);if(e=void 0===e?i:e,"Array"==n)return l.call(this,t,e);for(var r=a(t,i),c=a(e,i),u=s(c-r),d=new Array(u),p=0;p<u;p++)d[p]="String"==n?this.charAt(r+p):this[r+p];return d}})},function(t,e,i){"use strict";var n=i(4),r=i(32),o=i(27),a=i(16),s=[].sort,l=[1,2,3];n(n.P+n.F*(a(function(){l.sort(void 0)})||!a(function(){l.sort(null)})||!i(53)(s)),"Array",{sort:function(t){return void 0===t?s.call(o(this)):s.call(o(this),r(t))}})},function(t,e,i){"use strict";var n=i(4),r=i(57)(0),o=i(53)([].forEach,!0);n(n.P+n.F*!o,"Array",{forEach:function(t){return r(this,t,arguments[1])}})},function(t,e,i){var n=i(18),r=i(122),o=i(21)("species");t.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),n(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,i){"use strict";var n=i(4),r=i(57)(1);n(n.P+n.F*!i(53)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(4),r=i(57)(2);n(n.P+n.F*!i(53)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(4),r=i(57)(3);n(n.P+n.F*!i(53)([].some,!0),"Array",{some:function(t){return r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(4),r=i(57)(4);n(n.P+n.F*!i(53)([].every,!0),"Array",{every:function(t){return r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(4),r=i(233);n(n.P+n.F*!i(53)([].reduce,!0),"Array",{reduce:function(t){return r(this,t,arguments.length,arguments[1],!1)}})},function(t,e,i){"use strict";var n=i(4),r=i(233);n(n.P+n.F*!i(53)([].reduceRight,!0),"Array",{reduceRight:function(t){return r(this,t,arguments.length,arguments[1],!0)}})},function(t,e,i){"use strict";var n=i(4),r=i(120)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(a||!i(53)(o)),"Array",{indexOf:function(t){return a?o.apply(this,arguments)||0:r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(4),r=i(43),o=i(52),a=i(22),s=[].lastIndexOf,l=!!s&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(l||!i(53)(s)),"Array",{lastIndexOf:function(t){if(l)return s.apply(this,arguments)||0;var e=r(this),i=a(e.length),n=i-1;for(arguments.length>1&&(n=Math.min(n,o(arguments[1]))),n<0&&(n=i+n);n>=0;n--)if(n in e&&e[n]===t)return n||0;return-1}})},function(t,e,i){var n=i(4);n(n.P,"Array",{copyWithin:i(234)}),i(71)("copyWithin")},function(t,e,i){var n=i(4);n(n.P,"Array",{fill:i(167)}),i(71)("fill")},function(t,e,i){"use strict";var n=i(4),r=i(57)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),n(n.P+n.F*o,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i(71)("find")},function(t,e,i){"use strict";var n=i(4),r=i(57)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),n(n.P+n.F*a,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i(71)(o)},function(t,e,i){i(83)("Array")},function(t,e,i){var n=i(15),r=i(155),o=i(25).f,a=i(82).f,s=i(124),l=i(106),c=n.RegExp,u=c,d=c.prototype,p=/a/g,h=/a/g,f=new c(p)!==p;if(i(24)&&(!f||i(16)(function(){return h[i(21)("match")]=!1,c(p)!=p||c(h)==h||"/a/i"!=c(p,"i")}))){c=function(t,e){var i=this instanceof c,n=s(t),o=void 0===e;return!i&&n&&t.constructor===c&&o?t:r(f?new u(n&&!o?t.source:t,e):u((n=t instanceof c)?t.source:t,n&&o?l.call(t):e),i?this:d,c)};for(var m=function(t){t in c||o(c,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})},g=a(u),v=0;g.length>v;)m(g[v++]);d.constructor=c,c.prototype=d,i(39)(n,"RegExp",c)}i(83)("RegExp")},function(t,e,i){"use strict";i(237);var n=i(13),r=i(106),o=i(24),a=/./.toString,s=function(t){i(39)(RegExp.prototype,"toString",t,!0)};i(16)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?r.call(t):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},function(t,e,i){"use strict";var n=i(13),r=i(22),o=i(170),a=i(126);i(127)("match",1,function(t,e,i,s){return[function(i){var n=t(this),r=void 0==i?void 0:i[e];return void 0!==r?r.call(i,n):new RegExp(i)[e](String(n))},function(t){var e=s(i,t,this);if(e.done)return e.value;var l=n(t),c=String(this);if(!l.global)return a(l,c);var u=l.unicode;l.lastIndex=0;for(var d,p=[],h=0;null!==(d=a(l,c));){var f=String(d[0]);p[h]=f,""===f&&(l.lastIndex=o(c,r(l.lastIndex),u)),h++}return 0===h?null:p}]})},function(t,e,i){"use strict";var n=i(13),r=i(27),o=i(22),a=i(52),s=i(170),l=i(126),c=Math.max,u=Math.min,d=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,h=/\$([$&`']|\d\d?)/g;i(127)("replace",2,function(t,e,i,f){return[function(n,r){var o=t(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,o,r):i.call(String(o),n,r)},function(t,e){var r=f(i,t,this,e);if(r.done)return r.value;var d=n(t),p=String(this),h="function"==typeof e;h||(e=String(e));var g=d.global;if(g){var v=d.unicode;d.lastIndex=0}for(var b=[];;){var y=l(d,p);if(null===y)break;if(b.push(y),!g)break;""===String(y[0])&&(d.lastIndex=s(p,o(d.lastIndex),v))}for(var _,k="",x=0,A=0;A<b.length;A++){y=b[A];for(var C=String(y[0]),w=c(u(a(y.index),p.length),0),T=[],S=1;S<y.length;S++)T.push(void 0===(_=y[S])?_:String(_));var F=y.groups;if(h){var E=[C].concat(T,w,p);void 0!==F&&E.push(F);var L=String(e.apply(void 0,E))}else L=m(C,p,w,T,F,e);w>=x&&(k+=p.slice(x,w)+L,x=w+C.length)}return k+p.slice(x)}];function m(t,e,n,o,a,s){var l=n+t.length,c=o.length,u=h;return void 0!==a&&(a=r(a),u=p),i.call(s,u,function(i,r){var s;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(l);case"<":s=a[r.slice(1,-1)];break;default:var u=+r;if(0===u)return i;if(u>c){var p=d(u/10);return 0===p?i:p<=c?void 0===o[p-1]?r.charAt(1):o[p-1]+r.charAt(1):i}s=o[u-1]}return void 0===s?"":s})}})},function(t,e,i){"use strict";var n=i(13),r=i(223),o=i(126);i(127)("search",1,function(t,e,i,a){return[function(i){var n=t(this),r=void 0==i?void 0:i[e];return void 0!==r?r.call(i,n):new RegExp(i)[e](String(n))},function(t){var e=a(i,t,this);if(e.done)return e.value;var s=n(t),l=String(this),c=s.lastIndex;r(c,0)||(s.lastIndex=0);var u=o(s,l);return r(s.lastIndex,c)||(s.lastIndex=c),null===u?-1:u.index}]})},function(t,e,i){"use strict";var n=i(124),r=i(13),o=i(107),a=i(170),s=i(22),l=i(126),c=i(169),u=i(16),d=Math.min,p=[].push,h=!u(function(){RegExp(4294967295,"y")});i(127)("split",2,function(t,e,i,u){var f;return f="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!n(t))return i.call(r,t,e);for(var o,a,s,l=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,h=void 0===e?4294967295:e>>>0,f=new RegExp(t.source,u+"g");(o=c.call(f,r))&&!((a=f.lastIndex)>d&&(l.push(r.slice(d,o.index)),o.length>1&&o.index<r.length&&p.apply(l,o.slice(1)),s=o[0].length,d=a,l.length>=h));)f.lastIndex===o.index&&f.lastIndex++;return d===r.length?!s&&f.test("")||l.push(""):l.push(r.slice(d)),l.length>h?l.slice(0,h):l}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:i.call(this,t,e)}:i,[function(i,n){var r=t(this),o=void 0==i?void 0:i[e];return void 0!==o?o.call(i,r,n):f.call(String(r),i,n)},function(t,e){var n=u(f,t,this,e,f!==i);if(n.done)return n.value;var c=r(t),p=String(this),m=o(c,RegExp),g=c.unicode,v=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(h?"y":"g"),b=new m(h?c:"^(?:"+c.source+")",v),y=void 0===e?4294967295:e>>>0;if(0===y)return[];if(0===p.length)return null===l(b,p)?[p]:[];for(var _=0,k=0,x=[];k<p.length;){b.lastIndex=h?k:0;var A,C=l(b,h?p:p.slice(k));if(null===C||(A=d(s(b.lastIndex+(h?0:k)),p.length))===_)k=a(p,k,g);else{if(x.push(p.slice(_,k)),x.length===y)return x;for(var w=1;w<=C.length-1;w++)if(x.push(C[w]),x.length===y)return x;k=_=A}}return x.push(p.slice(_)),x}]})},function(t,e,i){"use strict";var n,r,o,a,s=i(70),l=i(15),c=i(50),u=i(92),d=i(4),p=i(18),h=i(32),f=i(84),m=i(85),g=i(107),v=i(171).set,b=i(172)(),y=i(173),_=i(238),k=i(128),x=i(239),A=l.TypeError,C=l.process,w=C&&C.versions,T=w&&w.v8||"",S=l.Promise,F="process"==u(C),E=function(){},L=r=y.f,D=!!function(){try{var t=S.resolve(1),e=(t.constructor={})[i(21)("species")]=function(t){t(E,E)};return(F||"function"==typeof PromiseRejectionEvent)&&t.then(E)instanceof e&&0!==T.indexOf("6.6")&&-1===k.indexOf("Chrome/66")}catch(t){}}(),P=function(t){var e;return!(!p(t)||"function"!=typeof(e=t.then))&&e},N=function(t,e){if(!t._n){t._n=!0;var i=t._c;b(function(){for(var n=t._v,r=1==t._s,o=0,a=function(e){var i,o,a,s=r?e.ok:e.fail,l=e.resolve,c=e.reject,u=e.domain;try{s?(r||(2==t._h&&R(t),t._h=1),!0===s?i=n:(u&&u.enter(),i=s(n),u&&(u.exit(),a=!0)),i===e.promise?c(A("Promise-chain cycle")):(o=P(i))?o.call(i,l,c):l(i)):c(n)}catch(t){u&&!a&&u.exit(),c(t)}};i.length>o;)a(i[o++]);t._c=[],t._n=!1,e&&!t._h&&M(t)})}},M=function(t){v.call(l,function(){var e,i,n,r=t._v,o=I(t);if(o&&(e=_(function(){F?C.emit("unhandledRejection",r,t):(i=l.onunhandledrejection)?i({promise:t,reason:r}):(n=l.console)&&n.error&&n.error("Unhandled promise rejection",r)}),t._h=F||I(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},I=function(t){return 1!==t._h&&0===(t._a||t._c).length},R=function(t){v.call(l,function(){var e;F?C.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},O=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),N(e,!0))},V=function(t){var e,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===t)throw A("Promise can't be resolved itself");(e=P(t))?b(function(){var n={_w:i,_d:!1};try{e.call(t,c(V,n,1),c(O,n,1))}catch(t){O.call(n,t)}}):(i._v=t,i._s=1,N(i,!1))}catch(t){O.call({_w:i,_d:!1},t)}}};D||(S=function(t){f(this,S,"Promise","_h"),h(t),n.call(this);try{t(c(V,this,1),c(O,this,1))}catch(t){O.call(this,t)}},(n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=i(86)(S.prototype,{then:function(t,e){var i=L(g(this,S));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=F?C.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&N(this,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new n;this.promise=t,this.resolve=c(V,t,1),this.reject=c(O,t,1)},y.f=L=function(t){return t===S||t===a?new o(t):r(t)}),d(d.G+d.W+d.F*!D,{Promise:S}),i(91)(S,"Promise"),i(83)("Promise"),a=i(49).Promise,d(d.S+d.F*!D,"Promise",{reject:function(t){var e=L(this);return(0,e.reject)(t),e.promise}}),d(d.S+d.F*(s||!D),"Promise",{resolve:function(t){return x(s&&this===a?S:this,t)}}),d(d.S+d.F*!(D&&i(125)(function(t){S.all(t).catch(E)})),"Promise",{all:function(t){var e=this,i=L(e),n=i.resolve,r=i.reject,o=_(function(){var i=[],o=0,a=1;m(t,!1,function(t){var s=o++,l=!1;i.push(void 0),a++,e.resolve(t).then(function(t){l||(l=!0,i[s]=t,--a||n(i))},r)}),--a||n(i)});return o.e&&r(o.v),i.promise},race:function(t){var e=this,i=L(e),n=i.reject,r=_(function(){m(t,!1,function(t){e.resolve(t).then(i.resolve,n)})});return r.e&&n(r.v),i.promise}})},function(t,e,i){"use strict";var n=i(244),r=i(95);i(129)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return n.def(r(this,"WeakSet"),t,!0)}},n,!1,!0)},function(t,e,i){"use strict";var n=i(4),r=i(130),o=i(174),a=i(13),s=i(80),l=i(22),c=i(18),u=i(15).ArrayBuffer,d=i(107),p=o.ArrayBuffer,h=o.DataView,f=r.ABV&&u.isView,m=p.prototype.slice,g=r.VIEW;n(n.G+n.W+n.F*(u!==p),{ArrayBuffer:p}),n(n.S+n.F*!r.CONSTR,"ArrayBuffer",{isView:function(t){return f&&f(t)||c(t)&&g in t}}),n(n.P+n.U+n.F*i(16)(function(){return!new p(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,e){if(void 0!==m&&void 0===e)return m.call(a(this),t);for(var i=a(this).byteLength,n=s(t,i),r=s(void 0===e?i:e,i),o=new(d(this,p))(l(r-n)),c=new h(this),u=new h(o),f=0;n<r;)u.setUint8(f++,c.getUint8(n++));return o}}),i(83)("ArrayBuffer")},function(t,e,i){var n=i(4);n(n.G+n.W+n.F*!i(130).ABV,{DataView:i(174).DataView})},function(t,e,i){i(61)("Int8",1,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(61)("Uint8",1,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(61)("Uint8",1,function(t){return function(e,i,n){return t(this,e,i,n)}},!0)},function(t,e,i){i(61)("Int16",2,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(61)("Uint16",2,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(61)("Int32",4,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(61)("Uint32",4,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(61)("Float32",4,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(61)("Float64",8,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){var n=i(4),r=i(32),o=i(13),a=(i(15).Reflect||{}).apply,s=Function.apply;n(n.S+n.F*!i(16)(function(){a(function(){})}),"Reflect",{apply:function(t,e,i){var n=r(t),l=o(i);return a?a(n,e,l):s.call(n,e,l)}})},function(t,e,i){var n=i(4),r=i(81),o=i(32),a=i(13),s=i(18),l=i(16),c=i(224),u=(i(15).Reflect||{}).construct,d=l(function(){function t(){}return!(u(function(){},[],t)instanceof t)}),p=!l(function(){u(function(){})});n(n.S+n.F*(d||p),"Reflect",{construct:function(t,e){o(t),a(e);var i=arguments.length<3?t:o(arguments[2]);if(p&&!d)return u(t,e,i);if(t==i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return n.push.apply(n,e),new(c.apply(t,n))}var l=i.prototype,h=r(s(l)?l:Object.prototype),f=Function.apply.call(t,h,e);return s(f)?f:h}})},function(t,e,i){var n=i(25),r=i(4),o=i(13),a=i(54);r(r.S+r.F*i(16)(function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,i){o(t),e=a(e,!0),o(i);try{return n.f(t,e,i),!0}catch(t){return!1}}})},function(t,e,i){var n=i(4),r=i(44).f,o=i(13);n(n.S,"Reflect",{deleteProperty:function(t,e){var i=r(o(t),e);return!(i&&!i.configurable)&&delete t[e]}})},function(t,e,i){"use strict";var n=i(4),r=i(13),o=function(t){this._t=r(t),this._i=0;var e,i=this._k=[];for(e in t)i.push(e)};i(160)(o,"Object",function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}}),n(n.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,e,i){var n=i(44),r=i(45),o=i(42),a=i(4),s=i(18),l=i(13);a(a.S,"Reflect",{get:function t(e,i){var a,c,u=arguments.length<3?e:arguments[2];return l(e)===u?e[i]:(a=n.f(e,i))?o(a,"value")?a.value:void 0!==a.get?a.get.call(u):void 0:s(c=r(e))?t(c,i,u):void 0}})},function(t,e,i){var n=i(44),r=i(4),o=i(13);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return n.f(o(t),e)}})},function(t,e,i){var n=i(4),r=i(45),o=i(13);n(n.S,"Reflect",{getPrototypeOf:function(t){return r(o(t))}})},function(t,e,i){var n=i(4);n(n.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,i){var n=i(4),r=i(13),o=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(t){return r(t),!o||o(t)}})},function(t,e,i){var n=i(4);n(n.S,"Reflect",{ownKeys:i(246)})},function(t,e,i){var n=i(4),r=i(13),o=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(t){r(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,e,i){var n=i(25),r=i(44),o=i(45),a=i(42),s=i(4),l=i(77),c=i(13),u=i(18);s(s.S,"Reflect",{set:function t(e,i,s){var d,p,h=arguments.length<4?e:arguments[3],f=r.f(c(e),i);if(!f){if(u(p=o(e)))return t(p,i,s,h);f=l(0)}if(a(f,"value")){if(!1===f.writable||!u(h))return!1;if(d=r.f(h,i)){if(d.get||d.set||!1===d.writable)return!1;d.value=s,n.f(h,i,d)}else n.f(h,i,l(0,s));return!0}return void 0!==f.set&&(f.set.call(h,s),!0)}})},function(t,e,i){var n=i(4),r=i(153);r&&n(n.S,"Reflect",{setPrototypeOf:function(t,e){r.check(t,e);try{return r.set(t,e),!0}catch(t){return!1}}})},function(t,e,i){"use strict";var n=i(4),r=i(120)(!0);n(n.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i(71)("includes")},function(t,e,i){"use strict";var n=i(4),r=i(247),o=i(27),a=i(22),s=i(32),l=i(166);n(n.P,"Array",{flatMap:function(t){var e,i,n=o(this);return s(t),e=a(n.length),i=l(n,0),r(i,n,n,e,0,1,t,arguments[1]),i}}),i(71)("flatMap")},function(t,e,i){"use strict";var n=i(4),r=i(247),o=i(27),a=i(22),s=i(52),l=i(166);n(n.P,"Array",{flatten:function(){var t=arguments[0],e=o(this),i=a(e.length),n=l(e,0);return r(n,e,e,i,0,void 0===t?1:s(t)),n}}),i(71)("flatten")},function(t,e,i){"use strict";var n=i(4),r=i(123)(!0);n(n.P,"String",{at:function(t){return r(this,t)}})},function(t,e,i){"use strict";var n=i(4),r=i(248),o=i(128);n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,i){"use strict";var n=i(4),r=i(248),o=i(128);n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,i){"use strict";i(93)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,i){"use strict";i(93)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,i){"use strict";var n=i(4),r=i(55),o=i(22),a=i(124),s=i(106),l=RegExp.prototype,c=function(t,e){this._r=t,this._s=e};i(160)(c,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),n(n.P,"String",{matchAll:function(t){if(r(this),!a(t))throw TypeError(t+" is not a regexp!");var e=String(this),i="flags"in l?String(t.flags):s.call(t),n=new RegExp(t.source,~i.indexOf("g")?i:"g"+i);return n.lastIndex=o(t.lastIndex),new c(n,e)}})},function(t,e,i){i(149)("asyncIterator")},function(t,e,i){i(149)("observable")},function(t,e,i){var n=i(4),r=i(246),o=i(43),a=i(44),s=i(164);n(n.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,i,n=o(t),l=a.f,c=r(n),u={},d=0;c.length>d;)void 0!==(i=l(n,e=c[d++]))&&s(u,e,i);return u}})},function(t,e,i){var n=i(4),r=i(249)(!1);n(n.S,"Object",{values:function(t){return r(t)}})},function(t,e,i){var n=i(4),r=i(249)(!0);n(n.S,"Object",{entries:function(t){return r(t)}})},function(t,e,i){"use strict";var n=i(4),r=i(27),o=i(32),a=i(25);i(24)&&n(n.P+i(131),"Object",{__defineGetter__:function(t,e){a.f(r(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},function(t,e,i){"use strict";var n=i(4),r=i(27),o=i(32),a=i(25);i(24)&&n(n.P+i(131),"Object",{__defineSetter__:function(t,e){a.f(r(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},function(t,e,i){"use strict";var n=i(4),r=i(27),o=i(54),a=i(45),s=i(44).f;i(24)&&n(n.P+i(131),"Object",{__lookupGetter__:function(t){var e,i=r(this),n=o(t,!0);do{if(e=s(i,n))return e.get}while(i=a(i))}})},function(t,e,i){"use strict";var n=i(4),r=i(27),o=i(54),a=i(45),s=i(44).f;i(24)&&n(n.P+i(131),"Object",{__lookupSetter__:function(t){var e,i=r(this),n=o(t,!0);do{if(e=s(i,n))return e.set}while(i=a(i))}})},function(t,e,i){var n=i(4);n(n.P+n.R,"Map",{toJSON:i(250)("Map")})},function(t,e,i){var n=i(4);n(n.P+n.R,"Set",{toJSON:i(250)("Set")})},function(t,e,i){i(132)("Map")},function(t,e,i){i(132)("Set")},function(t,e,i){i(132)("WeakMap")},function(t,e,i){i(132)("WeakSet")},function(t,e,i){i(133)("Map")},function(t,e,i){i(133)("Set")},function(t,e,i){i(133)("WeakMap")},function(t,e,i){i(133)("WeakSet")},function(t,e,i){var n=i(4);n(n.G,{global:i(15)})},function(t,e,i){var n=i(4);n(n.S,"System",{global:i(15)})},function(t,e,i){var n=i(4),r=i(51);n(n.S,"Error",{isError:function(t){return"Error"===r(t)}})},function(t,e,i){var n=i(4);n(n.S,"Math",{clamp:function(t,e,i){return Math.min(i,Math.max(e,t))}})},function(t,e,i){var n=i(4);n(n.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,e,i){var n=i(4),r=180/Math.PI;n(n.S,"Math",{degrees:function(t){return t*r}})},function(t,e,i){var n=i(4),r=i(252),o=i(231);n(n.S,"Math",{fscale:function(t,e,i,n,a){return o(r(t,e,i,n,a))}})},function(t,e,i){var n=i(4);n(n.S,"Math",{iaddh:function(t,e,i,n){var r=t>>>0,o=i>>>0;return(e>>>0)+(n>>>0)+((r&o|(r|o)&~(r+o>>>0))>>>31)|0}})},function(t,e,i){var n=i(4);n(n.S,"Math",{isubh:function(t,e,i,n){var r=t>>>0,o=i>>>0;return(e>>>0)-(n>>>0)-((~r&o|~(r^o)&r-o>>>0)>>>31)|0}})},function(t,e,i){var n=i(4);n(n.S,"Math",{imulh:function(t,e){var i=+t,n=+e,r=65535&i,o=65535&n,a=i>>16,s=n>>16,l=(a*o>>>0)+(r*o>>>16);return a*s+(l>>16)+((r*s>>>0)+(65535&l)>>16)}})},function(t,e,i){var n=i(4);n(n.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,e,i){var n=i(4),r=Math.PI/180;n(n.S,"Math",{radians:function(t){return t*r}})},function(t,e,i){var n=i(4);n(n.S,"Math",{scale:i(252)})},function(t,e,i){var n=i(4);n(n.S,"Math",{umulh:function(t,e){var i=+t,n=+e,r=65535&i,o=65535&n,a=i>>>16,s=n>>>16,l=(a*o>>>0)+(r*o>>>16);return a*s+(l>>>16)+((r*s>>>0)+(65535&l)>>>16)}})},function(t,e,i){var n=i(4);n(n.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},function(t,e,i){"use strict";var n=i(4),r=i(49),o=i(15),a=i(107),s=i(239);n(n.P+n.R,"Promise",{finally:function(t){var e=a(this,r.Promise||o.Promise),i="function"==typeof t;return this.then(i?function(i){return s(e,t()).then(function(){return i})}:t,i?function(i){return s(e,t()).then(function(){throw i})}:t)}})},function(t,e,i){"use strict";var n=i(4),r=i(173),o=i(238);n(n.S,"Promise",{try:function(t){var e=r.f(this),i=o(t);return(i.e?e.reject:e.resolve)(i.v),e.promise}})},function(t,e,i){var n=i(62),r=i(13),o=n.key,a=n.set;n.exp({defineMetadata:function(t,e,i,n){a(t,e,r(i),o(n))}})},function(t,e,i){var n=i(62),r=i(13),o=n.key,a=n.map,s=n.store;n.exp({deleteMetadata:function(t,e){var i=arguments.length<3?void 0:o(arguments[2]),n=a(r(e),i,!1);if(void 0===n||!n.delete(t))return!1;if(n.size)return!0;var l=s.get(e);return l.delete(i),!!l.size||s.delete(e)}})},function(t,e,i){var n=i(62),r=i(13),o=i(45),a=n.has,s=n.get,l=n.key,c=function(t,e,i){if(a(t,e,i))return s(t,e,i);var n=o(e);return null!==n?c(t,n,i):void 0};n.exp({getMetadata:function(t,e){return c(t,r(e),arguments.length<3?void 0:l(arguments[2]))}})},function(t,e,i){var n=i(242),r=i(251),o=i(62),a=i(13),s=i(45),l=o.keys,c=o.key,u=function(t,e){var i=l(t,e),o=s(t);if(null===o)return i;var a=u(o,e);return a.length?i.length?r(new n(i.concat(a))):a:i};o.exp({getMetadataKeys:function(t){return u(a(t),arguments.length<2?void 0:c(arguments[1]))}})},function(t,e,i){var n=i(62),r=i(13),o=n.get,a=n.key;n.exp({getOwnMetadata:function(t,e){return o(t,r(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,i){var n=i(62),r=i(13),o=n.keys,a=n.key;n.exp({getOwnMetadataKeys:function(t){return o(r(t),arguments.length<2?void 0:a(arguments[1]))}})},function(t,e,i){var n=i(62),r=i(13),o=i(45),a=n.has,s=n.key,l=function(t,e,i){if(a(t,e,i))return!0;var n=o(e);return null!==n&&l(t,n,i)};n.exp({hasMetadata:function(t,e){return l(t,r(e),arguments.length<3?void 0:s(arguments[2]))}})},function(t,e,i){var n=i(62),r=i(13),o=n.has,a=n.key;n.exp({hasOwnMetadata:function(t,e){return o(t,r(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,i){var n=i(62),r=i(13),o=i(32),a=n.key,s=n.set;n.exp({metadata:function(t,e){return function(i,n){s(t,e,(void 0!==n?r:o)(i),a(n))}}})},function(t,e,i){var n=i(4),r=i(172)(),o=i(15).process,a="process"==i(51)(o);n(n.G,{asap:function(t){var e=a&&o.domain;r(e?e.bind(t):t)}})},function(t,e,i){"use strict";var n=i(4),r=i(15),o=i(49),a=i(172)(),s=i(21)("observable"),l=i(32),c=i(13),u=i(84),d=i(86),p=i(38),h=i(85),f=h.RETURN,m=function(t){return null==t?void 0:l(t)},g=function(t){var e=t._c;e&&(t._c=void 0,e())},v=function(t){return void 0===t._o},b=function(t){v(t)||(t._o=void 0,g(t))},y=function(t,e){c(t),this._c=void 0,this._o=t,t=new _(this);try{var i=e(t),n=i;null!=i&&("function"==typeof i.unsubscribe?i=function(){n.unsubscribe()}:l(i),this._c=i)}catch(e){return void t.error(e)}v(this)&&g(this)};y.prototype=d({},{unsubscribe:function(){b(this)}});var _=function(t){this._s=t};_.prototype=d({},{next:function(t){var e=this._s;if(!v(e)){var i=e._o;try{var n=m(i.next);if(n)return n.call(i,t)}catch(t){try{b(e)}finally{throw t}}}},error:function(t){var e=this._s;if(v(e))throw t;var i=e._o;e._o=void 0;try{var n=m(i.error);if(!n)throw t;t=n.call(i,t)}catch(t){try{g(e)}finally{throw t}}return g(e),t},complete:function(t){var e=this._s;if(!v(e)){var i=e._o;e._o=void 0;try{var n=m(i.complete);t=n?n.call(i,t):void 0}catch(t){try{g(e)}finally{throw t}}return g(e),t}}});var k=function(t){u(this,k,"Observable","_f")._f=l(t)};d(k.prototype,{subscribe:function(t){return new y(t,this._f)},forEach:function(t){var e=this;return new(o.Promise||r.Promise)(function(i,n){l(t);var r=e.subscribe({next:function(e){try{return t(e)}catch(t){n(t),r.unsubscribe()}},error:n,complete:i})})}}),d(k,{from:function(t){var e="function"==typeof this?this:k,i=m(c(t)[s]);if(i){var n=c(i.call(t));return n.constructor===e?n:new e(function(t){return n.subscribe(t)})}return new e(function(e){var i=!1;return a(function(){if(!i){try{if(h(t,!1,function(t){if(e.next(t),i)return f})===f)return}catch(t){if(i)throw t;return void e.error(t)}e.complete()}}),function(){i=!0}})},of:function(){for(var t=0,e=arguments.length,i=new Array(e);t<e;)i[t]=arguments[t++];return new("function"==typeof this?this:k)(function(t){var e=!1;return a(function(){if(!e){for(var n=0;n<i.length;++n)if(t.next(i[n]),e)return;t.complete()}}),function(){e=!0}})}}),p(k.prototype,s,function(){return this}),n(n.G,{Observable:k}),i(83)("Observable")},function(t,e,i){var n=i(15),r=i(4),o=i(128),a=[].slice,s=/MSIE .\./.test(o),l=function(t){return function(e,i){var n=arguments.length>2,r=!!n&&a.call(arguments,2);return t(n?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,i)}};r(r.G+r.B+r.F*s,{setTimeout:l(n.setTimeout),setInterval:l(n.setInterval)})},function(t,e,i){var n=i(4),r=i(171);n(n.G+n.B,{setImmediate:r.set,clearImmediate:r.clear})},function(t,e,i){for(var n=i(168),r=i(79),o=i(39),a=i(15),s=i(38),l=i(94),c=i(21),u=c("iterator"),d=c("toStringTag"),p=l.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=r(h),m=0;m<f.length;m++){var g,v=f[m],b=h[v],y=a[v],_=y&&y.prototype;if(_&&(_[u]||s(_,u,p),_[d]||s(_,d,v),l[v]=p,b))for(g in n)_[g]||o(_,g,n[g],!0)}},function(t,e,i){(function(e){!function(e){"use strict";var i,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag",c="object"==typeof t,u=e.regeneratorRuntime;if(u)c&&(t.exports=u);else{(u=e.regeneratorRuntime=c?t.exports:{}).wrap=_;var d="suspendedStart",p="suspendedYield",h="executing",f="completed",m={},g={};g[a]=function(){return this};var v=Object.getPrototypeOf,b=v&&v(v(D([])));b&&b!==n&&r.call(b,a)&&(g=b);var y=C.prototype=x.prototype=Object.create(g);A.prototype=y.constructor=C,C.constructor=A,C[l]=A.displayName="GeneratorFunction",u.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===A||"GeneratorFunction"===(e.displayName||e.name))},u.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,C):(t.__proto__=C,l in t||(t[l]="GeneratorFunction")),t.prototype=Object.create(y),t},u.awrap=function(t){return{__await:t}},w(T.prototype),T.prototype[s]=function(){return this},u.AsyncIterator=T,u.async=function(t,e,i,n){var r=new T(_(t,e,i,n));return u.isGeneratorFunction(e)?r:r.next().then(function(t){return t.done?t.value:r.next()})},w(y),y[l]="Generator",y[a]=function(){return this},y.toString=function(){return"[object Generator]"},u.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},u.values=D,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=i)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=i),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),E(i),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;E(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:D(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=i),m}}}function _(t,e,i,n){var r=e&&e.prototype instanceof x?e:x,o=Object.create(r.prototype),a=new L(n||[]);return o._invoke=function(t,e,i){var n=d;return function(r,o){if(n===h)throw new Error("Generator is already running");if(n===f){if("throw"===r)throw o;return P()}for(i.method=r,i.arg=o;;){var a=i.delegate;if(a){var s=S(a,i);if(s){if(s===m)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===d)throw n=f,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=h;var l=k(t,e,i);if("normal"===l.type){if(n=i.done?f:p,l.arg===m)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(n=f,i.method="throw",i.arg=l.arg)}}}(t,i,a),o}function k(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}function x(){}function A(){}function C(){}function w(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function T(t){function i(e,n,o,a){var s=k(t[e],t,n);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==typeof c&&r.call(c,"__await")?Promise.resolve(c.__await).then(function(t){i("next",t,o,a)},function(t){i("throw",t,o,a)}):Promise.resolve(c).then(function(t){l.value=t,o(l)},a)}a(s.arg)}var n;"object"==typeof e.process&&e.process.domain&&(i=e.process.domain.bind(i)),this._invoke=function(t,e){function r(){return new Promise(function(n,r){i(t,e,n,r)})}return n=n?n.then(r,r):r()}}function S(t,e){var n=t.iterator[e.method];if(n===i){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=i,S(t,e),"throw"===e.method))return m;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=k(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,m;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=i),e.delegate=null,m):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function F(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(F,this),this.reset(!0)}function D(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=i,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:i,done:!0}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(e,i(90))},function(t,e,i){i(829),t.exports=i(49).RegExp.escape},function(t,e,i){var n=i(4),r=i(830)(/[\\^$*+?.()|[\]{}]/g,"\\$&");n(n.S,"RegExp",{escape:function(t){return r(t)}})},function(t,e){t.exports=function(t,e){var i=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,i)}}},function(t,e,i){"use strict";var n,r;n=[i(1),i(14)],void 0===(r=function(t,e){e.build("pim-app").then(function(e){e.setElement(t(".app")),e.render()})}.apply(e,n))||(t.exports=r)},function(t,e,i){(function(e){t.exports=e.$=i(833)}).call(e,i(90))},function(t,e,i){var n,r,o;
/*!
 * jQuery JavaScript Library v1.11.0
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-01-23T21:02Z
 */
/*!
 * jQuery JavaScript Library v1.11.0
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-01-23T21:02Z
 */
r="undefined"!=typeof window?window:this,o=function(i,r){var o=[],a=o.slice,s=o.concat,l=o.push,c=o.indexOf,u={},d=u.toString,p=u.hasOwnProperty,h="".trim,f={},m=function(t,e){return new m.fn.init(t,e)},g=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,v=/^-ms-/,b=/-([\da-z])/gi,y=function(t,e){return e.toUpperCase()};function _(t){var e=t.length,i=m.type(t);return"function"!==i&&!m.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t))}m.fn=m.prototype={jquery:"1.11.0",constructor:m,selector:"",length:0,toArray:function(){return a.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:a.call(this)},pushStack:function(t){var e=m.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return m.each(this,t,e)},map:function(t){return this.pushStack(m.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:l,sort:o.sort,splice:o.splice},m.extend=m.fn.extend=function(){var t,e,i,n,r,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||m.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(r=arguments[s]))for(n in r)t=a[n],a!==(i=r[n])&&(c&&i&&(m.isPlainObject(i)||(e=m.isArray(i)))?(e?(e=!1,o=t&&m.isArray(t)?t:[]):o=t&&m.isPlainObject(t)?t:{},a[n]=m.extend(c,o,i)):void 0!==i&&(a[n]=i));return a},m.extend({expando:"jQuery"+("1.11.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===m.type(t)},isArray:Array.isArray||function(t){return"array"===m.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return t-parseFloat(t)>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==m.type(t)||t.nodeType||m.isWindow(t))return!1;try{if(t.constructor&&!p.call(t,"constructor")&&!p.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}if(f.ownLast)for(e in t)return p.call(t,e);for(e in t);return void 0===e||p.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?u[d.call(t)]||"object":typeof t},globalEval:function(t){t&&m.trim(t)&&(i.execScript||function(t){i.eval.call(i,t)})(t)},camelCase:function(t){return t.replace(v,"ms-").replace(b,y)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var n=0,r=t.length,o=_(t);if(i){if(o)for(;n<r&&!1!==e.apply(t[n],i);n++);else for(n in t)if(!1===e.apply(t[n],i))break}else if(o)for(;n<r&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},trim:h&&!h.call("\ufeff ")?function(t){return null==t?"":h.call(t)}:function(t){return null==t?"":(t+"").replace(g,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(_(Object(t))?m.merge(i,"string"==typeof t?[t]:t):l.call(i,t)),i},inArray:function(t,e,i){var n;if(e){if(c)return c.call(e,t,i);for(n=e.length,i=i?i<0?Math.max(0,n+i):i:0;i<n;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;n<i;)t[r++]=e[n++];if(i!=i)for(;void 0!==e[n];)t[r++]=e[n++];return t.length=r,t},grep:function(t,e,i){for(var n=[],r=0,o=t.length,a=!i;r<o;r++)!e(t[r],r)!==a&&n.push(t[r]);return n},map:function(t,e,i){var n,r=0,o=t.length,a=[];if(_(t))for(;r<o;r++)null!=(n=e(t[r],r,i))&&a.push(n);else for(r in t)null!=(n=e(t[r],r,i))&&a.push(n);return s.apply([],a)},guid:1,proxy:function(t,e){var i,n,r;if("string"==typeof e&&(r=t[e],e=t,t=r),m.isFunction(t))return i=a.call(arguments,2),(n=function(){return t.apply(e||this,i.concat(a.call(arguments)))}).guid=t.guid=t.guid||m.guid++,n},now:function(){return+new Date},support:f}),m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){u["[object "+e+"]"]=e.toLowerCase()});var k=
/*!
 * Sizzle CSS Selector Engine v1.10.16
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-01-13
 */
function(t){var e,i,n,r,o,a,s,l,c,u,d,p,h,f,m,g,v,b="sizzle"+-new Date,y=t.document,_=0,k=0,x=nt(),A=nt(),C=nt(),w=function(t,e){return t===e&&(c=!0),0},T="undefined",S=1<<31,F={}.hasOwnProperty,E=[],L=E.pop,D=E.push,P=E.push,N=E.slice,M=E.indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(this[e]===t)return e;return-1},I="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="[\\x20\\t\\r\\n\\f]",O="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",V=O.replace("w","w#"),B="\\["+R+"*("+O+")"+R+"*(?:([*^$|!~]?=)"+R+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+V+")|)|)"+R+"*\\]",j=":("+O+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+B.replace(3,8)+")*)|.*)\\)|)",$=new RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g"),U=new RegExp("^"+R+"*,"+R+"*"),z=new RegExp("^"+R+"*([>+~]|"+R+")"+R+"*"),q=new RegExp("="+R+"*([^\\]'\"]*?)"+R+"*\\]","g"),G=new RegExp(j),H=new RegExp("^"+V+"$"),W={ID:new RegExp("^#("+O+")"),CLASS:new RegExp("^\\.("+O+")"),TAG:new RegExp("^("+O.replace("w","w*")+")"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+R+"*(even|odd|(([+-]|)(\\d*)n|)"+R+"*(?:([+-]|)"+R+"*(\\d+)|))"+R+"*\\)|)","i"),bool:new RegExp("^(?:"+I+")$","i"),needsContext:new RegExp("^"+R+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+R+"*((?:-\\d)?\\d*)"+R+"*\\)|)(?=[^-]|$)","i")},J=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,Y=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,X=/[+~]/,Q=/'|\\/g,tt=new RegExp("\\\\([\\da-f]{1,6}"+R+"?|("+R+")|.)","ig"),et=function(t,e,i){var n="0x"+e-65536;return n!=n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{P.apply(E=N.call(y.childNodes),y.childNodes),E[y.childNodes.length].nodeType}catch(t){P={apply:E.length?function(t,e){D.apply(t,N.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}function it(t,e,r,o){var s,l,c,p,m,g,_,k,x,A;if((e?e.ownerDocument||e:y)!==d&&u(e),e=e||d,r=r||[],!t||"string"!=typeof t)return r;if(1!==(p=e.nodeType)&&9!==p)return[];if(h&&!o){if(s=Y.exec(t))if(c=s[1]){if(9===p){if(!(l=e.getElementById(c))||!l.parentNode)return r;if(l.id===c)return r.push(l),r}else if(e.ownerDocument&&(l=e.ownerDocument.getElementById(c))&&v(e,l)&&l.id===c)return r.push(l),r}else{if(s[2])return P.apply(r,e.getElementsByTagName(t)),r;if((c=s[3])&&i.getElementsByClassName&&e.getElementsByClassName)return P.apply(r,e.getElementsByClassName(c)),r}if(i.qsa&&(!f||!f.test(t))){if(k=_=b,x=e,A=9===p&&t,1===p&&"object"!==e.nodeName.toLowerCase()){for(g=ht(t),(_=e.getAttribute("id"))?k=_.replace(Q,"\\$&"):e.setAttribute("id",k),k="[id='"+k+"'] ",m=g.length;m--;)g[m]=k+ft(g[m]);x=X.test(t)&&dt(e.parentNode)||e,A=g.join(",")}if(A)try{return P.apply(r,x.querySelectorAll(A)),r}catch(t){}finally{_||e.removeAttribute("id")}}}return function(t,e,r,o){var s,l,c,u,d,p=ht(t);if(!o&&1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&i.getById&&9===e.nodeType&&h&&n.relative[l[1].type]){if(!(e=(n.find.ID(c.matches[0].replace(tt,et),e)||[])[0]))return r;t=t.slice(l.shift().value.length)}for(s=W.needsContext.test(t)?0:l.length;s--&&(c=l[s],!n.relative[u=c.type]);)if((d=n.find[u])&&(o=d(c.matches[0].replace(tt,et),X.test(l[0].type)&&dt(e.parentNode)||e))){if(l.splice(s,1),!(t=o.length&&ft(l)))return P.apply(r,o),r;break}}return a(t,p)(o,e,!h,r,X.test(t)&&dt(e.parentNode)||e),r}(t.replace($,"$1"),e,r,o)}function nt(){var t=[];return function e(i,r){return t.push(i+" ")>n.cacheLength&&delete e[t.shift()],e[i+" "]=r}}function rt(t){return t[b]=!0,t}function ot(t){var e=d.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function at(t,e){for(var i=t.split("|"),r=t.length;r--;)n.attrHandle[i[r]]=e}function st(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||S)-(~t.sourceIndex||S);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function lt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ct(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function ut(t){return rt(function(e){return e=+e,rt(function(i,n){for(var r,o=t([],i.length,e),a=o.length;a--;)i[r=o[a]]&&(i[r]=!(n[r]=i[r]))})})}function dt(t){return t&&typeof t.getElementsByTagName!==T&&t}for(e in i=it.support={},o=it.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},u=it.setDocument=function(t){var e,r=t?t.ownerDocument||t:y,a=r.defaultView;return r!==d&&9===r.nodeType&&r.documentElement?(d=r,p=r.documentElement,h=!o(r),a&&a!==a.top&&(a.addEventListener?a.addEventListener("unload",function(){u()},!1):a.attachEvent&&a.attachEvent("onunload",function(){u()})),i.attributes=ot(function(t){return t.className="i",!t.getAttribute("className")}),i.getElementsByTagName=ot(function(t){return t.appendChild(r.createComment("")),!t.getElementsByTagName("*").length}),i.getElementsByClassName=Z.test(r.getElementsByClassName)&&ot(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),i.getById=ot(function(t){return p.appendChild(t).id=b,!r.getElementsByName||!r.getElementsByName(b).length}),i.getById?(n.find.ID=function(t,e){if(typeof e.getElementById!==T&&h){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},n.filter.ID=function(t){var e=t.replace(tt,et);return function(t){return t.getAttribute("id")===e}}):(delete n.find.ID,n.filter.ID=function(t){var e=t.replace(tt,et);return function(t){var i=typeof t.getAttributeNode!==T&&t.getAttributeNode("id");return i&&i.value===e}}),n.find.TAG=i.getElementsByTagName?function(t,e){if(typeof e.getElementsByTagName!==T)return e.getElementsByTagName(t)}:function(t,e){var i,n=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o},n.find.CLASS=i.getElementsByClassName&&function(t,e){if(typeof e.getElementsByClassName!==T&&h)return e.getElementsByClassName(t)},m=[],f=[],(i.qsa=Z.test(r.querySelectorAll))&&(ot(function(t){t.innerHTML="<select t=''><option selected=''></option></select>",t.querySelectorAll("[t^='']").length&&f.push("[*^$]="+R+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||f.push("\\["+R+"*(?:value|"+I+")"),t.querySelectorAll(":checked").length||f.push(":checked")}),ot(function(t){var e=r.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&f.push("name"+R+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||f.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),f.push(",.*:")})),(i.matchesSelector=Z.test(g=p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ot(function(t){i.disconnectedMatch=g.call(t,"div"),g.call(t,"[s!='']:x"),m.push("!=",j)}),f=f.length&&new RegExp(f.join("|")),m=m.length&&new RegExp(m.join("|")),e=Z.test(p.compareDocumentPosition),v=e||Z.test(p.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},w=e?function(t,e){if(t===e)return c=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!i.sortDetached&&e.compareDocumentPosition(t)===n?t===r||t.ownerDocument===y&&v(y,t)?-1:e===r||e.ownerDocument===y&&v(y,e)?1:l?M.call(l,t)-M.call(l,e):0:4&n?-1:1)}:function(t,e){if(t===e)return c=!0,0;var i,n=0,o=t.parentNode,a=e.parentNode,s=[t],u=[e];if(!o||!a)return t===r?-1:e===r?1:o?-1:a?1:l?M.call(l,t)-M.call(l,e):0;if(o===a)return st(t,e);for(i=t;i=i.parentNode;)s.unshift(i);for(i=e;i=i.parentNode;)u.unshift(i);for(;s[n]===u[n];)n++;return n?st(s[n],u[n]):s[n]===y?-1:u[n]===y?1:0},r):d},it.matches=function(t,e){return it(t,null,null,e)},it.matchesSelector=function(t,e){if((t.ownerDocument||t)!==d&&u(t),e=e.replace(q,"='$1']"),i.matchesSelector&&h&&(!m||!m.test(e))&&(!f||!f.test(e)))try{var n=g.call(t,e);if(n||i.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return it(e,d,null,[t]).length>0},it.contains=function(t,e){return(t.ownerDocument||t)!==d&&u(t),v(t,e)},it.attr=function(t,e){(t.ownerDocument||t)!==d&&u(t);var r=n.attrHandle[e.toLowerCase()],o=r&&F.call(n.attrHandle,e.toLowerCase())?r(t,e,!h):void 0;return void 0!==o?o:i.attributes||!h?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},it.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},it.uniqueSort=function(t){var e,n=[],r=0,o=0;if(c=!i.detectDuplicates,l=!i.sortStable&&t.slice(0),t.sort(w),c){for(;e=t[o++];)e===t[o]&&(r=n.push(o));for(;r--;)t.splice(n[r],1)}return l=null,t},r=it.getText=function(t){var e,i="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n++];)i+=r(e);return i},(n=it.selectors={cacheLength:50,createPseudo:rt,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(tt,et),t[3]=(t[4]||t[5]||"").replace(tt,et),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||it.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&it.error(t[0]),t},PSEUDO:function(t){var e,i=!t[5]&&t[2];return W.CHILD.test(t[0])?null:(t[3]&&void 0!==t[4]?t[2]=t[4]:i&&G.test(i)&&(e=ht(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(tt,et).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=x[t+" "];return e||(e=new RegExp("(^|"+R+")"+t+"("+R+"|$)"))&&x(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==T&&t.getAttribute("class")||"")})},ATTR:function(t,e,i){return function(n){var r=it.attr(n,t);return null==r?"!="===e:!e||(r+="","="===e?r===i:"!="===e?r!==i:"^="===e?i&&0===r.indexOf(i):"*="===e?i&&r.indexOf(i)>-1:"$="===e?i&&r.slice(-i.length)===i:"~="===e?(" "+r+" ").indexOf(i)>-1:"|="===e&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,i,n,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,l){var c,u,d,p,h,f,m=o!==a?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s;if(g){if(o){for(;m;){for(d=e;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&y){for(h=(c=(u=g[b]||(g[b]={}))[t]||[])[0]===_&&c[1],p=c[0]===_&&c[2],d=h&&g.childNodes[h];d=++h&&d&&d[m]||(p=h=0)||f.pop();)if(1===d.nodeType&&++p&&d===e){u[t]=[_,h,p];break}}else if(y&&(c=(e[b]||(e[b]={}))[t])&&c[0]===_)p=c[1];else for(;(d=++h&&d&&d[m]||(p=h=0)||f.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++p||(y&&((d[b]||(d[b]={}))[t]=[_,p]),d!==e)););return(p-=r)===n||p%n==0&&p/n>=0}}},PSEUDO:function(t,e){var i,r=n.pseudos[t]||n.setFilters[t.toLowerCase()]||it.error("unsupported pseudo: "+t);return r[b]?r(e):r.length>1?(i=[t,t,"",e],n.setFilters.hasOwnProperty(t.toLowerCase())?rt(function(t,i){for(var n,o=r(t,e),a=o.length;a--;)t[n=M.call(t,o[a])]=!(i[n]=o[a])}):function(t){return r(t,0,i)}):r}},pseudos:{not:rt(function(t){var e=[],i=[],n=a(t.replace($,"$1"));return n[b]?rt(function(t,e,i,r){for(var o,a=n(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,r,o){return e[0]=t,n(e,null,o,i),!i.pop()}}),has:rt(function(t){return function(e){return it(t,e).length>0}}),contains:rt(function(t){return function(e){return(e.textContent||e.innerText||r(e)).indexOf(t)>-1}}),lang:rt(function(t){return H.test(t||"")||it.error("unsupported lang: "+t),t=t.replace(tt,et).toLowerCase(),function(e){var i;do{if(i=h?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!n.pseudos.empty(t)},header:function(t){return K.test(t.nodeName)},input:function(t){return J.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:ut(function(){return[0]}),last:ut(function(t,e){return[e-1]}),eq:ut(function(t,e,i){return[i<0?i+e:i]}),even:ut(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:ut(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:ut(function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t}),gt:ut(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[e]=lt(e);for(e in{submit:!0,reset:!0})n.pseudos[e]=ct(e);function pt(){}function ht(t,e){var i,r,o,a,s,l,c,u=A[t+" "];if(u)return e?0:u.slice(0);for(s=t,l=[],c=n.preFilter;s;){for(a in i&&!(r=U.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=z.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace($," ")}),s=s.slice(i.length)),n.filter)!(r=W[a].exec(s))||c[a]&&!(r=c[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return e?s.length:s?it.error(t):A(t,l).slice(0)}function ft(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function mt(t,e,i){var n=e.dir,r=i&&"parentNode"===n,o=k++;return e.first?function(e,i,o){for(;e=e[n];)if(1===e.nodeType||r)return t(e,i,o)}:function(e,i,a){var s,l,c=[_,o];if(a){for(;e=e[n];)if((1===e.nodeType||r)&&t(e,i,a))return!0}else for(;e=e[n];)if(1===e.nodeType||r){if((s=(l=e[b]||(e[b]={}))[n])&&s[0]===_&&s[1]===o)return c[2]=s[2];if(l[n]=c,c[2]=t(e,i,a))return!0}}}function gt(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function vt(t,e,i,n,r){for(var o,a=[],s=0,l=t.length,c=null!=e;s<l;s++)(o=t[s])&&(i&&!i(o,n,r)||(a.push(o),c&&e.push(s)));return a}function bt(t,e,i,n,r,o){return n&&!n[b]&&(n=bt(n)),r&&!r[b]&&(r=bt(r,o)),rt(function(o,a,s,l){var c,u,d,p=[],h=[],f=a.length,m=o||function(t,e,i){for(var n=0,r=e.length;n<r;n++)it(t,e[n],i);return i}(e||"*",s.nodeType?[s]:s,[]),g=!t||!o&&e?m:vt(m,p,t,s,l),v=i?r||(o?t:f||n)?[]:a:g;if(i&&i(g,v,s,l),n)for(c=vt(v,h),n(c,[],s,l),u=c.length;u--;)(d=c[u])&&(v[h[u]]=!(g[h[u]]=d));if(o){if(r||t){if(r){for(c=[],u=v.length;u--;)(d=v[u])&&c.push(g[u]=d);r(null,v=[],c,l)}for(u=v.length;u--;)(d=v[u])&&(c=r?M.call(o,d):p[u])>-1&&(o[c]=!(a[c]=d))}}else v=vt(v===a?v.splice(f,v.length):v),r?r(null,a,v,l):P.apply(a,v)})}function yt(t){for(var e,i,r,o=t.length,a=n.relative[t[0].type],l=a||n.relative[" "],c=a?1:0,u=mt(function(t){return t===e},l,!0),d=mt(function(t){return M.call(e,t)>-1},l,!0),p=[function(t,i,n){return!a&&(n||i!==s)||((e=i).nodeType?u(t,i,n):d(t,i,n))}];c<o;c++)if(i=n.relative[t[c].type])p=[mt(gt(p),i)];else{if((i=n.filter[t[c].type].apply(null,t[c].matches))[b]){for(r=++c;r<o&&!n.relative[t[r].type];r++);return bt(c>1&&gt(p),c>1&&ft(t.slice(0,c-1).concat({value:" "===t[c-2].type?"*":""})).replace($,"$1"),i,c<r&&yt(t.slice(c,r)),r<o&&yt(t=t.slice(r)),r<o&&ft(t))}p.push(i)}return gt(p)}return pt.prototype=n.filters=n.pseudos,n.setFilters=new pt,a=it.compile=function(t,e){var i,r=[],o=[],a=C[t+" "];if(!a){for(e||(e=ht(t)),i=e.length;i--;)(a=yt(e[i]))[b]?r.push(a):o.push(a);a=C(t,function(t,e){var i=e.length>0,r=t.length>0,o=function(o,a,l,c,u){var p,h,f,m=0,g="0",v=o&&[],b=[],y=s,k=o||r&&n.find.TAG("*",u),x=_+=null==y?1:Math.random()||.1,A=k.length;for(u&&(s=a!==d&&a);g!==A&&null!=(p=k[g]);g++){if(r&&p){for(h=0;f=t[h++];)if(f(p,a,l)){c.push(p);break}u&&(_=x)}i&&((p=!f&&p)&&m--,o&&v.push(p))}if(m+=g,i&&g!==m){for(h=0;f=e[h++];)f(v,b,a,l);if(o){if(m>0)for(;g--;)v[g]||b[g]||(b[g]=L.call(c));b=vt(b)}P.apply(c,b),u&&!o&&b.length>0&&m+e.length>1&&it.uniqueSort(c)}return u&&(_=x,s=y),v};return i?rt(o):o}(o,r))}return a},i.sortStable=b.split("").sort(w).join("")===b,i.detectDuplicates=!!c,u(),i.sortDetached=ot(function(t){return 1&t.compareDocumentPosition(d.createElement("div"))}),ot(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||at("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),i.attributes&&ot(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||at("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ot(function(t){return null==t.getAttribute("disabled")})||at(I,function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),it}(i);m.find=k,m.expr=k.selectors,m.expr[":"]=m.expr.pseudos,m.unique=k.uniqueSort,m.text=k.getText,m.isXMLDoc=k.isXML,m.contains=k.contains;var x=m.expr.match.needsContext,A=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,C=/^.[^:#\[\.,]*$/;function w(t,e,i){if(m.isFunction(e))return m.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return m.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(C.test(e))return m.filter(e,t,i);e=m.filter(e,t)}return m.grep(t,function(t){return m.inArray(t,e)>=0!==i})}m.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?m.find.matchesSelector(n,t)?[n]:[]:m.find.matches(t,m.grep(e,function(t){return 1===t.nodeType}))},m.fn.extend({find:function(t){var e,i=[],n=this,r=n.length;if("string"!=typeof t)return this.pushStack(m(t).filter(function(){for(e=0;e<r;e++)if(m.contains(n[e],this))return!0}));for(e=0;e<r;e++)m.find(t,n[e],i);return(i=this.pushStack(r>1?m.unique(i):i)).selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(w(this,t||[],!1))},not:function(t){return this.pushStack(w(this,t||[],!0))},is:function(t){return!!w(this,"string"==typeof t&&x.test(t)?m(t):t||[],!1).length}});var T,S=i.document,F=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(m.fn.init=function(t,e){var i,n;if(!t)return this;if("string"==typeof t){if(!(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:F.exec(t))||!i[1]&&e)return!e||e.jquery?(e||T).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof m?e[0]:e,m.merge(this,m.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:S,!0)),A.test(i[1])&&m.isPlainObject(e))for(i in e)m.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}if((n=S.getElementById(i[2]))&&n.parentNode){if(n.id!==i[2])return T.find(t);this.length=1,this[0]=n}return this.context=S,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):m.isFunction(t)?void 0!==T.ready?T.ready(t):t(m):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),m.makeArray(t,this))}).prototype=m.fn,T=m(S);var E=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};function D(t,e){do{t=t[e]}while(t&&1!==t.nodeType);return t}m.extend({dir:function(t,e,i){for(var n=[],r=t[e];r&&9!==r.nodeType&&(void 0===i||1!==r.nodeType||!m(r).is(i));)1===r.nodeType&&n.push(r),r=r[e];return n},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}}),m.fn.extend({has:function(t){var e,i=m(t,this),n=i.length;return this.filter(function(){for(e=0;e<n;e++)if(m.contains(this,i[e]))return!0})},closest:function(t,e){for(var i,n=0,r=this.length,o=[],a=x.test(t)||"string"!=typeof t?m(t,e||this.context):0;n<r;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&m.find.matchesSelector(i,t))){o.push(i);break}return this.pushStack(o.length>1?m.unique(o):o)},index:function(t){return t?"string"==typeof t?m.inArray(this[0],m(t)):m.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(m.unique(m.merge(this.get(),m(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),m.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return m.dir(t,"parentNode")},parentsUntil:function(t,e,i){return m.dir(t,"parentNode",i)},next:function(t){return D(t,"nextSibling")},prev:function(t){return D(t,"previousSibling")},nextAll:function(t){return m.dir(t,"nextSibling")},prevAll:function(t){return m.dir(t,"previousSibling")},nextUntil:function(t,e,i){return m.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return m.dir(t,"previousSibling",i)},siblings:function(t){return m.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return m.sibling(t.firstChild)},contents:function(t){return m.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:m.merge([],t.childNodes)}},function(t,e){m.fn[t]=function(i,n){var r=m.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=m.filter(n,r)),this.length>1&&(L[t]||(r=m.unique(r)),E.test(t)&&(r=r.reverse())),this.pushStack(r)}});var P,N=/\S+/g,M={};function I(){S.addEventListener?(S.removeEventListener("DOMContentLoaded",R,!1),i.removeEventListener("load",R,!1)):(S.detachEvent("onreadystatechange",R),i.detachEvent("onload",R))}function R(){(S.addEventListener||"load"===event.type||"complete"===S.readyState)&&(I(),m.ready())}m.Callbacks=function(t){var e,i,n,r,o,a,s=[],l=!(t="string"==typeof t?M[t]||function(t){var e=M[t]={};return m.each(t.match(N)||[],function(t,i){e[i]=!0}),e}(t):m.extend({},t)).once&&[],c=function(d){for(i=t.memory&&d,n=!0,o=a||0,a=0,r=s.length,e=!0;s&&o<r;o++)if(!1===s[o].apply(d[0],d[1])&&t.stopOnFalse){i=!1;break}e=!1,s&&(l?l.length&&c(l.shift()):i?s=[]:u.disable())},u={add:function(){if(s){var n=s.length;!function e(i){m.each(i,function(i,n){var r=m.type(n);"function"===r?t.unique&&u.has(n)||s.push(n):n&&n.length&&"string"!==r&&e(n)})}(arguments),e?r=s.length:i&&(a=n,c(i))}return this},remove:function(){return s&&m.each(arguments,function(t,i){for(var n;(n=m.inArray(i,s,n))>-1;)s.splice(n,1),e&&(n<=r&&r--,n<=o&&o--)}),this},has:function(t){return t?m.inArray(t,s)>-1:!(!s||!s.length)},empty:function(){return s=[],r=0,this},disable:function(){return s=l=i=void 0,this},disabled:function(){return!s},lock:function(){return l=void 0,i||u.disable(),this},locked:function(){return!l},fireWith:function(t,i){return!s||n&&!l||(i=[t,(i=i||[]).slice?i.slice():i],e?l.push(i):c(i)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},m.extend({Deferred:function(t){var e=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return m.Deferred(function(i){m.each(e,function(e,o){var a=m.isFunction(t[e])&&t[e];r[o[1]](function(){var t=a&&a.apply(this,arguments);t&&m.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[o[0]+"With"](this===n?i.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?m.extend(t,n):n}},r={};return n.pipe=n.then,m.each(e,function(t,o){var a=o[2],s=o[3];n[o[1]]=a.add,s&&a.add(function(){i=s},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?n:this,arguments),this},r[o[0]+"With"]=a.fireWith}),n.promise(r),t&&t.call(r,r),r},when:function(t){var e,i,n,r=0,o=a.call(arguments),s=o.length,l=1!==s||t&&m.isFunction(t.promise)?s:0,c=1===l?t:m.Deferred(),u=function(t,i,n){return function(r){i[t]=this,n[t]=arguments.length>1?a.call(arguments):r,n===e?c.notifyWith(i,n):--l||c.resolveWith(i,n)}};if(s>1)for(e=new Array(s),i=new Array(s),n=new Array(s);r<s;r++)o[r]&&m.isFunction(o[r].promise)?o[r].promise().done(u(r,n,o)).fail(c.reject).progress(u(r,i,e)):--l;return l||c.resolveWith(n,o),c.promise()}}),m.fn.ready=function(t){return m.ready.promise().done(t),this},m.extend({isReady:!1,readyWait:1,holdReady:function(t){t?m.readyWait++:m.ready(!0)},ready:function(t){if(!0===t?!--m.readyWait:!m.isReady){if(!S.body)return setTimeout(m.ready);m.isReady=!0,!0!==t&&--m.readyWait>0||(P.resolveWith(S,[m]),m.fn.trigger&&m(S).trigger("ready").off("ready"))}}}),m.ready.promise=function(t){if(!P)if(P=m.Deferred(),"complete"===S.readyState)setTimeout(m.ready);else if(S.addEventListener)S.addEventListener("DOMContentLoaded",R,!1),i.addEventListener("load",R,!1);else{S.attachEvent("onreadystatechange",R),i.attachEvent("onload",R);var e=!1;try{e=null==i.frameElement&&S.documentElement}catch(t){}e&&e.doScroll&&function t(){if(!m.isReady){try{e.doScroll("left")}catch(e){return setTimeout(t,50)}I(),m.ready()}}()}return P.promise(t)};var O,V="undefined";for(O in m(f))break;f.ownLast="0"!==O,f.inlineBlockNeedsLayout=!1,m(function(){var t,e,i=S.getElementsByTagName("body")[0];i&&((t=S.createElement("div")).style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",e=S.createElement("div"),i.appendChild(t).appendChild(e),typeof e.style.zoom!==V&&(e.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(f.inlineBlockNeedsLayout=3===e.offsetWidth)&&(i.style.zoom=1)),i.removeChild(t),t=e=null)}),function(){var t=S.createElement("div");if(null==f.deleteExpando){f.deleteExpando=!0;try{delete t.test}catch(t){f.deleteExpando=!1}}t=null}(),m.acceptData=function(t){var e=m.noData[(t.nodeName+" ").toLowerCase()],i=+t.nodeType||1;return(1===i||9===i)&&(!e||!0!==e&&t.getAttribute("classid")===e)};var B=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,j=/([A-Z])/g;function $(t,e,i){if(void 0===i&&1===t.nodeType){var n="data-"+e.replace(j,"-$1").toLowerCase();if("string"==typeof(i=t.getAttribute(n))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:B.test(i)?m.parseJSON(i):i)}catch(t){}m.data(t,e,i)}else i=void 0}return i}function U(t){var e;for(e in t)if(("data"!==e||!m.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function z(t,e,i,n){if(m.acceptData(t)){var r,a,s=m.expando,l=t.nodeType,c=l?m.cache:t,u=l?t[s]:t[s]&&s;if(u&&c[u]&&(n||c[u].data)||void 0!==i||"string"!=typeof e)return u||(u=l?t[s]=o.pop()||m.guid++:s),c[u]||(c[u]=l?{}:{toJSON:m.noop}),"object"!=typeof e&&"function"!=typeof e||(n?c[u]=m.extend(c[u],e):c[u].data=m.extend(c[u].data,e)),a=c[u],n||(a.data||(a.data={}),a=a.data),void 0!==i&&(a[m.camelCase(e)]=i),"string"==typeof e?null==(r=a[e])&&(r=a[m.camelCase(e)]):r=a,r}}function q(t,e,i){if(m.acceptData(t)){var n,r,o=t.nodeType,a=o?m.cache:t,s=o?t[m.expando]:m.expando;if(a[s]){if(e&&(n=i?a[s]:a[s].data)){r=(e=m.isArray(e)?e.concat(m.map(e,m.camelCase)):e in n?[e]:(e=m.camelCase(e))in n?[e]:e.split(" ")).length;for(;r--;)delete n[e[r]];if(i?!U(n):!m.isEmptyObject(n))return}(i||(delete a[s].data,U(a[s])))&&(o?m.cleanData([t],!0):f.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}m.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?m.cache[t[m.expando]]:t[m.expando])&&!U(t)},data:function(t,e,i){return z(t,e,i)},removeData:function(t,e){return q(t,e)},_data:function(t,e,i){return z(t,e,i,!0)},_removeData:function(t,e){return q(t,e,!0)}}),m.fn.extend({data:function(t,e){var i,n,r,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(r=m.data(o),1===o.nodeType&&!m._data(o,"parsedAttrs"))){for(i=a.length;i--;)0===(n=a[i].name).indexOf("data-")&&$(o,n=m.camelCase(n.slice(5)),r[n]);m._data(o,"parsedAttrs",!0)}return r}return"object"==typeof t?this.each(function(){m.data(this,t)}):arguments.length>1?this.each(function(){m.data(this,t,e)}):o?$(o,t,m.data(o,t)):void 0},removeData:function(t){return this.each(function(){m.removeData(this,t)})}}),m.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=m._data(t,e),i&&(!n||m.isArray(i)?n=m._data(t,e,m.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=m.queue(t,e),n=i.length,r=i.shift(),o=m._queueHooks(t,e);"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete o.stop,r.call(t,function(){m.dequeue(t,e)},o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return m._data(t,i)||m._data(t,i,{empty:m.Callbacks("once memory").add(function(){m._removeData(t,e+"queue"),m._removeData(t,i)})})}}),m.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?m.queue(this[0],t):void 0===e?this:this.each(function(){var i=m.queue(this,t,e);m._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&m.dequeue(this,t)})},dequeue:function(t){return this.each(function(){m.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=m.Deferred(),o=this,a=this.length,s=function(){--n||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(i=m._data(o[a],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(s));return s(),r.promise(e)}});var G=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,H=["Top","Right","Bottom","Left"],W=function(t,e){return t=e||t,"none"===m.css(t,"display")||!m.contains(t.ownerDocument,t)},J=m.access=function(t,e,i,n,r,o,a){var s=0,l=t.length,c=null==i;if("object"===m.type(i))for(s in r=!0,i)m.access(t,e,s,i[s],!0,o,a);else if(void 0!==n&&(r=!0,m.isFunction(n)||(a=!0),c&&(a?(e.call(t,n),e=null):(c=e,e=function(t,e,i){return c.call(m(t),i)})),e))for(;s<l;s++)e(t[s],i,a?n:n.call(t[s],s,e(t[s],i)));return r?t:c?e.call(t):l?e(t[0],i):o},K=/^(?:checkbox|radio)$/i;!function(){var t=S.createDocumentFragment(),e=S.createElement("div"),i=S.createElement("input");if(e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a>",f.leadingWhitespace=3===e.firstChild.nodeType,f.tbody=!e.getElementsByTagName("tbody").length,f.htmlSerialize=!!e.getElementsByTagName("link").length,f.html5Clone="<:nav></:nav>"!==S.createElement("nav").cloneNode(!0).outerHTML,i.type="checkbox",i.checked=!0,t.appendChild(i),f.appendChecked=i.checked,e.innerHTML="<textarea>x</textarea>",f.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,t.appendChild(e),e.innerHTML="<input type='radio' checked='checked' name='t'/>",f.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,f.noCloneEvent=!0,e.attachEvent&&(e.attachEvent("onclick",function(){f.noCloneEvent=!1}),e.cloneNode(!0).click()),null==f.deleteExpando){f.deleteExpando=!0;try{delete e.test}catch(t){f.deleteExpando=!1}}t=e=i=null}(),function(){var t,e,n=S.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})e="on"+t,(f[t+"Bubbles"]=e in i)||(n.setAttribute(e,"t"),f[t+"Bubbles"]=!1===n.attributes[e].expando);n=null}();var Z=/^(?:input|select|textarea)$/i,Y=/^key/,X=/^(?:mouse|contextmenu)|click/,Q=/^(?:focusinfocus|focusoutblur)$/,tt=/^([^.]*)(?:\.(.+)|)$/;function et(){return!0}function it(){return!1}function nt(){try{return S.activeElement}catch(t){}}function rt(t){var e=ot.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}m.event={global:{},add:function(t,e,i,n,r){var o,a,s,l,c,u,d,p,h,f,g,v=m._data(t);if(v){for(i.handler&&(i=(l=i).handler,r=l.selector),i.guid||(i.guid=m.guid++),(a=v.events)||(a=v.events={}),(u=v.handle)||((u=v.handle=function(t){return typeof m===V||t&&m.event.triggered===t.type?void 0:m.event.dispatch.apply(u.elem,arguments)}).elem=t),s=(e=(e||"").match(N)||[""]).length;s--;)h=g=(o=tt.exec(e[s])||[])[1],f=(o[2]||"").split(".").sort(),h&&(c=m.event.special[h]||{},h=(r?c.delegateType:c.bindType)||h,c=m.event.special[h]||{},d=m.extend({type:h,origType:g,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&m.expr.match.needsContext.test(r),namespace:f.join(".")},l),(p=a[h])||((p=a[h]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,n,f,u)||(t.addEventListener?t.addEventListener(h,u,!1):t.attachEvent&&t.attachEvent("on"+h,u))),c.add&&(c.add.call(t,d),d.handler.guid||(d.handler.guid=i.guid)),r?p.splice(p.delegateCount++,0,d):p.push(d),m.event.global[h]=!0);t=null}},remove:function(t,e,i,n,r){var o,a,s,l,c,u,d,p,h,f,g,v=m.hasData(t)&&m._data(t);if(v&&(u=v.events)){for(c=(e=(e||"").match(N)||[""]).length;c--;)if(h=g=(s=tt.exec(e[c])||[])[1],f=(s[2]||"").split(".").sort(),h){for(d=m.event.special[h]||{},p=u[h=(n?d.delegateType:d.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=p.length;o--;)a=p[o],!r&&g!==a.origType||i&&i.guid!==a.guid||s&&!s.test(a.namespace)||n&&n!==a.selector&&("**"!==n||!a.selector)||(p.splice(o,1),a.selector&&p.delegateCount--,d.remove&&d.remove.call(t,a));l&&!p.length&&(d.teardown&&!1!==d.teardown.call(t,f,v.handle)||m.removeEvent(t,h,v.handle),delete u[h])}else for(h in u)m.event.remove(t,h+e[c],i,n,!0);m.isEmptyObject(u)&&(delete v.handle,m._removeData(t,"events"))}},trigger:function(t,e,n,r){var o,a,s,l,c,u,d,h=[n||S],f=p.call(t,"type")?t.type:t,g=p.call(t,"namespace")?t.namespace.split("."):[];if(s=u=n=n||S,3!==n.nodeType&&8!==n.nodeType&&!Q.test(f+m.event.triggered)&&(f.indexOf(".")>=0&&(f=(g=f.split(".")).shift(),g.sort()),a=f.indexOf(":")<0&&"on"+f,(t=t[m.expando]?t:new m.Event(f,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=g.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:m.makeArray(e,[t]),c=m.event.special[f]||{},r||!c.trigger||!1!==c.trigger.apply(n,e))){if(!r&&!c.noBubble&&!m.isWindow(n)){for(l=c.delegateType||f,Q.test(l+f)||(s=s.parentNode);s;s=s.parentNode)h.push(s),u=s;u===(n.ownerDocument||S)&&h.push(u.defaultView||u.parentWindow||i)}for(d=0;(s=h[d++])&&!t.isPropagationStopped();)t.type=d>1?l:c.bindType||f,(o=(m._data(s,"events")||{})[t.type]&&m._data(s,"handle"))&&o.apply(s,e),(o=a&&s[a])&&o.apply&&m.acceptData(s)&&(t.result=o.apply(s,e),!1===t.result&&t.preventDefault());if(t.type=f,!r&&!t.isDefaultPrevented()&&(!c._default||!1===c._default.apply(h.pop(),e))&&m.acceptData(n)&&a&&n[f]&&!m.isWindow(n)){(u=n[a])&&(n[a]=null),m.event.triggered=f;try{n[f]()}catch(t){}m.event.triggered=void 0,u&&(n[a]=u)}return t.result}},dispatch:function(t){t=m.event.fix(t);var e,i,n,r,o,s,l=a.call(arguments),c=(m._data(this,"events")||{})[t.type]||[],u=m.event.special[t.type]||{};if(l[0]=t,t.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,t)){for(s=m.event.handlers.call(this,t,c),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,o=0;(n=r.handlers[o++])&&!t.isImmediatePropagationStopped();)t.namespace_re&&!t.namespace_re.test(n.namespace)||(t.handleObj=n,t.data=n.data,void 0!==(i=((m.event.special[n.origType]||{}).handle||n.handler).apply(r.elem,l))&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,r,o,a=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(r=[],o=0;o<s;o++)void 0===r[i=(n=e[o]).selector+" "]&&(r[i]=n.needsContext?m(i,this).index(l)>=0:m.find(i,this,null,[l]).length),r[i]&&r.push(n);r.length&&a.push({elem:l,handlers:r})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},fix:function(t){if(t[m.expando])return t;var e,i,n,r=t.type,o=t,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=X.test(r)?this.mouseHooks:Y.test(r)?this.keyHooks:{}),n=a.props?this.props.concat(a.props):this.props,t=new m.Event(o),e=n.length;e--;)t[i=n[e]]=o[i];return t.target||(t.target=o.srcElement||S),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,r,o=e.button,a=e.fromElement;return null==t.pageX&&null!=e.clientX&&(r=(n=t.target.ownerDocument||S).documentElement,i=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?e.toElement:a),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==nt()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===nt()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(m.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(t){return m.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i,n){var r=m.extend(new m.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?m.event.trigger(r,null,e):m.event.dispatch.call(e,r),r.isDefaultPrevented()&&i.preventDefault()}},m.removeEvent=S.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)}:function(t,e,i){var n="on"+e;t.detachEvent&&(typeof t[n]===V&&(t[n]=null),t.detachEvent(n,i))},m.Event=function(t,e){if(!(this instanceof m.Event))return new m.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&(!1===t.returnValue||t.getPreventDefault&&t.getPreventDefault())?et:it):this.type=t,e&&m.extend(this,e),this.timeStamp=t&&t.timeStamp||m.now(),this[m.expando]=!0},m.Event.prototype={isDefaultPrevented:it,isPropagationStopped:it,isImmediatePropagationStopped:it,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=et,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=et,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=et,this.stopPropagation()}},m.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){m.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=t.relatedTarget,r=t.handleObj;return n&&(n===this||m.contains(this,n))||(t.type=r.origType,i=r.handler.apply(this,arguments),t.type=e),i}}}),f.submitBubbles||(m.event.special.submit={setup:function(){if(m.nodeName(this,"form"))return!1;m.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,i=m.nodeName(e,"input")||m.nodeName(e,"button")?e.form:void 0;i&&!m._data(i,"submitBubbles")&&(m.event.add(i,"submit._submit",function(t){t._submit_bubble=!0}),m._data(i,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&m.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){if(m.nodeName(this,"form"))return!1;m.event.remove(this,"._submit")}}),f.changeBubbles||(m.event.special.change={setup:function(){if(Z.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(m.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),m.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),m.event.simulate("change",this,t,!0)})),!1;m.event.add(this,"beforeactivate._change",function(t){var e=t.target;Z.test(e.nodeName)&&!m._data(e,"changeBubbles")&&(m.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||m.event.simulate("change",this.parentNode,t,!0)}),m._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return m.event.remove(this,"._change"),!Z.test(this.nodeName)}}),f.focusinBubbles||m.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){m.event.simulate(e,t.target,m.event.fix(t),!0)};m.event.special[e]={setup:function(){var n=this.ownerDocument||this,r=m._data(n,e);r||n.addEventListener(t,i,!0),m._data(n,e,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=m._data(n,e)-1;r?m._data(n,e,r):(n.removeEventListener(t,i,!0),m._removeData(n,e))}}}),m.fn.extend({on:function(t,e,i,n,r){var o,a;if("object"==typeof t){for(o in"string"!=typeof e&&(i=i||e,e=void 0),t)this.on(o,e,i,t[o],r);return this}if(null==i&&null==n?(n=e,i=e=void 0):null==n&&("string"==typeof e?(n=i,i=void 0):(n=i,i=e,e=void 0)),!1===n)n=it;else if(!n)return this;return 1===r&&(a=n,(n=function(t){return m().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=m.guid++)),this.each(function(){m.event.add(this,t,n,i,e)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,m(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=it),this.each(function(){m.event.remove(this,t,i,e)})},trigger:function(t,e){return this.each(function(){m.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return m.event.trigger(t,e,i,!0)}});var ot="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",at=/ jQuery\d+="(?:null|\d+)"/g,st=new RegExp("<(?:"+ot+")[\\s/>]","i"),lt=/^\s+/,ct=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ut=/<([\w:]+)/,dt=/<tbody/i,pt=/<|&#?\w+;/,ht=/<(?:script|style|link)/i,ft=/checked\s*(?:[^=]|=\s*.checked.)/i,mt=/^$|\/(?:java|ecma)script/i,gt=/^true\/(.*)/,vt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,bt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:f.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},yt=rt(S).appendChild(S.createElement("div"));function _t(t,e){var i,n,r=0,o=typeof t.getElementsByTagName!==V?t.getElementsByTagName(e||"*"):typeof t.querySelectorAll!==V?t.querySelectorAll(e||"*"):void 0;if(!o)for(o=[],i=t.childNodes||t;null!=(n=i[r]);r++)!e||m.nodeName(n,e)?o.push(n):m.merge(o,_t(n,e));return void 0===e||e&&m.nodeName(t,e)?m.merge([t],o):o}function kt(t){K.test(t.type)&&(t.defaultChecked=t.checked)}function xt(t,e){return m.nodeName(t,"table")&&m.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function At(t){return t.type=(null!==m.find.attr(t,"type"))+"/"+t.type,t}function Ct(t){var e=gt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function wt(t,e){for(var i,n=0;null!=(i=t[n]);n++)m._data(i,"globalEval",!e||m._data(e[n],"globalEval"))}function Tt(t,e){if(1===e.nodeType&&m.hasData(t)){var i,n,r,o=m._data(t),a=m._data(e,o),s=o.events;if(s)for(i in delete a.handle,a.events={},s)for(n=0,r=s[i].length;n<r;n++)m.event.add(e,i,s[i][n]);a.data&&(a.data=m.extend({},a.data))}}function St(t,e){var i,n,r;if(1===e.nodeType){if(i=e.nodeName.toLowerCase(),!f.noCloneEvent&&e[m.expando]){for(n in(r=m._data(e)).events)m.removeEvent(e,n,r.handle);e.removeAttribute(m.expando)}"script"===i&&e.text!==t.text?(At(e).text=t.text,Ct(e)):"object"===i?(e.parentNode&&(e.outerHTML=t.outerHTML),f.html5Clone&&t.innerHTML&&!m.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===i&&K.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===i?e.defaultSelected=e.selected=t.defaultSelected:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}}bt.optgroup=bt.option,bt.tbody=bt.tfoot=bt.colgroup=bt.caption=bt.thead,bt.th=bt.td,m.extend({clone:function(t,e,i){var n,r,o,a,s,l=m.contains(t.ownerDocument,t);if(f.html5Clone||m.isXMLDoc(t)||!st.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(yt.innerHTML=t.outerHTML,yt.removeChild(o=yt.firstChild)),!(f.noCloneEvent&&f.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||m.isXMLDoc(t)))for(n=_t(o),s=_t(t),a=0;null!=(r=s[a]);++a)n[a]&&St(r,n[a]);if(e)if(i)for(s=s||_t(t),n=n||_t(o),a=0;null!=(r=s[a]);a++)Tt(r,n[a]);else Tt(t,o);return(n=_t(o,"script")).length>0&&wt(n,!l&&_t(t,"script")),n=s=r=null,o},buildFragment:function(t,e,i,n){for(var r,o,a,s,l,c,u,d=t.length,p=rt(e),h=[],g=0;g<d;g++)if((o=t[g])||0===o)if("object"===m.type(o))m.merge(h,o.nodeType?[o]:o);else if(pt.test(o)){for(s=s||p.appendChild(e.createElement("div")),l=(ut.exec(o)||["",""])[1].toLowerCase(),u=bt[l]||bt._default,s.innerHTML=u[1]+o.replace(ct,"<$1></$2>")+u[2],r=u[0];r--;)s=s.lastChild;if(!f.leadingWhitespace&&lt.test(o)&&h.push(e.createTextNode(lt.exec(o)[0])),!f.tbody)for(r=(o="table"!==l||dt.test(o)?"<table>"!==u[1]||dt.test(o)?0:s:s.firstChild)&&o.childNodes.length;r--;)m.nodeName(c=o.childNodes[r],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(m.merge(h,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=p.lastChild}else h.push(e.createTextNode(o));for(s&&p.removeChild(s),f.appendChecked||m.grep(_t(h,"input"),kt),g=0;o=h[g++];)if((!n||-1===m.inArray(o,n))&&(a=m.contains(o.ownerDocument,o),s=_t(p.appendChild(o),"script"),a&&wt(s),i))for(r=0;o=s[r++];)mt.test(o.type||"")&&i.push(o);return s=null,p},cleanData:function(t,e){for(var i,n,r,a,s=0,l=m.expando,c=m.cache,u=f.deleteExpando,d=m.event.special;null!=(i=t[s]);s++)if((e||m.acceptData(i))&&(a=(r=i[l])&&c[r])){if(a.events)for(n in a.events)d[n]?m.event.remove(i,n):m.removeEvent(i,n,a.handle);c[r]&&(delete c[r],u?delete i[l]:typeof i.removeAttribute!==V?i.removeAttribute(l):i[l]=null,o.push(r))}}}),m.fn.extend({text:function(t){return J(this,function(t){return void 0===t?m.text(this):this.empty().append((this[0]&&this[0].ownerDocument||S).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||xt(this,t).appendChild(t)})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=xt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var i,n=t?m.filter(t,this):this,r=0;null!=(i=n[r]);r++)e||1!==i.nodeType||m.cleanData(_t(i)),i.parentNode&&(e&&m.contains(i.ownerDocument,i)&&wt(_t(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&m.cleanData(_t(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&m.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return m.clone(this,t,e)})},html:function(t){return J(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(at,""):void 0;if("string"==typeof t&&!ht.test(t)&&(f.htmlSerialize||!st.test(t))&&(f.leadingWhitespace||!lt.test(t))&&!bt[(ut.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(ct,"<$1></$2>");try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(m.cleanData(_t(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,m.cleanData(_t(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=s.apply([],t);var i,n,r,o,a,l,c=0,u=this.length,d=this,p=u-1,h=t[0],g=m.isFunction(h);if(g||u>1&&"string"==typeof h&&!f.checkClone&&ft.test(h))return this.each(function(i){var n=d.eq(i);g&&(t[0]=h.call(this,i,n.html())),n.domManip(t,e)});if(u&&(i=(l=m.buildFragment(t,this[0].ownerDocument,!1,this)).firstChild,1===l.childNodes.length&&(l=i),i)){for(r=(o=m.map(_t(l,"script"),At)).length;c<u;c++)n=l,c!==p&&(n=m.clone(n,!0,!0),r&&m.merge(o,_t(n,"script"))),e.call(this[c],n,c);if(r)for(a=o[o.length-1].ownerDocument,m.map(o,Ct),c=0;c<r;c++)n=o[c],mt.test(n.type||"")&&!m._data(n,"globalEval")&&m.contains(a,n)&&(n.src?m._evalUrl&&m._evalUrl(n.src):m.globalEval((n.text||n.textContent||n.innerHTML||"").replace(vt,"")));l=i=null}return this}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){m.fn[t]=function(t){for(var i,n=0,r=[],o=m(t),a=o.length-1;n<=a;n++)i=n===a?this:this.clone(!0),m(o[n])[e](i),l.apply(r,i.get());return this.pushStack(r)}});var Ft,Et,Lt,Dt,Pt={};function Nt(t,e){var n=m(e.createElement(t)).appendTo(e.body),r=i.getDefaultComputedStyle?i.getDefaultComputedStyle(n[0]).display:m.css(n[0],"display");return n.detach(),r}function Mt(t){var e=S,i=Pt[t];return i||("none"!==(i=Nt(t,e))&&i||((e=((Ft=(Ft||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentWindow||Ft[0].contentDocument).document).write(),e.close(),i=Nt(t,e),Ft.detach()),Pt[t]=i),i}(Dt=S.createElement("div")).innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",(Et=Dt.getElementsByTagName("a")[0]).style.cssText="float:left;opacity:.5",f.opacity=/^0.5/.test(Et.style.opacity),f.cssFloat=!!Et.style.cssFloat,Dt.style.backgroundClip="content-box",Dt.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===Dt.style.backgroundClip,Et=Dt=null,f.shrinkWrapBlocks=function(){var t,e,i;if(null==Lt){if(!(t=S.getElementsByTagName("body")[0]))return;e=S.createElement("div"),i=S.createElement("div"),t.appendChild(e).appendChild(i),Lt=!1,typeof i.style.zoom!==V&&(i.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0;width:1px;padding:1px;zoom:1",i.innerHTML="<div></div>",i.firstChild.style.width="5px",Lt=3!==i.offsetWidth),t.removeChild(e),t=e=i=null}return Lt};var It,Rt,Ot=/^margin/,Vt=new RegExp("^("+G+")(?!px)[a-z%]+$","i"),Bt=/^(top|right|bottom|left)$/;function jt(t,e){return{get:function(){var i=t();if(null!=i){if(!i)return(this.get=e).apply(this,arguments);delete this.get}}}}i.getComputedStyle?(It=function(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)},Rt=function(t,e,i){var n,r,o,a,s=t.style;return a=(i=i||It(t))?i.getPropertyValue(e)||i[e]:void 0,i&&(""!==a||m.contains(t.ownerDocument,t)||(a=m.style(t,e)),Vt.test(a)&&Ot.test(e)&&(n=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=i.width,s.width=n,s.minWidth=r,s.maxWidth=o)),void 0===a?a:a+""}):S.documentElement.currentStyle&&(It=function(t){return t.currentStyle},Rt=function(t,e,i){var n,r,o,a,s=t.style;return null==(a=(i=i||It(t))?i[e]:void 0)&&s&&s[e]&&(a=s[e]),Vt.test(a)&&!Bt.test(e)&&(n=s.left,(o=(r=t.runtimeStyle)&&r.left)&&(r.left=t.currentStyle.left),s.left="fontSize"===e?"1em":a,a=s.pixelLeft+"px",s.left=n,o&&(r.left=o)),void 0===a?a:a+""||"auto"}),function(){var t,e,n,r,o,a,s=S.createElement("div"),l="border:0;width:0;height:0;position:absolute;top:0;left:-9999px";function c(){var t,e,s=S.getElementsByTagName("body")[0];s&&(t=S.createElement("div"),e=S.createElement("div"),t.style.cssText=l,s.appendChild(t).appendChild(e),e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",m.swap(s,null!=s.style.zoom?{zoom:1}:{},function(){n=4===e.offsetWidth}),r=!0,o=!1,a=!0,i.getComputedStyle&&(o="1%"!==(i.getComputedStyle(e,null)||{}).top,r="4px"===(i.getComputedStyle(e,null)||{width:"4px"}).width),s.removeChild(t),e=s=null)}s.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",(t=s.getElementsByTagName("a")[0]).style.cssText="float:left;opacity:.5",f.opacity=/^0.5/.test(t.style.opacity),f.cssFloat=!!t.style.cssFloat,s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===s.style.backgroundClip,t=s=null,m.extend(f,{reliableHiddenOffsets:function(){if(null!=e)return e;var t,i,n,r=S.createElement("div"),o=S.getElementsByTagName("body")[0];return o?(r.setAttribute("className","t"),r.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",(t=S.createElement("div")).style.cssText=l,o.appendChild(t).appendChild(r),r.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(i=r.getElementsByTagName("td"))[0].style.cssText="padding:0;margin:0;border:0;display:none",n=0===i[0].offsetHeight,i[0].style.display="",i[1].style.display="none",e=n&&0===i[0].offsetHeight,o.removeChild(t),r=o=null,e):void 0},boxSizing:function(){return null==n&&c(),n},boxSizingReliable:function(){return null==r&&c(),r},pixelPosition:function(){return null==o&&c(),o},reliableMarginRight:function(){var t,e,n,r;if(null==a&&i.getComputedStyle){if(!(t=S.getElementsByTagName("body")[0]))return;e=S.createElement("div"),n=S.createElement("div"),e.style.cssText=l,t.appendChild(e).appendChild(n),(r=n.appendChild(S.createElement("div"))).style.cssText=n.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0",r.style.marginRight=r.style.width="0",n.style.width="1px",a=!parseFloat((i.getComputedStyle(r,null)||{}).marginRight),t.removeChild(e)}return a}})}(),m.swap=function(t,e,i,n){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];for(o in r=i.apply(t,n||[]),e)t.style[o]=a[o];return r};var $t=/alpha\([^)]*\)/i,Ut=/opacity\s*=\s*([^)]*)/,zt=/^(none|table(?!-c[ea]).+)/,qt=new RegExp("^("+G+")(.*)$","i"),Gt=new RegExp("^([+-])=("+G+")","i"),Ht={position:"absolute",visibility:"hidden",display:"block"},Wt={letterSpacing:0,fontWeight:400},Jt=["Webkit","O","Moz","ms"];function Kt(t,e){if(e in t)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),n=e,r=Jt.length;r--;)if((e=Jt[r]+i)in t)return e;return n}function Zt(t,e){for(var i,n,r,o=[],a=0,s=t.length;a<s;a++)(n=t[a]).style&&(o[a]=m._data(n,"olddisplay"),i=n.style.display,e?(o[a]||"none"!==i||(n.style.display=""),""===n.style.display&&W(n)&&(o[a]=m._data(n,"olddisplay",Mt(n.nodeName)))):o[a]||(r=W(n),(i&&"none"!==i||!r)&&m._data(n,"olddisplay",r?i:m.css(n,"display"))));for(a=0;a<s;a++)(n=t[a]).style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?o[a]||"":"none"));return t}function Yt(t,e,i){var n=qt.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function Xt(t,e,i,n,r){for(var o=i===(n?"border":"content")?4:"width"===e?1:0,a=0;o<4;o+=2)"margin"===i&&(a+=m.css(t,i+H[o],!0,r)),n?("content"===i&&(a-=m.css(t,"padding"+H[o],!0,r)),"margin"!==i&&(a-=m.css(t,"border"+H[o]+"Width",!0,r))):(a+=m.css(t,"padding"+H[o],!0,r),"padding"!==i&&(a+=m.css(t,"border"+H[o]+"Width",!0,r)));return a}function Qt(t,e,i){var n=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=It(t),a=f.boxSizing()&&"border-box"===m.css(t,"boxSizing",!1,o);if(r<=0||null==r){if(((r=Rt(t,e,o))<0||null==r)&&(r=t.style[e]),Vt.test(r))return r;n=a&&(f.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+Xt(t,e,i||(a?"border":"content"),n,o)+"px"}function te(t,e,i,n,r){return new te.prototype.init(t,e,i,n,r)}m.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=Rt(t,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:f.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=m.camelCase(e),l=t.style;if(e=m.cssProps[s]||(m.cssProps[s]=Kt(l,s)),a=m.cssHooks[e]||m.cssHooks[s],void 0===i)return a&&"get"in a&&void 0!==(r=a.get(t,!1,n))?r:l[e];if("string"===(o=typeof i)&&(r=Gt.exec(i))&&(i=(r[1]+1)*r[2]+parseFloat(m.css(t,e)),o="number"),null!=i&&i==i&&("number"!==o||m.cssNumber[s]||(i+="px"),f.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),!(a&&"set"in a&&void 0===(i=a.set(t,i,n)))))try{l[e]="",l[e]=i}catch(t){}}},css:function(t,e,i,n){var r,o,a,s=m.camelCase(e);return e=m.cssProps[s]||(m.cssProps[s]=Kt(t.style,s)),(a=m.cssHooks[e]||m.cssHooks[s])&&"get"in a&&(o=a.get(t,!0,i)),void 0===o&&(o=Rt(t,e,n)),"normal"===o&&e in Wt&&(o=Wt[e]),""===i||i?(r=parseFloat(o),!0===i||m.isNumeric(r)?r||0:o):o}}),m.each(["height","width"],function(t,e){m.cssHooks[e]={get:function(t,i,n){if(i)return 0===t.offsetWidth&&zt.test(m.css(t,"display"))?m.swap(t,Ht,function(){return Qt(t,e,n)}):Qt(t,e,n)},set:function(t,i,n){var r=n&&It(t);return Yt(0,i,n?Xt(t,e,n,f.boxSizing()&&"border-box"===m.css(t,"boxSizing",!1,r),r):0)}}}),f.opacity||(m.cssHooks.opacity={get:function(t,e){return Ut.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,r=m.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=n&&n.filter||i.filter||"";i.zoom=1,(e>=1||""===e)&&""===m.trim(o.replace($t,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===e||n&&!n.filter)||(i.filter=$t.test(o)?o.replace($t,r):o+" "+r)}}),m.cssHooks.marginRight=jt(f.reliableMarginRight,function(t,e){if(e)return m.swap(t,{display:"inline-block"},Rt,[t,"marginRight"])}),m.each({margin:"",padding:"",border:"Width"},function(t,e){m.cssHooks[t+e]={expand:function(i){for(var n=0,r={},o="string"==typeof i?i.split(" "):[i];n<4;n++)r[t+H[n]+e]=o[n]||o[n-2]||o[0];return r}},Ot.test(t)||(m.cssHooks[t+e].set=Yt)}),m.fn.extend({css:function(t,e){return J(this,function(t,e,i){var n,r,o={},a=0;if(m.isArray(e)){for(n=It(t),r=e.length;a<r;a++)o[e[a]]=m.css(t,e[a],!1,n);return o}return void 0!==i?m.style(t,e,i):m.css(t,e)},t,e,arguments.length>1)},show:function(){return Zt(this,!0)},hide:function(){return Zt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){W(this)?m(this).show():m(this).hide()})}}),m.Tween=te,te.prototype={constructor:te,init:function(t,e,i,n,r,o){this.elem=t,this.prop=i,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(m.cssNumber[i]?"":"px")},cur:function(){var t=te.propHooks[this.prop];return t&&t.get?t.get(this):te.propHooks._default.get(this)},run:function(t){var e,i=te.propHooks[this.prop];return this.options.duration?this.pos=e=m.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):te.propHooks._default.set(this),this}},te.prototype.init.prototype=te.prototype,te.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=m.css(t.elem,t.prop,""))&&"auto"!==e?e:0:t.elem[t.prop]},set:function(t){m.fx.step[t.prop]?m.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[m.cssProps[t.prop]]||m.cssHooks[t.prop])?m.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},te.propHooks.scrollTop=te.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},m.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},m.fx=te.prototype.init,m.fx.step={};var ee,ie,ne=/^(?:toggle|show|hide)$/,re=new RegExp("^(?:([+-])=|)("+G+")([a-z%]*)$","i"),oe=/queueHooks$/,ae=[function(t,e,i){var n,r,o,a,s,l,c,u,d=this,p={},h=t.style,g=t.nodeType&&W(t),v=m._data(t,"fxshow");i.queue||(null==(s=m._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,m.queue(t,"fx").length||s.empty.fire()})}));1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[h.overflow,h.overflowX,h.overflowY],c=m.css(t,"display"),u=Mt(t.nodeName),"none"===c&&(c=u),"inline"===c&&"none"===m.css(t,"float")&&(f.inlineBlockNeedsLayout&&"inline"!==u?h.zoom=1:h.display="inline-block"));i.overflow&&(h.overflow="hidden",f.shrinkWrapBlocks()||d.always(function(){h.overflow=i.overflow[0],h.overflowX=i.overflow[1],h.overflowY=i.overflow[2]}));for(n in e)if(r=e[n],ne.exec(r)){if(delete e[n],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!v||void 0===v[n])continue;g=!0}p[n]=v&&v[n]||m.style(t,n)}if(!m.isEmptyObject(p))for(n in v?"hidden"in v&&(g=v.hidden):v=m._data(t,"fxshow",{}),o&&(v.hidden=!g),g?m(t).show():d.done(function(){m(t).hide()}),d.done(function(){var e;for(e in m._removeData(t,"fxshow"),p)m.style(t,e,p[e])}),p)a=ue(g?v[n]:0,n,d),n in v||(v[n]=a.start,g&&(a.end=a.start,a.start="width"===n||"height"===n?1:0))}],se={"*":[function(t,e){var i=this.createTween(t,e),n=i.cur(),r=re.exec(e),o=r&&r[3]||(m.cssNumber[t]?"":"px"),a=(m.cssNumber[t]||"px"!==o&&+n)&&re.exec(m.css(i.elem,t)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],r=r||[],a=+n||1;do{a/=s=s||".5",m.style(i.elem,t,a+o)}while(s!==(s=i.cur()/n)&&1!==s&&--l)}return r&&(a=i.start=+a||+n||0,i.unit=o,i.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),i}]};function le(){return setTimeout(function(){ee=void 0}),ee=m.now()}function ce(t,e){var i,n={height:t},r=0;for(e=e?1:0;r<4;r+=2-e)n["margin"+(i=H[r])]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function ue(t,e,i){for(var n,r=(se[e]||[]).concat(se["*"]),o=0,a=r.length;o<a;o++)if(n=r[o].call(i,e,t))return n}function de(t,e,i){var n,r,o=0,a=ae.length,s=m.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=ee||le(),i=Math.max(0,c.startTime+c.duration-e),n=1-(i/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(n);return s.notifyWith(t,[c,n,i]),n<1&&a?i:(s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:m.extend({},e),opts:m.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:ee||le(),duration:i.duration,tweens:[],createTween:function(e,i){var n=m.Tween(t,c.opts,e,i,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var i=0,n=e?c.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)c.tweens[i].run(1);return e?s.resolveWith(t,[c,e]):s.rejectWith(t,[c,e]),this}}),u=c.props;for(!function(t,e){var i,n,r,o,a;for(i in t)if(r=e[n=m.camelCase(i)],o=t[i],m.isArray(o)&&(r=o[1],o=t[i]=o[0]),i!==n&&(t[n]=o,delete t[i]),(a=m.cssHooks[n])&&"expand"in a)for(i in o=a.expand(o),delete t[n],o)i in t||(t[i]=o[i],e[i]=r);else e[n]=r}(u,c.opts.specialEasing);o<a;o++)if(n=ae[o].call(c,t,u,c.opts))return n;return m.map(u,ue,c),m.isFunction(c.opts.start)&&c.opts.start.call(t,c),m.fx.timer(m.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}m.Animation=m.extend(de,{tweener:function(t,e){m.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,n=0,r=t.length;n<r;n++)i=t[n],se[i]=se[i]||[],se[i].unshift(e)},prefilter:function(t,e){e?ae.unshift(t):ae.push(t)}}),m.speed=function(t,e,i){var n=t&&"object"==typeof t?m.extend({},t):{complete:i||!i&&e||m.isFunction(t)&&t,duration:t,easing:i&&e||e&&!m.isFunction(e)&&e};return n.duration=m.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in m.fx.speeds?m.fx.speeds[n.duration]:m.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){m.isFunction(n.old)&&n.old.call(this),n.queue&&m.dequeue(this,n.queue)},n},m.fn.extend({fadeTo:function(t,e,i,n){return this.filter(W).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=m.isEmptyObject(t),o=m.speed(e,i,n),a=function(){var e=de(this,m.extend({},t),o);(r||m._data(this,"finish"))&&e.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=m.timers,a=m._data(this);if(r)a[r]&&a[r].stop&&n(a[r]);else for(r in a)a[r]&&a[r].stop&&oe.test(r)&&n(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(i),e=!1,o.splice(r,1));!e&&i||m.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,i=m._data(this),n=i[t+"queue"],r=i[t+"queueHooks"],o=m.timers,a=n?n.length:0;for(i.finish=!0,m.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),m.each(["toggle","show","hide"],function(t,e){var i=m.fn[e];m.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(ce(e,!0),t,n,r)}}),m.each({slideDown:ce("show"),slideUp:ce("hide"),slideToggle:ce("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){m.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),m.timers=[],m.fx.tick=function(){var t,e=m.timers,i=0;for(ee=m.now();i<e.length;i++)(t=e[i])()||e[i]!==t||e.splice(i--,1);e.length||m.fx.stop(),ee=void 0},m.fx.timer=function(t){m.timers.push(t),t()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){ie||(ie=setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){clearInterval(ie),ie=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(t,e){return t=m.fx&&m.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},function(){var t,e,i,n,r=S.createElement("div");r.setAttribute("className","t"),r.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=r.getElementsByTagName("a")[0],n=(i=S.createElement("select")).appendChild(S.createElement("option")),e=r.getElementsByTagName("input")[0],t.style.cssText="top:1px",f.getSetAttribute="t"!==r.className,f.style=/top/.test(t.getAttribute("style")),f.hrefNormalized="/a"===t.getAttribute("href"),f.checkOn=!!e.value,f.optSelected=n.selected,f.enctype=!!S.createElement("form").enctype,i.disabled=!0,f.optDisabled=!n.disabled,(e=S.createElement("input")).setAttribute("value",""),f.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),f.radioValue="t"===e.value,t=e=i=n=r=null}();var pe=/\r/g;m.fn.extend({val:function(t){var e,i,n,r=this[0];return arguments.length?(n=m.isFunction(t),this.each(function(i){var r;1===this.nodeType&&(null==(r=n?t.call(this,i,m(this).val()):t)?r="":"number"==typeof r?r+="":m.isArray(r)&&(r=m.map(r,function(t){return null==t?"":t+""})),(e=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=m.valHooks[r.type]||m.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:"string"==typeof(i=r.value)?i.replace(pe,""):null==i?"":i:void 0}}),m.extend({valHooks:{option:{get:function(t){var e=m.find.attr(t,"value");return null!=e?e:m.text(t)}},select:{get:function(t){for(var e,i,n=t.options,r=t.selectedIndex,o="select-one"===t.type||r<0,a=o?null:[],s=o?r+1:n.length,l=r<0?s:o?r:0;l<s;l++)if(((i=n[l]).selected||l===r)&&(f.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!m.nodeName(i.parentNode,"optgroup"))){if(e=m(i).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var i,n,r=t.options,o=m.makeArray(e),a=r.length;a--;)if(n=r[a],m.inArray(m.valHooks.option.get(n),o)>=0)try{n.selected=i=!0}catch(t){n.scrollHeight}else n.selected=!1;return i||(t.selectedIndex=-1),r}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(t,e){if(m.isArray(e))return t.checked=m.inArray(m(t).val(),e)>=0}},f.checkOn||(m.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var he,fe,me=m.expr.attrHandle,ge=/^(?:checked|selected)$/i,ve=f.getSetAttribute,be=f.input;m.fn.extend({attr:function(t,e){return J(this,m.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){m.removeAttr(this,t)})}}),m.extend({attr:function(t,e,i){var n,r,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===V?m.prop(t,e,i):(1===o&&m.isXMLDoc(t)||(e=e.toLowerCase(),n=m.attrHooks[e]||(m.expr.match.bool.test(e)?fe:he)),void 0===i?n&&"get"in n&&null!==(r=n.get(t,e))?r:null==(r=m.find.attr(t,e))?void 0:r:null!==i?n&&"set"in n&&void 0!==(r=n.set(t,i,e))?r:(t.setAttribute(e,i+""),i):void m.removeAttr(t,e))},removeAttr:function(t,e){var i,n,r=0,o=e&&e.match(N);if(o&&1===t.nodeType)for(;i=o[r++];)n=m.propFix[i]||i,m.expr.match.bool.test(i)?be&&ve||!ge.test(i)?t[n]=!1:t[m.camelCase("default-"+i)]=t[n]=!1:m.attr(t,i,""),t.removeAttribute(ve?i:n)},attrHooks:{type:{set:function(t,e){if(!f.radioValue&&"radio"===e&&m.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}}}),fe={set:function(t,e,i){return!1===e?m.removeAttr(t,i):be&&ve||!ge.test(i)?t.setAttribute(!ve&&m.propFix[i]||i,i):t[m.camelCase("default-"+i)]=t[i]=!0,i}},m.each(m.expr.match.bool.source.match(/\w+/g),function(t,e){var i=me[e]||m.find.attr;me[e]=be&&ve||!ge.test(e)?function(t,e,n){var r,o;return n||(o=me[e],me[e]=r,r=null!=i(t,e,n)?e.toLowerCase():null,me[e]=o),r}:function(t,e,i){if(!i)return t[m.camelCase("default-"+e)]?e.toLowerCase():null}}),be&&ve||(m.attrHooks.value={set:function(t,e,i){if(!m.nodeName(t,"input"))return he&&he.set(t,e,i);t.defaultValue=e}}),ve||(he={set:function(t,e,i){var n=t.getAttributeNode(i);if(n||t.setAttributeNode(n=t.ownerDocument.createAttribute(i)),n.value=e+="","value"===i||e===t.getAttribute(i))return e}},me.id=me.name=me.coords=function(t,e,i){var n;if(!i)return(n=t.getAttributeNode(e))&&""!==n.value?n.value:null},m.valHooks.button={get:function(t,e){var i=t.getAttributeNode(e);if(i&&i.specified)return i.value},set:he.set},m.attrHooks.contenteditable={set:function(t,e,i){he.set(t,""!==e&&e,i)}},m.each(["width","height"],function(t,e){m.attrHooks[e]={set:function(t,i){if(""===i)return t.setAttribute(e,"auto"),i}}})),f.style||(m.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var ye=/^(?:input|select|textarea|button|object)$/i,_e=/^(?:a|area)$/i;m.fn.extend({prop:function(t,e){return J(this,m.prop,t,e,arguments.length>1)},removeProp:function(t){return t=m.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(t){}})}}),m.extend({propFix:{for:"htmlFor",class:"className"},prop:function(t,e,i){var n,r,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return(1!==o||!m.isXMLDoc(t))&&(e=m.propFix[e]||e,r=m.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=m.find.attr(t,"tabindex");return e?parseInt(e,10):ye.test(t.nodeName)||_e.test(t.nodeName)&&t.href?0:-1}}}}),f.hrefNormalized||m.each(["href","src"],function(t,e){m.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),f.optSelected||(m.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this}),f.enctype||(m.propFix.enctype="encoding");var ke=/[\t\r\n\f]/g;m.fn.extend({addClass:function(t){var e,i,n,r,o,a,s=0,l=this.length,c="string"==typeof t&&t;if(m.isFunction(t))return this.each(function(e){m(this).addClass(t.call(this,e,this.className))});if(c)for(e=(t||"").match(N)||[];s<l;s++)if(n=1===(i=this[s]).nodeType&&(i.className?(" "+i.className+" ").replace(ke," "):" ")){for(o=0;r=e[o++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");a=m.trim(n),i.className!==a&&(i.className=a)}return this},removeClass:function(t){var e,i,n,r,o,a,s=0,l=this.length,c=0===arguments.length||"string"==typeof t&&t;if(m.isFunction(t))return this.each(function(e){m(this).removeClass(t.call(this,e,this.className))});if(c)for(e=(t||"").match(N)||[];s<l;s++)if(n=1===(i=this[s]).nodeType&&(i.className?(" "+i.className+" ").replace(ke," "):"")){for(o=0;r=e[o++];)for(;n.indexOf(" "+r+" ")>=0;)n=n.replace(" "+r+" "," ");a=t?m.trim(n):"",i.className!==a&&(i.className=a)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):m.isFunction(t)?this.each(function(i){m(this).toggleClass(t.call(this,i,this.className,e),e)}):this.each(function(){if("string"===i)for(var e,n=0,r=m(this),o=t.match(N)||[];e=o[n++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else i!==V&&"boolean"!==i||(this.className&&m._data(this,"__className__",this.className),this.className=this.className||!1===t?"":m._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;i<n;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(ke," ").indexOf(e)>=0)return!0;return!1}}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){m.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),m.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}});var xe=m.now(),Ae=/\?/,Ce=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;m.parseJSON=function(t){if(i.JSON&&i.JSON.parse)return i.JSON.parse(t+"");var e,n=null,r=m.trim(t+"");return r&&!m.trim(r.replace(Ce,function(t,i,r,o){return e&&i&&(n=0),0===n?t:(e=r||i,n+=!o-!r,"")}))?Function("return "+r)():m.error("Invalid JSON: "+t)},m.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{i.DOMParser?e=(new DOMParser).parseFromString(t,"text/xml"):((e=new ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t))}catch(t){e=void 0}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+t),e};var we,Te,Se=/#.*$/,Fe=/([?&])_=[^&]*/,Ee=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Le=/^(?:GET|HEAD)$/,De=/^\/\//,Pe=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ne={},Me={},Ie="*/".concat("*");try{Te=location.href}catch(t){(Te=S.createElement("a")).href="",Te=Te.href}function Re(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,o=e.toLowerCase().match(N)||[];if(m.isFunction(i))for(;n=o[r++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function Oe(t,e,i,n){var r={},o=t===Me;function a(s){var l;return r[s]=!0,m.each(t[s]||[],function(t,s){var c=s(e,i,n);return"string"!=typeof c||o||r[c]?o?!(l=c):void 0:(e.dataTypes.unshift(c),a(c),!1)}),l}return a(e.dataTypes[0])||!r["*"]&&a("*")}function Ve(t,e){var i,n,r=m.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&m.extend(!0,t,i),t}we=Pe.exec(Te.toLowerCase())||[],m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Te,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(we[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ie,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ve(Ve(t,m.ajaxSettings),e):Ve(m.ajaxSettings,t)},ajaxPrefilter:Re(Ne),ajaxTransport:Re(Me),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,n,r,o,a,s,l,c,u=m.ajaxSetup({},e),d=u.context||u,p=u.context&&(d.nodeType||d.jquery)?m(d):m.event,h=m.Deferred(),f=m.Callbacks("once memory"),g=u.statusCode||{},v={},b={},y=0,_="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(2===y){if(!c)for(c={};e=Ee.exec(o);)c[e[1].toLowerCase()]=e[2];e=c[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===y?o:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return y||(t=b[i]=b[i]||t,v[t]=e),this},overrideMimeType:function(t){return y||(u.mimeType=t),this},statusCode:function(t){var e;if(t)if(y<2)for(e in t)g[e]=[g[e],t[e]];else k.always(t[k.status]);return this},abort:function(t){var e=t||_;return l&&l.abort(e),x(0,e),this}};if(h.promise(k).complete=f.add,k.success=k.done,k.error=k.fail,u.url=((t||u.url||Te)+"").replace(Se,"").replace(De,we[1]+"//"),u.type=e.method||e.type||u.method||u.type,u.dataTypes=m.trim(u.dataType||"*").toLowerCase().match(N)||[""],null==u.crossDomain&&(i=Pe.exec(u.url.toLowerCase()),u.crossDomain=!(!i||i[1]===we[1]&&i[2]===we[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(we[3]||("http:"===we[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=m.param(u.data,u.traditional)),Oe(Ne,u,e,k),2===y)return k;for(n in(s=u.global)&&0==m.active++&&m.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!Le.test(u.type),r=u.url,u.hasContent||(u.data&&(r=u.url+=(Ae.test(r)?"&":"?")+u.data,delete u.data),!1===u.cache&&(u.url=Fe.test(r)?r.replace(Fe,"$1_="+xe++):r+(Ae.test(r)?"&":"?")+"_="+xe++)),u.ifModified&&(m.lastModified[r]&&k.setRequestHeader("If-Modified-Since",m.lastModified[r]),m.etag[r]&&k.setRequestHeader("If-None-Match",m.etag[r])),(u.data&&u.hasContent&&!1!==u.contentType||e.contentType)&&k.setRequestHeader("Content-Type",u.contentType),k.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+Ie+"; q=0.01":""):u.accepts["*"]),u.headers)k.setRequestHeader(n,u.headers[n]);if(u.beforeSend&&(!1===u.beforeSend.call(d,k,u)||2===y))return k.abort();for(n in _="abort",{success:1,error:1,complete:1})k[n](u[n]);if(l=Oe(Me,u,e,k)){k.readyState=1,s&&p.trigger("ajaxSend",[k,u]),u.async&&u.timeout>0&&(a=setTimeout(function(){k.abort("timeout")},u.timeout));try{y=1,l.send(v,x)}catch(t){if(!(y<2))throw t;x(-1,t)}}else x(-1,"No Transport");function x(t,e,i,n){var c,v,b,_,x,A=e;2!==y&&(y=2,a&&clearTimeout(a),l=void 0,o=n||"",k.readyState=t>0?4:0,c=t>=200&&t<300||304===t,i&&(_=function(t,e,i){for(var n,r,o,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(a in s)if(s[a]&&s[a].test(r)){l.unshift(a);break}if(l[0]in i)o=l[0];else{for(a in i){if(!l[0]||t.converters[a+" "+l[0]]){o=a;break}n||(n=a)}o=o||n}if(o)return o!==l[0]&&l.unshift(o),i[o]}(u,k,i)),_=function(t,e,i,n){var r,o,a,s,l,c={},u=t.dataTypes.slice();if(u[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(o=u.shift();o;)if(t.responseFields[o]&&(i[t.responseFields[o]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=c[l+" "+o]||c["* "+o]))for(r in c)if((s=r.split(" "))[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[r]:!0!==c[r]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(u,_,k,c),c?(u.ifModified&&((x=k.getResponseHeader("Last-Modified"))&&(m.lastModified[r]=x),(x=k.getResponseHeader("etag"))&&(m.etag[r]=x)),204===t||"HEAD"===u.type?A="nocontent":304===t?A="notmodified":(A=_.state,v=_.data,c=!(b=_.error))):(b=A,!t&&A||(A="error",t<0&&(t=0))),k.status=t,k.statusText=(e||A)+"",c?h.resolveWith(d,[v,A,k]):h.rejectWith(d,[k,A,b]),k.statusCode(g),g=void 0,s&&p.trigger(c?"ajaxSuccess":"ajaxError",[k,u,c?v:b]),f.fireWith(d,[k,A]),s&&(p.trigger("ajaxComplete",[k,u]),--m.active||m.event.trigger("ajaxStop")))}return k},getJSON:function(t,e,i){return m.get(t,e,i,"json")},getScript:function(t,e){return m.get(t,void 0,e,"script")}}),m.each(["get","post"],function(t,e){m[e]=function(t,i,n,r){return m.isFunction(i)&&(r=r||n,n=i,i=void 0),m.ajax({url:t,type:e,dataType:r,data:i,success:n})}}),m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){m.fn[e]=function(t){return this.on(e,t)}}),m._evalUrl=function(t){return m.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},m.fn.extend({wrapAll:function(t){if(m.isFunction(t))return this.each(function(e){m(this).wrapAll(t.call(this,e))});if(this[0]){var e=m(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return m.isFunction(t)?this.each(function(e){m(this).wrapInner(t.call(this,e))}):this.each(function(){var e=m(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=m.isFunction(t);return this.each(function(i){m(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!f.reliableHiddenOffsets()&&"none"===(t.style&&t.style.display||m.css(t,"display"))},m.expr.filters.visible=function(t){return!m.expr.filters.hidden(t)};var Be=/%20/g,je=/\[\]$/,$e=/\r?\n/g,Ue=/^(?:submit|button|image|reset|file)$/i,ze=/^(?:input|select|textarea|keygen)/i;function qe(t,e,i,n){var r;if(m.isArray(e))m.each(e,function(e,r){i||je.test(t)?n(t,r):qe(t+"["+("object"==typeof r?e:"")+"]",r,i,n)});else if(i||"object"!==m.type(e))n(t,e);else for(r in e)qe(t+"["+r+"]",e[r],i,n)}m.param=function(t,e){var i,n=[],r=function(t,e){e=m.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(t)||t.jquery&&!m.isPlainObject(t))m.each(t,function(){r(this.name,this.value)});else for(i in t)qe(i,t[i],e,r);return n.join("&").replace(Be,"+")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=m.prop(this,"elements");return t?m.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!m(this).is(":disabled")&&ze.test(this.nodeName)&&!Ue.test(t)&&(this.checked||!K.test(t))}).map(function(t,e){var i=m(this).val();return null==i?null:m.isArray(i)?m.map(i,function(t){return{name:e.name,value:t.replace($e,"\r\n")}}):{name:e.name,value:i.replace($e,"\r\n")}}).get()}}),m.ajaxSettings.xhr=void 0!==i.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Je()||function(){try{return new i.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}()}:Je;var Ge=0,He={},We=m.ajaxSettings.xhr();function Je(){try{return new i.XMLHttpRequest}catch(t){}}i.ActiveXObject&&m(i).on("unload",function(){for(var t in He)He[t](void 0,!0)}),f.cors=!!We&&"withCredentials"in We,(We=f.ajax=!!We)&&m.ajaxTransport(function(t){var e;if(!t.crossDomain||f.cors)return{send:function(i,n){var r,o=t.xhr(),a=++Ge;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)o[r]=t.xhrFields[r];for(r in t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)void 0!==i[r]&&o.setRequestHeader(r,i[r]+"");o.send(t.hasContent&&t.data||null),e=function(i,r){var s,l,c;if(e&&(r||4===o.readyState))if(delete He[a],e=void 0,o.onreadystatechange=m.noop,r)4!==o.readyState&&o.abort();else{c={},s=o.status,"string"==typeof o.responseText&&(c.text=o.responseText);try{l=o.statusText}catch(t){l=""}s||!t.isLocal||t.crossDomain?1223===s&&(s=204):s=c.text?200:404}c&&n(s,l,c,o.getAllResponseHeaders())},t.async?4===o.readyState?setTimeout(e):o.onreadystatechange=He[a]=e:e()},abort:function(){e&&e(void 0,!0)}}}),m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return m.globalEval(t),t}}}),m.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),m.ajaxTransport("script",function(t){if(t.crossDomain){var e,i=S.head||m("head")[0]||S.documentElement;return{send:function(n,r){(e=S.createElement("script")).async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,i){(i||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,i||r(200,"success"))},i.insertBefore(e,i.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var Ke=[],Ze=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ke.pop()||m.expando+"_"+xe++;return this[t]=!0,t}}),m.ajaxPrefilter("json jsonp",function(t,e,n){var r,o,a,s=!1!==t.jsonp&&(Ze.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ze.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=m.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ze,"$1"+r):!1!==t.jsonp&&(t.url+=(Ae.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||m.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=i[r],i[r]=function(){a=arguments},n.always(function(){i[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,Ke.push(r)),a&&m.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),m.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||S;var n=A.exec(t),r=!i&&[];return n?[e.createElement(n[1])]:(n=m.buildFragment([t],e,r),r&&r.length&&m(r).remove(),m.merge([],n.childNodes))};var Ye=m.fn.load;m.fn.load=function(t,e,i){if("string"!=typeof t&&Ye)return Ye.apply(this,arguments);var n,r,o,a=this,s=t.indexOf(" ");return s>=0&&(n=t.slice(s,t.length),t=t.slice(0,s)),m.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(o="POST"),a.length>0&&m.ajax({url:t,type:o,dataType:"html",data:e}).done(function(t){r=arguments,a.html(n?m("<div>").append(m.parseHTML(t)).find(n):t)}).complete(i&&function(t,e){a.each(i,r||[t.responseText,e,t])}),this},m.expr.filters.animated=function(t){return m.grep(m.timers,function(e){return t===e.elem}).length};var Xe=i.document.documentElement;function Qe(t){return m.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}m.offset={setOffset:function(t,e,i){var n,r,o,a,s,l,c=m.css(t,"position"),u=m(t),d={};"static"===c&&(t.style.position="relative"),s=u.offset(),o=m.css(t,"top"),l=m.css(t,"left"),("absolute"===c||"fixed"===c)&&m.inArray("auto",[o,l])>-1?(a=(n=u.position()).top,r=n.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),m.isFunction(e)&&(e=e.call(t,i,s)),null!=e.top&&(d.top=e.top-s.top+a),null!=e.left&&(d.left=e.left-s.left+r),"using"in e?e.using.call(t,d):u.css(d)}},m.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){m.offset.setOffset(this,t,e)});var e,i,n={top:0,left:0},r=this[0],o=r&&r.ownerDocument;return o?(e=o.documentElement,m.contains(e,r)?(typeof r.getBoundingClientRect!==V&&(n=r.getBoundingClientRect()),i=Qe(o),{top:n.top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:n.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):n):void 0},position:function(){if(this[0]){var t,e,i={top:0,left:0},n=this[0];return"fixed"===m.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),m.nodeName(t[0],"html")||(i=t.offset()),i.top+=m.css(t[0],"borderTopWidth",!0),i.left+=m.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-m.css(n,"marginTop",!0),left:e.left-i.left-m.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Xe;t&&!m.nodeName(t,"html")&&"static"===m.css(t,"position");)t=t.offsetParent;return t||Xe})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i=/Y/.test(e);m.fn[t]=function(n){return J(this,function(t,n,r){var o=Qe(t);if(void 0===r)return o?e in o?o[e]:o.document.documentElement[n]:t[n];o?o.scrollTo(i?m(o).scrollLeft():r,i?r:m(o).scrollTop()):t[n]=r},t,n,arguments.length,null)}}),m.each(["top","left"],function(t,e){m.cssHooks[e]=jt(f.pixelPosition,function(t,i){if(i)return i=Rt(t,e),Vt.test(i)?m(t).position()[e]+"px":i})}),m.each({Height:"height",Width:"width"},function(t,e){m.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){m.fn[n]=function(n,r){var o=arguments.length&&(i||"boolean"!=typeof n),a=i||(!0===n||!0===r?"margin":"border");return J(this,function(e,i,n){var r;return m.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===n?m.css(e,i,a):m.style(e,i,n,a)},e,o?n:void 0,o,null)}})}),m.fn.size=function(){return this.length},m.fn.andSelf=m.fn.addBack,void 0===(n=function(){return m}.apply(e,[]))||(t.exports=n);var ti=i.jQuery,ei=i.$;return m.noConflict=function(t){return i.$===m&&(i.$=ei),t&&i.jQuery===m&&(i.jQuery=ti),m},typeof r===V&&(i.jQuery=i.$=m),m},"object"==typeof t&&"object"==typeof t.exports?t.exports=r.document?o(r,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return o(t)}:o(r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(3),i(5),i(20),i(257),i(28)],void 0===(r=function(t,e,i,n,r,o,a){return i.extend({events:{"change select":"updateModel"},isGroup:!0,label:e("oro_config.form.config.group.localization.title"),template:t.template(o),code:"oro_config_localization",configure:function(){return this.trigger("tab:register",{code:this.code,label:this.label}),i.prototype.configure.apply(this,arguments)},render:function(){var t=new r;return t.render().$el.appendTo(this.getRoot().$el).show(),n.getFetcher("ui-locale").fetchAll().then(function(e){this.$el.html(this.template({locales:e.reduce((t,e)=>(t[e.code]=e.label,t),{}),selected:this.getFormData().pim_ui___language.value})),a.init(this.$("select")),t.hide().$el.remove()}.bind(this)),this.delegateEvents(),i.prototype.render.apply(this,arguments)},updateModel:function(t){var e=this.getFormData();e.pim_ui___language.value=t.target.value,this.setData(e)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){(function(){(function(){var t,n=this,r=n.Backbone,o=[],a=o.push,s=o.slice,l=o.splice;(t=e).VERSION="0.9.10";var c=n._;c||(c=i(0)),t.$=n.jQuery||n.Zepto||n.ender,t.noConflict=function(){return n.Backbone=r,this},t.emulateHTTP=!1,t.emulateJSON=!1;var u=/\s+/,d=function(t,e,i,n){if(!i)return!0;if("object"==typeof i)for(var r in i)t[e].apply(t,[r,i[r]].concat(n));else{if(!u.test(i))return!0;for(var o=i.split(u),a=0,s=o.length;a<s;a++)t[e].apply(t,[o[a]].concat(n))}},p=function(t,e){var i,n=-1,r=t.length;switch(e.length){case 0:for(;++n<r;)(i=t[n]).callback.call(i.ctx);return;case 1:for(;++n<r;)(i=t[n]).callback.call(i.ctx,e[0]);return;case 2:for(;++n<r;)(i=t[n]).callback.call(i.ctx,e[0],e[1]);return;case 3:for(;++n<r;)(i=t[n]).callback.call(i.ctx,e[0],e[1],e[2]);return;default:for(;++n<r;)(i=t[n]).callback.apply(i.ctx,e)}},h=t.Events={on:function(t,e,i){return d(this,"on",t,[e,i])&&e?(this._events||(this._events={}),(this._events[t]||(this._events[t]=[])).push({callback:e,context:i,ctx:i||this}),this):this},once:function(t,e,i){if(!d(this,"once",t,[e,i])||!e)return this;var n=this,r=c.once(function(){n.off(t,r),e.apply(this,arguments)});return r._callback=e,this.on(t,r,i),this},off:function(t,e,i){var n,r,o,a,s,l,u,p;if(!this._events||!d(this,"off",t,[e,i]))return this;if(!t&&!e&&!i)return this._events={},this;for(s=0,l=(a=t?[t]:c.keys(this._events)).length;s<l;s++)if(t=a[s],n=this._events[t]){if(o=[],e||i)for(u=0,p=n.length;u<p;u++)r=n[u],(e&&e!==r.callback&&e!==r.callback._callback||i&&i!==r.context)&&o.push(r);this._events[t]=o}return this},trigger:function(t){if(!this._events)return this;var e=s.call(arguments,1);if(!d(this,"trigger",t,e))return this;var i=this._events[t],n=this._events.all;return i&&p(i,e),n&&p(n,arguments),this},listenTo:function(t,e,i){return(this._listeners||(this._listeners={}))[t._listenerId||(t._listenerId=c.uniqueId("l"))]=t,t.on(e,"object"==typeof e?this:i,this),this},stopListening:function(t,e,i){var n=this._listeners;if(n){if(t)t.off(e,"object"==typeof e?this:i,this),e||i||delete n[t._listenerId];else{for(var r in"object"==typeof e&&(i=this),n)n[r].off(e,i,this);this._listeners={}}return this}}};h.bind=h.on,h.unbind=h.off,c.extend(t,h);var f=t.Model=function(t,e){var i,n=t||{};this.cid=c.uniqueId("c"),this.attributes={},e&&e.collection&&(this.collection=e.collection),e&&e.parse&&(n=this.parse(n,e)||{}),(i=c.result(this,"defaults"))&&(n=c.defaults({},n,i)),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};c.extend(f.prototype,h,{changed:null,idAttribute:"id",initialize:function(){},toJSON:function(t){return c.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return c.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,i){var n,r,o,a,s,l,u,d;if(null==t)return this;if("object"==typeof t?(r=t,i=e):(r={})[t]=e,i||(i={}),!this._validate(r,i))return!1;for(n in o=i.unset,s=i.silent,a=[],l=this._changing,this._changing=!0,l||(this._previousAttributes=c.clone(this.attributes),this.changed={}),d=this.attributes,u=this._previousAttributes,this.idAttribute in r&&(this.id=r[this.idAttribute]),r)e=r[n],c.isEqual(d[n],e)||a.push(n),c.isEqual(u[n],e)?delete this.changed[n]:this.changed[n]=e,o?delete d[n]:d[n]=e;if(!s){a.length&&(this._pending=!0);for(var p=0,h=a.length;p<h;p++)this.trigger("change:"+a[p],this,d[a[p]],i)}if(l)return this;if(!s)for(;this._pending;)this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,c.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,c.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!c.isEmpty(this.changed):c.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&c.clone(this.changed);var e,i=!1,n=this._changing?this._previousAttributes:this.attributes;for(var r in t)c.isEqual(n[r],e=t[r])||((i||(i={}))[r]=e);return i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return c.clone(this._previousAttributes)},fetch:function(t){void 0===(t=t?c.clone(t):{}).parse&&(t.parse=!0);var e=t.success;return t.success=function(t,i,n){if(!t.set(t.parse(i,n),n))return!1;e&&e(t,i,n)},this.sync("read",this,t)},save:function(t,e,i){var n,r,o,a,s=this.attributes;return null==t||"object"==typeof t?(n=t,i=e):(n={})[t]=e,!!(!n||i&&i.wait||this.set(n,i))&&(i=c.extend({validate:!0},i),!!this._validate(n,i)&&(n&&i.wait&&(this.attributes=c.extend({},s,n)),void 0===i.parse&&(i.parse=!0),r=i.success,i.success=function(t,e,i){t.attributes=s;var o=t.parse(e,i);if(i.wait&&(o=c.extend(n||{},o)),c.isObject(o)&&!t.set(o,i))return!1;r&&r(t,e,i)},"patch"===(o=this.isNew()?"create":i.patch?"patch":"update")&&(i.attrs=n),a=this.sync(o,this,i),n&&i.wait&&(this.attributes=s),a))},destroy:function(t){var e=this,i=(t=t?c.clone(t):{}).success,n=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(t,e,r){(r.wait||t.isNew())&&n(),i&&i(t,e,r)},this.isNew())return t.success(this,null,t),!1;var r=this.sync("delete",this,t);return t.wait||n(),r},url:function(){var t=c.result(this,"urlRoot")||c.result(this.collection,"url")||L();return this.isNew()?t:t+("/"===t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(t){return!this.validate||!this.validate(this.attributes,t)},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=c.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return!i||(this.trigger("invalid",this,i,e||{}),!1)}});var m=t.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this.models=[],this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,c.extend({silent:!0},e))};c.extend(m.prototype,h,{model:f,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return t.sync.apply(this,arguments)},add:function(t,e){var i,n,r,o,s,u,d,p,h,f;for(t=c.isArray(t)?t.slice():[t],e||(e={}),d=[],p=e.at,h=this.comparator&&null==p&&0!=e.sort,f=c.isString(this.comparator)?this.comparator:null,i=0,n=t.length;i<n;i++)(r=this._prepareModel(o=t[i],e))?(s=this.get(r))?e.merge&&(s.set(o===r?r.attributes:o,e),h&&!u&&s.hasChanged(f)&&(u=!0)):(d.push(r),r.on("all",this._onModelEvent,this),this._byId[r.cid]=r,null!=r.id&&(this._byId[r.id]=r)):this.trigger("invalid",this,o,e);if(d.length&&(h&&(u=!0),this.length+=d.length,null!=p?l.apply(this.models,[p,0].concat(d)):a.apply(this.models,d)),u&&this.sort({silent:!0}),e.silent)return this;for(i=0,n=d.length;i<n;i++)(r=d[i]).trigger("add",r,this,e);return u&&this.trigger("sort",this,e),this},remove:function(t,e){var i,n,r,o;for(t=c.isArray(t)?t.slice():[t],e||(e={}),i=0,n=t.length;i<n;i++)(o=this.get(t[i]))&&(delete this._byId[o.id],delete this._byId[o.cid],r=this.indexOf(o),this.models.splice(r,1),this.length--,e.silent||(e.index=r,o.trigger("remove",o,this,e)),this._removeReference(o));return this},push:function(t,e){return t=this._prepareModel(t,e),this.add(t,c.extend({at:this.length},e)),t},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return t=this._prepareModel(t,e),this.add(t,c.extend({at:0},e)),t},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(t,e){return this.models.slice(t,e)},get:function(t){if(null!=t)return this._idAttr||(this._idAttr=this.model.prototype.idAttribute),this._byId[t.id||t.cid||t[this._idAttr]||t]},at:function(t){return this.models[t]},where:function(t){return c.isEmpty(t)?[]:this.filter(function(e){for(var i in t)if(t[i]!==e.get(i))return!1;return!0})},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),c.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(c.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return c.invoke(this.models,"get",t)},update:function(t,e){var i,n,r,o;(e=c.extend({add:!0,merge:!0,remove:!0},e)).parse&&(t=this.parse(t,e));var a=[],s=[],l={};if(c.isArray(t)||(t=t?[t]:[]),e.add&&!e.remove)return this.add(t,e);for(n=0,r=t.length;n<r;n++)i=t[n],o=this.get(i),e.remove&&o&&(l[o.cid]=!0),(e.add&&!o||e.merge&&o)&&a.push(i);if(e.remove)for(n=0,r=this.models.length;n<r;n++)l[(i=this.models[n]).cid]||s.push(i);return s.length&&this.remove(s,e),a.length&&this.add(a,e),this},reset:function(t,e){e||(e={}),e.parse&&(t=this.parse(t,e));for(var i=0,n=this.models.length;i<n;i++)this._removeReference(this.models[i]);return e.previousModels=this.models.slice(),this._reset(),t&&this.add(t,c.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),this},fetch:function(t){void 0===(t=t?c.clone(t):{}).parse&&(t.parse=!0);var e=t.success;return t.success=function(t,i,n){t[n.update?"update":"reset"](i,n),e&&e(t,i,n)},this.sync("read",this,t)},create:function(t,e){if(e=e?c.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var i=this,n=e.success;return e.success=function(t,e,r){r.wait&&i.add(t,r),n&&n(t,e,r)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models.length=0,this._byId={}},_prepareModel:function(t,e){if(t instanceof f)return t.collection||(t.collection=this),t;e||(e={}),e.collection=this;var i=new this.model(t,e);return!!i._validate(t,e)&&i},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){("add"!==t&&"remove"!==t||i===this)&&("destroy"===t&&this.remove(e,n),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))},sortedIndex:function(t,e,i){e||(e=this.comparator);var n=c.isFunction(e)?e:function(t){return t.get(e)};return c.sortedIndex(this.models,t,n,i)}});c.each(["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"],function(t){m.prototype[t]=function(){var e=s.call(arguments);return e.unshift(this.models),c[t].apply(c,e)}});c.each(["groupBy","countBy","sortBy"],function(t){m.prototype[t]=function(e,i){var n=c.isFunction(e)?e:function(t){return t.get(e)};return c[t](this.models,n,i)}});var g=t.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},v=/\((.*?)\)/g,b=/(\(\?)?:\w+/g,y=/\*\w+/g,_=/[\-{}\[\]+?.,\\\^$|#\s]/g;c.extend(g.prototype,h,{initialize:function(){},route:function(e,i,n){return c.isRegExp(e)||(e=this._routeToRegExp(e)),n||(n=this[i]),t.history.route(e,c.bind(function(r){var o=this._extractParameters(e,r);n&&n.apply(this,o),this.trigger.apply(this,["route:"+i].concat(o)),this.trigger("route",i,o),t.history.trigger("route",this,i,o)},this)),this},navigate:function(e,i){return t.history.navigate(e,i),this},_bindRoutes:function(){if(this.routes)for(var t,e=c.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])},_routeToRegExp:function(t){return t=t.replace(_,"\\$&").replace(v,"(?:$1)?").replace(b,function(t,e){return e?t:"([^/]+)"}).replace(y,"(.*?)"),new RegExp("^"+t+"$")},_extractParameters:function(t,e){return t.exec(e).slice(1)}});var k=t.History=function(){this.handlers=[],c.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},x=/^[#\/]|\s+$/g,A=/^\/+|\/+$/g,C=/msie [\w.]+/,w=/\/$/;k.started=!1,c.extend(k.prototype,h,{interval:50,getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=this.location.pathname;var i=this.root.replace(w,"");t.indexOf(i)||(t=t.substr(i.length))}else t=this.getHash();return t.replace(x,"")},start:function(e){if(k.started)throw new Error("Backbone.history has already been started");k.started=!0,this.options=c.extend({},{root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var i=this.getFragment(),n=document.documentMode,r=C.exec(navigator.userAgent.toLowerCase())&&(!n||n<=7);this.root=("/"+this.root+"/").replace(A,"/"),r&&this._wantsHashChange&&(this.iframe=t.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(i)),this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=i;var o=this.location,a=o.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!a?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&a&&o.hash&&(this.fragment=this.getHash().replace(x,""),this.history.replaceState({},document.title,this.root+this.fragment+o.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),k.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(t){var e=this.fragment=this.getFragment(t);return c.any(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0})},navigate:function(t,e){if(!k.started)return!1;if(e&&!0!==e||(e={trigger:e}),t=this.getFragment(t||""),this.fragment!==t){this.fragment=t;var i=this.root+t;if(this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}e.trigger&&this.loadUrl(t)}},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),t.history=new k;var T=t.View=function(t){this.cid=c.uniqueId("view"),this._configure(t||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},S=/^(\S+)\s*(.*)$/,F=["model","collection","el","id","attributes","className","tagName","events"];c.extend(T.prototype,h,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,i){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],!1!==i&&this.delegateEvents(),this},delegateEvents:function(t){if(t||(t=c.result(this,"events")))for(var e in this.undelegateEvents(),t){var i=t[e];if(c.isFunction(i)||(i=this[t[e]]),!i)throw new Error('Method "'+t[e]+'" does not exist');var n=e.match(S),r=n[1],o=n[2];i=c.bind(i,this),r+=".delegateEvents"+this.cid,""===o?this.$el.on(r,i):this.$el.on(r,o,i)}},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid)},_configure:function(t){this.options&&(t=c.extend({},c.result(this,"options"),t)),c.extend(this,c.pick(t,F)),this.options=t},_ensureElement:function(){if(this.el)this.setElement(c.result(this,"el"),!1);else{var e=c.extend({},c.result(this,"attributes"));this.id&&(e.id=c.result(this,"id")),this.className&&(e.class=c.result(this,"className"));var i=t.$("<"+c.result(this,"tagName")+">").attr(e);this.setElement(i,!1)}}});var E={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.sync=function(e,i,n){var r=E[e];c.defaults(n||(n={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:r,dataType:"json"};if(n.url||(o.url=c.result(i,"url")||L()),null!=n.data||!i||"create"!==e&&"update"!==e&&"patch"!==e||(o.contentType="application/json",o.data=JSON.stringify(n.attrs||i.toJSON(n))),n.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),n.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){o.type="POST",n.emulateJSON&&(o.data._method=r);var a=n.beforeSend;n.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",r),a)return a.apply(this,arguments)}}"GET"===o.type||n.emulateJSON||(o.processData=!1);var s=n.success;n.success=function(t){s&&s(i,t,n),i.trigger("sync",i,t,n)};var l=n.error;n.error=function(t){l&&l(i,t,n),i.trigger("error",i,t,n)};var u=n.xhr=t.ajax(c.extend(o,n));return i.trigger("request",i,u,n),u},t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};f.extend=m.extend=g.extend=T.extend=k.extend=function(t,e){var i,n=this;i=t&&c.has(t,"constructor")?t.constructor:function(){return n.apply(this,arguments)},c.extend(i,n,e);var r=function(){this.constructor=i};return r.prototype=n.prototype,i.prototype=new r,t&&c.extend(i.prototype,t),i.__super__=n.prototype,i};var L=function(){throw new Error('A "url" property or function must be specified')}}).call(this)}).call(window)},function(t,e,i){"use strict";(function(n){var r,o;r=[i(0),i(2),i(3),i(258),i(58)],void 0===(o=function(t,e,i,r){return i.extend({events:{'change input[type="checkbox"]':"updateModel"},isGroup:!0,label:e("oro_config.form.config.group.notification.title"),template:t.template(r),code:"oro_config_notification",configure:function(){return this.trigger("tab:register",{code:this.code,label:this.label}),i.prototype.configure.apply(this,arguments)},render:function(){return this.$el.html(this.template({notification:this.getFormData().pim_analytics___version_update.value,label_system_notification:e("oro_config.form.config.group.notification.system_notification"),label_yes:e("pim_common.yes"),label_no:e("pim_common.no")})),this.$(".switch").bootstrapSwitch(),this.delegateEvents(),i.prototype.render.apply(this,arguments)},updateModel:function(t){var e=this.getFormData();e.pim_analytics___version_update.value=n(t.target).prop("checked")?"1":"0",this.setData(e)}})}.apply(e,r))||(t.exports=o)}).call(e,i(1))},function(t,e,i){var n,r,o="oro_config_configuration_system_post";n=[i(0),i(1),i(7),i(59),i(260)],void 0===(r=function(t,e,i,n,r){return n.extend({template:t.template(r),events:{"click .save":"save"},render:function(){this.$el.html(this.template({label:t.__("pim_common.save")}))},save:function(){this.getRoot().trigger("pim_enrich:form:entity:pre_save",this.getFormData()),this.showLoadingMask(),e.ajax({method:"POST",url:this.getSaveUrl(),contentType:"application/json",data:JSON.stringify(this.getFormData())}).then(this.postSave.bind(this)).fail(this.fail.bind(this)).always(this.hideLoadingMask.bind(this))},getSaveUrl:function(){return i.generate(o)},postSave:function(t){this.setData(t),this.getRoot().trigger("pim_enrich:form:entity:post_fetch",t),n.prototype.postSave.apply(this,arguments)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){(function(n){var r,o,a={};r=[i(2),i(8),i(9),i(3),i(5),i(176)],void 0===(o=function(t,e,i,r,o,s){return r.extend({template:n.template(s),initialize:function(){this.model=new e.Model({}),r.prototype.initialize.apply(this,arguments)},configure:function(){return e.Router.prototype.once("route",this.unbindEvents),n.has(a,"forwarded-events")&&this.forwardMediatorEvents(a["forwarded-events"]),r.prototype.configure.apply(this,arguments)},render:function(){return this.configured?(this.getRoot().trigger("oro_config:form:render:before"),this.$el.html(this.template()),this.renderExtensions(),this.getRoot().trigger("oro_config:form:render:after"),this):this},unbindEvents:function(){i.clear("oro_config:form")}})}.apply(e,r))||(t.exports=o)}).call(e,i(0))},function(t,e,i){"use strict";var n,r;n=[i(177)],void 0===(r=function(t){var e=t.prototype;return t.extend({useDirectLauncherLink:!1,run:function(){sessionStorage.redirectTab="#"+this.tab,e.run.call(this)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(87),i(1),i(0),i(2),i(8),i(7),i(20),i(46),i(3),i(9),i(268),i(270),i(74),i(73),i(98)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c,u,d,p){var h=r.Model.extend({defaults:{removable:!0,label:"",displayed:!1,group:n("pim_datagrid.column_configurator.system_group")}}),f=r.Collection.extend({model:h});return l.extend({locale:null,label:n("pim_datagrid.column_configurator.label"),icon:"th",className:"AknGridToolbar-right",target:".AknGridToolbar .actions-panel",route:null,template:i.template(d),modalTemplate:i.template(p),configuratorTemplate:i.template('<div id="column-configurator"></div>'),initialize:function(t){this.route=t.config.route,c.once("grid_load:start",this.setupOptions.bind(this)),l.prototype.initialize.apply(this,arguments)},setupOptions:function(e,r){var o=r.options;if(this.options=o,!i.has(o,"manageColumns")||!1!==o.manageColumns){i.has(o,"label")&&(this.label=n(o.label)),i.has(o,"icon")&&(this.icon=o.icon),i.has(o,"route")&&(this.route=o.route),this.gridName=r.name;var a=t.prototype.decodeStateData(e.url.split("?")[1]),s=a[this.gridName]||{};this.locale=a.dataLocale||s.dataLocale,this.renderAction()}},renderAction:function(){this.$el.empty().append(this.template({icon:this.icon,label:this.label})),this.subscribe()},subscribe:function(){e(".configure-columns").one("click",this.execute.bind(this))},execute:function(t){var l=this.route||"pim_datagrid_view_list_available_columns";t.preventDefault();var c=o.generate(l,{alias:this.gridName,dataLocale:this.locale}),d=new a;d.render().$el.appendTo(e("#container")),d.show(),e.get(c,i.bind(function(t){var e=s.get(this.gridName,"columns");e=e?e.split(","):i.pluck(this.options.columns,"name"),e=i.map(e,function(t,e){return{code:t,position:e}});var o=new f;i.each(t,function(t){var n=i.findWhere(e,{code:t.code});i.isUndefined(n)||(t.displayed=!0,t.position=n.position),o.add(t)});var a=new u({collection:o,route:l}),c=new r.BootstrapModal({modalOptions:{backdrop:"static",keyboard:!1},okCloses:!1,title:n("pim_datagrid.column_configurator.title"),innerDescription:n("pim_datagrid.column_configurator.description"),okText:n("pim_common.apply"),template:this.modalTemplate,content:this.configuratorTemplate(),innerClassName:"AknFullPage--full"});d.hide(),d.$el.remove(),c.open(),a.setElement("#column-configurator").render(),c.on("cancel",this.subscribe.bind(this)),c.on("ok",i.bind(function(){var t=a.getDisplayed();if(t.length){s.set(this.gridName,"columns",t.join(",")),c.close();var e=window.location.hash;r.history.fragment=(new Date).getTime(),r.history.navigate(e,!0)}},this))},this))}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(8),i(2),i(3),i(276),i(11)],void 0===(r=function(t,e,i,n,r,o,a){return r.extend({className:"AknGridToolbar-right AknDropdown AknDropdown--left AknDisplaySelector",gridName:null,template:e.template(o),events:{"click .AknDisplaySelector-item":"setDisplayType"},initialize(t){return this.gridName=t.config.gridName,null===this.gridName&&new Error("You must specify gridName for the display-selector"),r.prototype.initialize.apply(this,arguments)},configure(){return this.listenTo(this.getRoot(),"grid_load:start",this.collectDisplayOptions.bind(this)),r.prototype.configure.apply(this,arguments)},collectDisplayOptions(t,e){var i=e.options.displayTypes;if(void 0!==i){for(var r in i){var o=i[r];o.label=n(o.label)}this.renderDisplayTypes(i)}},getStoredType(){return localStorage.getItem(`display-selector:${this.gridName}`)},setDisplayType(t){var e=this.$(t.target).data("type");return localStorage.setItem(`display-selector:${this.gridName}`,e),a.reloadPage()},renderDisplayTypes(t){var e=Object.keys(t)[0],i=this.getStoredType(),o=n("pim_datagrid.display_selector.label");return void 0===t[i]&&(i=e),this.$el.html(this.template({displayLabel:o,types:t,selectedType:i})),r.prototype.render.apply(this,arguments)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(8),i(12),i(109)],void 0===(r=function(t,e,i,n,r){return i.View.extend({action:null,initialize:function(t){this.action=t},run:function(){t.get(this.action.getLinkWithParameters()).done(function(){n.notify("success",e.__("pim_datagrid.mass_action.quick_export.success"))}).error(function(t){401===t.status?r.dispatch(null,t):n.notify("error",e.__(t.responseText))})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(9),i(278)],void 0===(r=function(t,e,i,n){var r=n.extend({$checkbox:null,initialize:function(){n.prototype.initialize.apply(this,arguments),this.$checkbox=t('<input type="checkbox">').css("margin",0),i.on("datagrid_collection_set_after",function(t,i){t.inputName===this.gridName&&(this.$el=i.find("table.grid thead th:not([style])").first(),this.$el.empty().html(this.$checkbox),this.setStateFromCollection(t),this.$checkbox.on("click",e.bind(function(){var i=this.$checkbox.is(":checked");e.each(t.models,function(t){t.set(this.columnName,i)},this)},this)))},this),i.on("grid_load:complete",function(t){t.inputName===this.gridName&&this.setStateFromCollection(t)},this),i.bind("column_form_listener:set_selectors:"+this.gridName,function(t){this._clearState(),this.selectors=t,this._restoreState(),this._synchronizeState()},this),i.trigger("column_form_listener:initialized",this.gridName)},_explode:function(t){return t?e.map(t.split(","),function(t){return t?(t+"").trim():null}):[]},setStateFromCollection:function(t){var i=!0;e.each(t.models,function(t){i&&(i=t.get(this.columnName))},this),this.$checkbox.prop("checked",i)},_processValue:function(t,e){n.prototype._processValue.apply(this,arguments);var r=e.get(this.columnName)?"selectModel":"unselectModel";i.trigger("datagrid:"+r+":"+this.gridName,e)}});return{init:function(t,i){var n=t.data("metadata").options||{};n.columnListener&&(n.columnListener.selectors=n.columnListener.selectors||{},new r(e.extend({$gridContainer:t,gridName:i},n.columnListener)))}}}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(7),i(180),i(11),i(12),i(139),i(20)],void 0===(r=function(t,e,i,n,r,o,a,s,l){return r.extend({execute:function(){var r=Object.assign({},this.getActionParameters(),{gridName:this.datagrid.name,actionName:"sequential_edit"}),c=new l;return c.render().$el.appendTo(t(".hash-loading-mask")).show(),t.ajax({url:n.generate("pim_enrich_sequential_edit_rest_get_ids"),data:r}).then(t=>{if(s.set(t.entities),1e3<t.total&&a.notify("warning",i("pim_enrich.entity.product.module.sequential_edit.item_limit",{count:t.total})),0!==t.total){var n=e.first(t.entities);o.redirectToRoute("pim_enrich_"+n.type+"_edit",{id:n.id})}else a.notify("error",i("pim_enrich.entity.product.module.sequential_edit.empty"))}).always(()=>{c.hide().$el.remove()})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r,o={jobInstanceCode:"delete_products_and_product_models",route:"pim_enrich_mass_edit_rest_launch",backRoute:"pim_enrich_product_index",launchErrorLabel:"pim_enrich.mass_edit.product.step.launch_error.label",launchedLabel:"pim_enrich.mass_edit.product.step.launched.label",confirmLabel:"pim_enrich.entity.product_model.module.delete.confirm_for_products_and_product_models"};n=[i(1),i(0),i(2),i(7),i(180),i(11),i(12),i(20),i(19)],void 0===(r=function(t,e,i,n,r,a,s,l,c){"use strict";return r.extend({errorModal:void 0,confirmModal:void 0,config:void 0,initialize:function(){this.config=o,r.prototype.initialize.apply(this,arguments)},execute:function(){this.getData().then(t=>{this.getConfirmDialog(t)})},getData:function(){var e=this.getActionParameters();e.actionName=this.route_parameters.actionName,e.gridName=this.route_parameters.gridName;var i=`?${t.param(e)}`;return t.ajax({url:n.generate("pim_enrich_mass_edit_rest_get_filter")+i}).then(t=>({filters:t.filters,jobInstanceCode:this.config.jobInstanceCode,actions:[this.route_parameters.actionName],itemsCount:t.itemsCount}))},getConfirmDialog:function(t){return this.confirmModal=c.confirmDelete(i(this.config.confirmLabel),i("pim_common.confirm_deletion"),this.doMassDelete.bind(this,t),this.getEntityHint(!0)),this.confirmModal},doMassDelete:function(e){var r=new l;r.render().$el.appendTo(t(".hash-loading-mask")).show(),t.ajax({method:"POST",contentType:"application/json",url:n.generate(this.config.route),data:JSON.stringify(e)}).then(()=>{a.redirectToRoute(this.config.backRoute);var t=i("pim_datagrid.mass_action.mass_delete");s.notify("success",i(this.config.launchedLabel,{operation:t}))}).fail(()=>{s.notify("error",i(this.config.launchErrorLabel))}).always(()=>{r.hide().$el.remove()})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(179),i(19)],void 0===(r=function(t,e,i,n){return i.extend({getConfirmDialog:function(){var t=this.getEntityCode();return this.confirmModal=n.confirm(e(`pim_enrich.entity.${t}.module.revoke.confirm`),e("pim_common.confirm_revocation"),this.doDelete.bind(this),this.getEntityHint(!0)),this.confirmModal}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(97)],void 0===(r=function(t){return t.extend({collection:void 0,initialize:function(e){if(!(e=e||{}).datagrid)throw new TypeError("'datagrid' is required");this.collection=e.datagrid.collection,t.prototype.initialize.apply(this,arguments)},execute:function(){this.datagrid.setAdditionalParameter("refresh",!0),this.collection.fetch(),this.datagrid.removeAdditionalParameter("refresh")}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(97),i(46)],void 0===(r=function(t,e,i){return e.extend({collection:void 0,initialize:function(t){if(!(t=t||{}).datagrid)throw new TypeError("'datagrid' is required");this.collection=t.datagrid.collection,this.datagrid=t.datagrid,e.prototype.initialize.apply(this,arguments)},execute:function(){var e=this.collection.initialState,n=i.get(this.datagrid.name,["initialViewState"]),r=e.parameters.view;t.has(e,"filters")&&(e.filters=t.omit(e.filters,"scope")),r&&"0"!==r.id&&0!==n.initialViewState.length&&(e=this.collection.decodeStateData(n.initialViewState)),this.collection.updateState(e),this.collection.fetch()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";(function(n){var r,o;r=[i(0),i(2),i(8),i(280),i(3),i(9)],void 0===(o=function(t,e,i,r,o,a){var s=o.extend({appendToGrid:!1,actionsGroups:[],actions:[],launchers:[],className:"AknButtonList mass-actions-panel",groupTemplate:t.template(r),initialize:function(t){return this.appendToGrid=t.appendToGrid,this.gridElement=t.gridElement,a.once("grid_load:start",this.setupActions.bind(this)),a.on("grid_load:complete",this.setupActions.bind(this)),o.prototype.initialize.apply(this,arguments)},setupActions:function(t,e){this.actionsGroups=e.massActionsGroups,this.setActions(e.massActions,e),this.renderActions()},renderActions:function(){this.$el.empty();var e=t.filter(this.launchers,function(t){return void 0===t.getGroup()}),i=t.filter(this.launchers,function(t){return void 0!==t.getGroup()});return e.length&&t.each(e,t=>{this.$el.append(t.render().$el)}),i.length&&this.renderGroupedLaunchers(i),this.appendToGrid&&this.gridElement.prepend(this.$el),this},renderGroupedLaunchers:function(i){var n=t.groupBy(i,function(t){return t.getGroup()}),r=t.pick(this.actionsGroups,t.keys(n));return t.each(r,function(t,i){this.$el.append(this.groupTemplate({__:e,classname:this.getGroupClassname(i),group:t}))}.bind(this)),t.each(n,function(e,i){var n=this.$el.find("."+this.getGroupClassname(i)+" .AknDropdown-menu");t.each(e,t=>{n.append(t.renderAsListItem().$el)})}.bind(this)),this},getGroupClassname:function(t){return t.replace("_","-")+"-actions-group"},setActions:function(e,i){this.actions=[],this.launchers=[],t.each(e,function(t){this.addAction(t,i)},this)},addAction:function(t,e){var i=new t({datagrid:e});this.actions.push(i),this.launchers.push(i.createLauncher())},disable:function(){return t.each(this.launchers,function(t){t.disable()}),this},enable:function(){return t.each(this.launchers,function(t){t.enable()}),this}});return s.init=(t=>new s({appendToGrid:!0,gridElement:n(t).find(".grid-container")})),s}.apply(e,r))||(t.exports=o)}).call(e,i(1))},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(29)],void 0===(r=function(t,e,i){return i.BooleanCell.extend({listenRowClick:!0,render:function(){return i.BooleanCell.prototype.render.apply(this,arguments),this.$input=this.$el.find("input"),this.column.get("editable")||this.$input.attr("disabled","disabled"),this.updateStyle(this.$el.find("input[type=checkbox]").prop("checked")),this},enterEditMode:function(){if(i.BooleanCell.prototype.enterEditMode.apply(this,arguments),this.column.get("editable")){var t=this.currentEditor.$el;t.prop("checked",!t.prop("checked")).change()}},onRowClicked:function(e,i){this.$input.is(i.target)||this.$el.is(i.target)||this.$el.has(i.target).length||this.enterEditMode(i),this.updateStyle(t(i.target).prop("checked"))},updateStyle(t){t?this.$el.addClass("AknGrid-bodyCell--checked"):this.$el.removeClass("AknGrid-bodyCell--checked")}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(47)],void 0===(r=function(t){return t.extend({render:function(){return this.$el.empty().html(this.formatter.fromRaw(this.model.get(this.column.get("name")))),this}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(285)],void 0===(r=function(t){return t.extend({type:"date"})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";(function(n){var r,o;r=[i(2),i(29),i(286)],void 0===(o=function(t,e,i){return e.StringCell.extend({template:n.template(i),render:function(){return this.el.setAttribute("colspan",4),this.$el.empty(),this.$el.html(this.template({changes:this.model.get(this.column.get("name")),__:t})),this.delegateEvents(),this}})}.apply(e,r))||(t.exports=o)}).call(e,i(0))},function(t,e,i){"use strict";var n,r;n=[i(0),i(29)],void 0===(r=function(t,e){return e.NumberCell.extend({style:"decimal",enterEditMode:function(t){return this.column.get("editable")&&t.stopPropagation(),e.NumberCell.prototype.enterEditMode.apply(this,arguments)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(29)],void 0===(r=function(t,e){return e.NumberCell.extend({style:"decimal",initialize:function(){this.decimals=0,e.NumberCell.prototype.initialize.apply(this,arguments)},enterEditMode:function(t){return this.column.get("editable")&&t.stopPropagation(),e.NumberCell.prototype.enterEditMode.apply(this,arguments)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(29)],void 0===(r=function(t,e){return e.SelectCell.extend({initialize:function(){this.choices&&(this.optionValues=[],t.each(this.choices,function(t,e){this.optionValues.push([t,e])},this)),e.SelectCell.prototype.initialize.apply(this,arguments)},enterEditMode:function(t){return this.column.get("editable")&&t.stopPropagation(),e.StringCell.prototype.enterEditMode.apply(this,arguments)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(47),i(2)],void 0===(r=function(t,e){return t.extend({render:function(){if("product_model"===this.model.get("document_type"))return this.$el.empty().html(e("pim_common.not_available")),this;var t=this.formatter.fromRaw(this.model.get(this.column.get("name"))),i="-";if(null!==t&&""!==t){var n="";i='<span class="AknBadge AknBadge--medium AknBadge--'+(n+=100===t?"success":0===t?"important":"warning")+'">'+t+"%</span>"}return this.$el.empty().html(i),this}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(29),i(287)],void 0===(r=function(t,e,i){return e.StringCell.extend({className:"AknGrid-bodyCell AknGrid-expandable",template:t.template(i),render:function(){return this.$el.empty().html(this.template({value:this.model.get(this.column.get("name"))})),this}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";(function(n){var r,o;r=[i(47),i(2),i(288)],void 0===(o=function(t,e,i){return t.extend({template:n.template(i),render:function(){if("product_model"===this.model.get("document_type"))return this.$el.empty().html(""),this;var t=this.formatter.fromRaw(this.model.get(this.column.get("name"))),i=!0===t?"enabled":"disabled",n=e(!0===t?"pim_enrich.entity.product.module.status.enabled":"pim_enrich.entity.product.module.status.disabled");return this.$el.empty().html(this.template({enabled:i,label:n})),this}})}.apply(e,r))||(t.exports=o)}).call(e,i(0))},function(t,e,i){"use strict";var n,r;n=[i(47),i(2)],void 0===(r=function(t,e){return t.extend({render:function(){var t=this.formatter.fromRaw(this.model.get(this.column.get("name")));if(null===t||""===t)return this;var i=!0===t||"true"===t||"1"===t?"success":"important",n=!0===t||"true"===t||"1"===t?"Yes":"No";return this.$el.empty().html('<span class="AknBadge AknBadge--medium AknBadge--'+i+'">'+e(n)+"</span>"),this}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(47),i(2)],void 0===(r=function(t,e){return t.extend({render:function(){var t=this.model.get(this.column.get("name")),i=this.formatter.fromRaw(t),n=!0===i||"true"===i||"1"===i?"<strong>"+e("Yes")+"</strong>":e("No");return this.$el.empty().html(n),this}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(47),i(0),i(2),i(291)],void 0===(r=function(t,e,i,n){return t.extend({className:"AknGrid-bodyCell AknGrid-bodyCell--credentials",template:e.template(n),render:function(){var t=this.formatter.fromRaw(this.model.get(this.column.get("name"))),n=e.object(["public_id","secret"],t.split("|"));return null===n||""===n?this:(this.$el.empty().html(this.template({clientIdLabel:i("pim_datagrid.cells.credientials.client_id"),secretLabel:i("pim_datagrid.cells.credientials.secret"),publicId:n.public_id,secret:n.secret})),this)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(47),i(2)],void 0===(r=function(t,e){return t.extend({render:function(){if("product_model"!==this.model.get("document_type"))return this.$el.empty().html(e("pim_common.not_available")),this;var t=this.formatter.fromRaw(this.model.get(this.column.get("name"))),i="-";if(null!==t&&""!==t){var n=t.complete/t.total,r="";i='<span class="AknBadge AknBadge--medium AknBadge--'+(r+=1==n?"success":0==n||0===t.total?"important":"warning")+'">'+t.complete+" / "+t.total+"</span>"}return this.$el.empty().html(i),this}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(47)],void 0===(r=function(t){return t.extend({className:"AknGrid-bodyCell AknGrid-bodyCell--highlight"})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";(function(n){var r,o;r=[i(138)],void 0===(o=function(t){return t.extend({processCallback:null,initialize:function(e){if(!n.has(e,"processCallback"))throw new Error("Process callback is not specified");this.processCallback=e.processCallback,t.prototype.initialize.apply(this,arguments)},_processValue:function(t,e){this.processCallback(t,e,this)}})}.apply(e,r))||(t.exports=o)}).call(e,i(0))},function(t,e,i){"use strict";var n,r;n=[i(1),i(9),i(0),i(300),i(301),i(302)],void 0===(r=function(t,e,i,n,r){var o=n.extend({collection:{},template:i.template(r),windowSize:3,fastForwardHandleConfig:{gap:{label:"..."}},maxRescoreWindow:1e4,initialize:function(t){if(this.appendToGrid=t.appendToGrid,this.gridElement=t.gridElement,this.gridName=t.config.gridName,null===this.gridName||void 0===this.gridName)throw Error("You must set the gridName in the form_extensions config for the oro/datagrid/pagination-input");this.appendToGrid&&e.on("datagrid_collection_set_after",this.setupPagination.bind(this)),e.once("grid_load:start",this.setupPagination.bind(this)),e.on("grid_load:complete",this.setupPagination.bind(this))},setupPagination(t){if(t.inputName===this.gridName)return this.collection=t,this.renderPagination(),n.prototype.initialize.call(this,{collection:this.collection,enabled:!0})},makeHandles:function(){var t=[],e=this.collection.state,n=0===e.firstPage?e.currentPage:e.currentPage-1,r=this.getPages();if("infinite"!==this.collection.mode){var o=i.first(r);r.forEach(e=>{1<e-o&&t.push({label:this.fastForwardHandleConfig.gap.label,title:this.fastForwardHandleConfig.gap.label,className:"AknActionButton--unclickable"}),o=e,t.push({label:e+1,title:"No. "+(e+1),className:n===e?"active AknActionButton--highlight":void 0})}),e.totalRecords>this.maxRescoreWindow&&t.push({label:this.fastForwardHandleConfig.gap.label,title:this.fastForwardHandleConfig.gap.label,className:"AknActionButton--unclickable"})}return t},getPages(){var t=Math.min,e=this.collection.state,n=e.lastPage?e.lastPage:e.firstPage;n=0===e.firstPage?n:n-1;var r=(0===e.firstPage?e.currentPage:e.currentPage-1)-(this.windowSize-1)/2,o=t((r=Math.max(t(r,n-this.windowSize+1),0))+this.windowSize,n),a=[];a.push(e.firstPage-1);for(var s=r;s<o;s++)a.push(s);return e.totalRecords<this.maxRescoreWindow&&a.push(n),i.uniq(a)},onChangePage:function(e){return t(e.target).text().trim()!==this.fastForwardHandleConfig.gap.label&&n.prototype.onChangePage.apply(this,arguments)},renderPagination:function(){return 1>=this.getPages().length?this.$el.empty():(n.prototype.renderPagination.apply(this,arguments),this.options.appendToGrid&&this.gridElement.prepend(this.$el)),this}});return o.init=function(e,i){return new o({appendToGrid:!0,gridElement:t(e).find(".grid-container"),config:{gridName:i}})},o}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(29),i(140),i(303),i(304)],void 0===(r=function(t,e,i,n,r,o){return n.extend({tagName:"div",versionTemplate:e.template(r),changesTemplate:e.template(o),render:function(){this.$el.empty();var e=t(this.versionTemplate({version:this.model.get("version"),id:this.model.get("id")})),i=t(this.changesTemplate({version:this.model.get("version"),id:this.model.get("id")}));e.on("click",function(){i.toggle(),e.toggleClass("AknGrid-bodyRow--expanded"),e.find(".AknGrid-expand").toggleClass("AknGrid-expand--expanded")});for(var n=0;n<this.cells.length;n++){var r=this.cells[n];("changes"===r.column.get("name")?i:e).append(r.render().el),r.column.get("renderable")||"changes"===r.column.get("name")||r.$el.hide()}return this.$el.append(e),this.$el.append(i),i.hide(),this.delegateEvents(),this}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(289),i(308)],void 0===(r=function(t,e,i){return e.extend({productAndProductModelTemplate:t.template(i),getTemplate(t){return"product_model"===this.model.get("document_type")?this.productAndProductModelTemplate(t):e.prototype.getTemplate.apply(this,arguments)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(47)],void 0===(r=function(t){return t.extend({className(){var t="AknGrid-bodyCell AknGrid-bodyCell--highlight";return"product_model"===this.model.get("document_type")&&(t+=" AknGrid-bodyCell--highlightAlternative"),t}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(99),i(186)],void 0===(r=function(t,e,i,n,r){return n.extend({inputValueSelector:'input[name="value"]',events:{'keydown input[name="value"]':"runTimeout",'keypress input[name="value"]':"runTimeout"},emptyValue:{value:""},timer:null,isSearch:!0,timeoutDelay:500,className:"AknFilterBox-searchContainer filter-item search-filter",template:e.template(r),render:function(){this.$el.html(this.template({label:i("pim_datagrid.search",{label:this.label})}))},_writeDOMValue:function(t){return this._setInputValue(this.inputValueSelector,t.value),this},_readDOMValue:function(){return{value:this._getInputValue(this.inputValueSelector)}},runTimeout:function(t){null!==this.timer&&clearTimeout(this.timer),13===t.keyCode?this.doSearch():this.timer=setTimeout(this.doSearch.bind(this),this.timeoutDelay)},doSearch:function(){this.setValue(this._readDOMValue())}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(99),i(186)],void 0===(r=function(t,e,i,n,r){return n.extend({inputValueSelector:'input[name="value"]',events:{'keydown input[name="value"]':"runTimeout",'keypress input[name="value"]':"runTimeout"},emptyValue:{value:""},timer:null,isSearch:!0,timeoutDelay:500,className:"AknFilterBox-searchContainer filter-item search-filter",template:e.template(r),render:function(){this.$el.html(this.template({label:i("pim_datagrid.search",{label:this.label})}))},_writeDOMValue:function(t){return this._setInputValue(this.inputValueSelector,t.value),this},_readDOMValue:function(){return{value:this._getInputValue(this.inputValueSelector)}},runTimeout:function(t){null!==this.timer&&clearTimeout(this.timer),13===t.keyCode?this.doSearch():this.timer=setTimeout(this.doSearch.bind(this),this.timeoutDelay)},doSearch:function(){this.setValue(this._readDOMValue())},moveFilter:function(t,e){e&&e.$(".search-zone").empty().append(this.$el.get(0))}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(142),i(72),i(310)],void 0===(r=function(t,e,i,n,r,o){return n.extend({popupCriteriaTemplate:e.template(o),currencies:[],criteriaValueSelectors:{currency:'input[name="currency_currency"]',type:'input[name="currency_type"]',value:'input[name="value"]'},events:{"keyup input":"_onReadCriteriaInputKey",'keydown [type="text"]':"_preventEnterProcessing","click .filter-update":"_onClickUpdateCriteria","click .filter-criteria-selector":"_onClickCriteriaSelector","click .operator .AknDropdown-menuLink":"_onSelectOperator","click .currency .AknDropdown-menuLink":"_onSelectCurrency","click .disable-filter":"_onClickDisableFilter"},initialize:function(){n.prototype.initialize.apply(this,arguments),this.emptyValue={currency:e.first(e.keys(this.currencies)),type:e.findWhere(this.choices,{label:"="}).data,value:""},this.on("disable",this._onDisable,this)},_onDisable:function(){this.$(".choicefilter button.dropdown-toggle").first().html(i("Action")+'<span class="AknActionButton-caret AknCaret"></span>'),this.$(".choicefilter button.dropdown-toggle").last().html(i("Currency")+'<span class="AknActionButton-caret AknCaret"></span>')},_renderCriteria:function(e){return t(e).empty().append(this.popupCriteriaTemplate({label:this.label,operatorChoices:this._getOperatorChoices(),selectedOperator:this._getDisplayValue().type,emptyChoice:this.emptyChoice,selectedOperatorLabel:this._getOperatorChoices()[this._getDisplayValue().type],operatorLabel:i("pim_common.operator"),updateLabel:i("pim_common.update"),currencies:this.currencies,currencyLabel:i("pim_datagrid.filters.price_filter.label"),selectedCurrency:this._getDisplayValue().currency,value:this._getDisplayValue().value})),this},_writeDOMValue:function(t){return n.prototype._writeDOMValue.apply(this,arguments),"object"==typeof t.value&&this._setInputValue(this.criteriaValueSelectors.value,""),this._setInputValue(this.criteriaValueSelectors.currency,t.currency),this._highlightDropdown(t.currency,".currency"),this},_readDOMValue:function(){var t=n.prototype._readDOMValue.apply(this,arguments);return t.currency=this._getInputValue(this.criteriaValueSelectors.currency),t},_getCriteriaHint:function(){var t=this._getDisplayValue();return e.contains(["empty","not empty"],t.type)&&t.currency?this._getChoiceOption(t.type).label+": "+t.currency:t.value?this._getChoiceOption(t.type).label+" "+t.value+" "+t.currency:this.placeholder},_triggerUpdate:function(t,e){r.isEqualsLoosely(t,e)||this.trigger("update")},_onValueUpdated:function(t,i){this._highlightDropdown(t.currency,".currency"),e.contains(["empty","not empty"],t.type)?this._disableInput():this._enableInput(),this._triggerUpdate(t,i),this._updateCriteriaHint()},setValue:function(t){if(t=this._formatRawValue(t),this._isNewValueUpdated(t)){var e=this.value;this.value=r.deepClone(t),this._updateDOMValue(),this._onValueUpdated(this.value,e)}return this},_onClickChoiceValue:function(i){n.prototype._onClickChoiceValue.apply(this,arguments),t(i.currentTarget).attr("data-input-toggle")&&(e.contains(["empty","not empty"],t(i.currentTarget).attr("data-value"))?this._disableInput():this._enableInput())},reset:function(){return this.setValue(this.emptyValue),this.trigger("update"),this},_onSelectCurrency:function(e){var i=t(e.currentTarget).find(".currency_choice").attr("data-value");t(this.criteriaValueSelectors.currency).val(i),this._highlightDropdown(i,".currency"),e.preventDefault()},_disableInput(){this.$el.find(this.criteriaValueSelectors.value).hide(),this.$el.find(".AknFilterChoice-currency").addClass("AknFilterChoice-currency--centered")},_enableInput(){this.$el.find(this.criteriaValueSelectors.value).show(),this.$el.find(".AknFilterChoice-currency").removeClass("AknFilterChoice-currency--centered")}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(142),i(72),i(311)],void 0===(r=function(t,e,i,n,r,o){return n.extend({events:{"keyup input":"_onReadCriteriaInputKey",'keydown [type="text"]':"_preventEnterProcessing","click .filter-update":"_onClickUpdateCriteria","click .filter-criteria-selector":"_onClickCriteriaSelector","click .operator .AknDropdown-menuLink":"_onSelectOperator","click .unit .AknDropdown-menuLink":"_onSelectUnit","click .disable-filter":"_onClickDisableFilter"},units:[],initialize:function(){n.prototype.initialize.apply(this,arguments),this.emptyValue={unit:e.first(e.keys(this.units)),type:e.findWhere(this.choices,{label:"="}).data,value:""},this.on("disable",this._onDisable,this)},_onDisable:function(){this.$(".choicefilter button.dropdown-toggle").first().html(e.__("Action")+'<span class="caret"></span>'),this.$(".choicefilter button.dropdown-toggle").last().html(e.__("Unit")+'<span class="caret"></span>')},_renderCriteria:function(e){return t(e).append(this.popupCriteriaTemplate({__:i,label:this.label,operatorChoices:this._getOperatorChoices(),selectedOperator:this._getDisplayValue().type,emptyChoice:this.emptyChoice,selectedOperatorLabel:this._getOperatorChoices()[this._getDisplayValue().type],operatorLabel:i("pim_common.operator"),updateLabel:i("pim_common.update"),units:this.units,unitLabel:i("pim.grid.metric_filter.label"),selectedUnit:this._getDisplayValue().unit,value:this._getDisplayValue().value})),this},_writeDOMValue:function(t){return n.prototype._writeDOMValue.apply(this,arguments),this._setInputValue(this.criteriaValueSelectors.unit,t.unit),this._highlightDropdown(t.unit,".unit"),this},_readDOMValue:function(){var t=n.prototype._readDOMValue.apply(this,arguments);return t.unit=this._getInputValue(this.criteriaValueSelectors.unit),t},_getCriteriaHint:function(){var t=0<arguments.length?this._getDisplayValue(arguments[0]):this._getDisplayValue();return e.contains(["empty","not empty"],t.type)?this._getChoiceOption(t.type).label:t.value?this._getChoiceOption(t.type).label+" "+t.value+" "+t.unit:this.placeholder},popupCriteriaTemplate:e.template(o),criteriaValueSelectors:{unit:'input[name="metric_unit"]',type:'input[name="metric_type"]',value:'input[name="value"]'},emptyValue:{unit:"",type:"",value:""},_triggerUpdate:function(t,e){r.isEqualsLoosely(t,e)||this.trigger("update")},_onValueUpdated:function(t,i){this._highlightDropdown(t.unit,".unit"),e.contains(["empty","not empty"],t.type)?(this.$(this.criteriaValueSelectors.value).hide(),this.$(".AknFilterChoice-unit").hide()):(this.$(this.criteriaValueSelectors.value).show(),this.$(".AknFilterChoice-unit").show()),this._triggerUpdate(t,i),this._updateCriteriaHint()},setValue:function(t){if(t=this._formatRawValue(t),this._isNewValueUpdated(t)){var e=this.value;this.value=r.deepClone(t),this._updateDOMValue(),this._onValueUpdated(this.value,e)}return this},_onClickChoiceValue:function(i){n.prototype._onClickChoiceValue.apply(this,arguments);var r=t(i.currentTarget).closest(".filter-item");e.contains(["empty","not empty"],t(i.currentTarget).attr("data-value"))?(r.find(this.criteriaValueSelectors.value).hide(),r.find(".AknFilterChoice-unit").hide()):(r.find(this.criteriaValueSelectors.value).show(),r.find(".AknFilterChoice-unit").show())},reset:function(){return this.setValue(this.emptyValue),this.trigger("update"),this},_onSelectUnit:function(e){var i=t(e.currentTarget).find(".unit_choice").attr("data-value");t(this.criteriaValueSelectors.unit).val(i),this._highlightDropdown(i.unit,".unit"),e.preventDefault()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(9),i(113),i(6),i(46),i(312)],void 0===(r=function(t,e,i,n,r,o,a){return n.extend({template:e.template(a),className:"AknDropdown AknFilterBox-filterContainer filter-select filter-criteria-selector scope-switcher",events:{"keydown select":"_preventEnterProcessing","click .AknDropdown-menuLink":"_onSelectChange"},contextSearch:!1,catalogScope:null,initialize:function(){n.prototype.initialize.apply(this,arguments),this.catalogScope=r.get("catalogScope"),i.once("datagrid_filters:rendered",this.resetValue.bind(this)),i.once("datagrid_filters:rendered",this.moveFilter.bind(this)),i.bind("grid_load:complete",function(e){t("#grid-"+e.inputName).find("div.toolbar").show()})},moveFilter:function(e){this.$el.prependTo(t('[data-drop-zone="column-context-switcher"]'));var i=t("#grid-"+e.inputName);0===i.length&&(i=t('[data-type="datagrid"]:first'));var n=i.find("#add-filter-select");n.find('option[value="scope"]').remove(),n.multiselect("refresh")},resetValue:function(){var t=o.get("product-grid","scope");t||(t=this.catalogScope,this.setValue({value:t})),r.set("catalogScope",t),this.selectWidget.multiselect("refresh"),this.render()},render:function(){n.prototype.render.apply(this,arguments),this.highlightScope(this.catalogScope)},disable:function(){return this},hide:function(){return this},_onValueUpdated:function(t){if(""!==t.value)return r.set("catalogScope",t.value),this.catalogScope=t.value,n.prototype._onValueUpdated.apply(this,arguments)},_onSelectChange:function(e){var i=t(e.target).closest(".AknDropdown-menuLink").attr("data-value");this.highlightScope(i),n.prototype._onSelectChange.apply(this,arguments),o.set("product-grid","scope",i)},_readDOMValue(){return{value:this.$el.find(".AknDropdown-menuLink--active").attr("data-value")}},highlightScope(t){var i=e.findWhere(this.options.choices,{value:t});void 0!==i&&(this.$el.find(".value").html(i.label),this.$el.find(".AknDropdown-menuLink").removeClass("AknDropdown-menuLink--active"),this.$el.find('.AknDropdown-menuLink[data-value="'+t+'"]').addClass("AknDropdown-menuLink--active"))}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(316),i(7)],void 0===(r=function(t,e,i,n){return i.extend({choicesFetched:!1,choiceUrl:null,choiceUrlParams:{},initialize:function(t){t=t||{},e.has(t,"choiceUrl")&&(this.choiceUrl=t.choiceUrl),e.has(t,"choiceUrlParams")&&(this.choiceUrlParams=t.choiceUrlParams),i.prototype.initialize.apply(this,arguments)},render:function(){var t=this.choices.slice(0);return this.$el.empty(),this.populateDefault&&t.unshift({value:"",label:this.placeholder}),this.$el.append(this.template({label:this.label,showLabel:this.showLabel,options:t,placeholder:this.placeholder,nullLink:this.nullLink,canDisable:this.canDisable,emptyValue:this.emptyValue})),this.value.value&&e.each(this.value.value,function(t){this.$(this.inputSelector).find('option[value="'+t+'"]').attr("selected","selected")},this),this._initializeSelectWidget(),this},show:function(){if(this.choicesFetched||this.choices.length||!this.choiceUrl)i.prototype.show.apply(this,arguments);else{var r=n.generate(this.choiceUrl,this.choiceUrlParams);t.get(r,e.bind(function(t){this._updateChoices(t.results),this.render(),i.prototype.show.apply(this,arguments)},this))}},_updateChoices:function(t){var i=[];e.each(t,function(t){i.push({value:t.id,label:t.text})}),i.push({value:"empty",label:e.__("pim_datagrid.filters.common.empty")}),i.push({value:"not empty",label:e.__("pim_datagrid.filters.common.not_empty")}),this.choices=i,this.choicesFetched=!0}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(112),i(7),i(28),i(6),i(17)],void 0===(r=function(t,e,i,n,r,o,a){return n.extend({operatorChoices:[],choiceUrl:null,choiceUrlParams:{},emptyChoice:!1,resultCache:{},resultsPerPage:20,choices:[],events:{"click .AknDropdown-menuLink":"_onSelectOperator"},initialize:function(t){e.extend(this.events,n.prototype.events),t=t||{},e.has(t,"choiceUrl")&&(this.choiceUrl=t.choiceUrl),e.has(t,"choiceUrlParams")&&(this.choiceUrlParams=t.choiceUrlParams),e.has(t,"emptyChoice")&&(this.emptyChoice=t.emptyChoice),e.isUndefined(this.emptyValue)&&(this.emptyValue={type:"in",value:""}),this.operatorChoices={in:i("pim_datagrid.filters.common.in_list"),empty:i("pim_datagrid.filters.common.empty"),"not empty":i("pim_datagrid.filters.common.not_empty")},this.resultCache={},n.prototype.initialize.apply(this,arguments)},_onSelectOperator:function(i){var n=t(i.currentTarget).find(".operator_choice").attr("data-value");this._highlightDropdown(n,".operator"),e.contains(["empty","not empty"],n)?this._disableInput():this._enableInput(),i.preventDefault()},_getSelect2Config:function(){var t={multiple:!0,width:"290px",minimumInputLength:0};return this.choiceUrl?t.ajax={url:r.generate(this.choiceUrl,this.choiceUrlParams),cache:!0,data:e.bind(function(t,e){return{search:t,options:{limit:this.resultsPerPage,page:e,locale:a.get("catalogLocale")}}},this),results:e.bind(function(t){return this._cacheResults(t.results),t.more=this.resultsPerPage===t.results.length,t},this)}:t.data=e.map(this.choices,function(t){return{id:t.value,text:t.label}}),t},_writeDOMValue:function(t){return e.contains(["empty","not empty"],t.type)?this._setInputValue(this.criteriaValueSelectors.value,[]):this._setInputValue(this.criteriaValueSelectors.value,t.value),this._highlightDropdown(t.type,".operator"),this},_readDOMValue:function(){var t=this.emptyChoice?this.$(".active .operator_choice").data("value"):"in";return{value:e.contains(["empty","not empty"],t)?{}:this._getInputValue(this.criteriaValueSelectors.value),type:t}},_renderCriteria:function(){n.prototype._renderCriteria.apply(this,arguments),this.$(this.criteriaValueSelectors.value).addClass("AknTextField--select2"),o.init(this.$(this.criteriaValueSelectors.value),this._getSelect2Config()),this._updateCriteriaHint()},_onClickCriteriaSelector:function(e){e.stopPropagation(),t("body").trigger("click"),this.popupCriteriaShowed?this._hideCriteria():(this._showCriteria(),o.init(this.$(this.criteriaValueSelectors.value),this._getSelect2Config()).select2("data",this._getCachedResults(this.getValue().value)).select2("open"))},_onClickCloseCriteria:function(){n.prototype._onClickCloseCriteria.apply(this,arguments),this.$(this.criteriaValueSelectors.value).select2("close")},_onClickOutsideCriteria:function(e){var i=this.$(this.criteriaSelector);e.target==t("body").get(0)||e.target===i.get(0)||i.has(e.target).length||(this._hideCriteria(),this.setValue(this._formatRawValue(this._readDOMValue())),e.stopPropagation())},_onReadCriteriaInputKey:function(t){13==t.which&&(this.$(this.criteriaValueSelectors.value).select2("close"),this._hideCriteria(),this.setValue(this._formatRawValue(this._readDOMValue())))},_cacheResults:function(t){e.each(t,function(t){this.resultCache[t.id]=t.text},this)},_getCachedResults:function(i){var n=[],o=[];return e.each(i,function(t){if(e.isUndefined(this.resultCache[t]))if(e.isEmpty(this.choices))o.push(t);else{var i=e.findWhere(this.choices,{value:t});e.isUndefined(i)?o.push(t):n.push({id:i.value,text:i.label})}else n.push({id:t,text:this.resultCache[t]})},this),o.length&&t.ajax({url:r.generate(this.choiceUrl,this.choiceUrlParams)+"&"+t.param({options:{ids:o}}),success:e.bind(function(t){this._cacheResults(t.results),n=e.union(n,t.results)},this),async:!1}),n},_getInputValue:function(t){return this.$(t).select2("val")},_setInputValue:function(t,e){return this.$(t).select2("data",this._getCachedResults(e)),this},_updateDOMValue:function(){return this._writeDOMValue(this.getValue())},_formatDisplayValue:function(t){return e.isEmpty(t.value)?t:{value:e.pluck(this._getCachedResults(t.value),"text").join(", ")}},_getCriteriaHint:function(){var t=this.$(".active .operator_choice").data("value"),i=this.getValue().type;if(e.contains(["empty","not empty"],t))return this.operatorChoices[t];if(e.contains(["empty","not empty"],i))return this.operatorChoices[i];var n=0<arguments.length?this._getDisplayValue(arguments[0]):this._getDisplayValue();return e.isEmpty(n.value)?this.placeholder:'"'+n.value+'"'},_enableInput:function(){this.$(this.criteriaValueSelectors.value).select2(this._getSelect2Config()),n.prototype._enableInput.apply(this,arguments)},_disableInput:function(){this.$(this.criteriaValueSelectors.value).val("").select2("destroy"),n.prototype._disableInput.apply(this,arguments)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(7),i(112),i(96),i(6),i(28),i(17)],void 0===(r=function(t,e,i,n,r,o,a,s){return r.extend({operatorChoices:[],choiceUrl:null,choiceUrlParams:{},emptyChoice:!1,resultsPerPage:20,events:{"click .AknDropdown-menuLink":"_onSelectOperator"},criteriaValueSelectors:{value:'input[name="value"]',operator:".active .operator_choice"},initialize:function(t){e.extend(this.events,r.prototype.events),e.isUndefined(t)||e.extend(this,e.pick(t,"choiceUrl","choiceUrlParams","emptyChoice")),e.isUndefined(this.emptyValue)&&(this.emptyValue={type:"in",value:""}),this.operatorChoices={in:i("pim_datagrid.filters.common.in_list"),empty:i("pim_datagrid.filters.common.empty"),"not empty":i("pim_datagrid.filters.common.not_empty")},r.prototype.initialize.apply(this,arguments)},_onSelectOperator:function(i){var n=t(i.currentTarget).find(".operator_choice").attr("data-value");this._highlightDropdown(n,".operator"),e.contains(["empty","not empty"],n)?this._disableInput():this._enableInput(),i.preventDefault()},_getSelect2Config:function(){var t={multiple:!0,width:"290px",minimumInputLength:0};return null!==this.choiceUrl&&(t.ajax={url:n.generate(this.choiceUrl,this.choiceUrlParams),cache:!0,data:function(t,e){return{search:t,options:{limit:this.resultsPerPage,page:e,locale:a.get("catalogLocale")}}}.bind(this),results:function(t){return t.results=o.format(t),t.more=this.resultsPerPage===t.results.length,t}.bind(this)}),t},_writeDOMValue:function(t){return e.contains(["empty","not empty"],t.type)?this._setInputValue(this.criteriaValueSelectors.value,[]):this._setInputValue(this.criteriaValueSelectors.value,t.value),this.$(this.criteriaValueSelectors.operator).data("value",t.type),this._highlightDropdown(t.type,".operator"),this},_readDOMValue:function(){var t=this.emptyChoice?this.$(this.criteriaValueSelectors.operator).data("value"):"in";return{value:e.contains(["empty","not empty"],t)?{}:this._getInputValue(this.criteriaValueSelectors.value),type:t}},_renderCriteria:function(){r.prototype._renderCriteria.apply(this,arguments),this.$(this.criteriaValueSelectors.value).addClass("AknTextField--select2"),s.init(this.$(this.criteriaValueSelectors.value),this._getSelect2Config()),this._updateCriteriaHint()},_onClickCriteriaSelector:function(e){e.stopPropagation(),t("body").trigger("click"),this.popupCriteriaShowed?this._hideCriteria():(this._showCriteria(),this.$(this.criteriaValueSelectors.value).select2("open"))},_onReadCriteriaInputKey:function(t){13==t.which&&(this.$(this.criteriaValueSelectors.value).select2("close"),this._hideCriteria(),this.setValue(this._formatRawValue(this._readDOMValue())))},_getResults:function(e){var i=[];return t.ajax({url:n.generate(this.choiceUrl,t.extend({},this.choiceUrlParams,{options:{identifiers:e}})),success:function(t){i=o.format(t)},async:!1}),i},_getInputValue:function(t){return this.$(t).select2("val")},_setInputValue:function(t,e){return this.$(t).select2("data",this._getResults(e)),this},_updateDOMValue:function(){var t=this.getValue(),i=this.$(this.criteriaValueSelectors.value).select2("data");return 0===e.difference(t.value,e.pluck(i,"id")).length?void 0:this._writeDOMValue(t)},_formatDisplayValue:function(t){return e.isEmpty(t.value)?t:{value:e.pluck(this.$(this.criteriaValueSelectors.value).select2("data"),"text").join(", ")}},_getCriteriaHint:function(){var t=this.$(".active .operator_choice").data("value"),i=this.getValue().type;if(e.contains(["empty","not empty"],t))return this.operatorChoices[t];if(e.contains(["empty","not empty"],i))return this.operatorChoices[i];var n=0<arguments.length?this._getDisplayValue(arguments[0]):this._getDisplayValue();return e.isEmpty(n.value)?this.placeholder:'"'+n.value+'"'},_enableInput:function(){this.$(this.criteriaValueSelectors.value).select2(this._getSelect2Config()),r.prototype._enableInput.apply(this,arguments)},_disableInput:function(){this.$(this.criteriaValueSelectors.value).val("").select2("destroy"),r.prototype._disableInput.apply(this,arguments)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(3),i(9),i(141)],void 0===(r=function(t,e,i,n){return e.extend({options:{},filters:[],isLoaded:!1,className:"AknFilterBox-list filter-box",config:{filterModuleName:"oro/datafilter/{{type}}-filter",filterTypes:{string:"choice",choice:"select",selectrow:"select-row",multichoice:"multiselect",boolean:"select"}},initialize(t){this.options=t.config,e.prototype.initialize.apply(this,arguments)},configure:function(){this.listenTo(i,"datagrid_collection_set_after",this.loadFilterModules.bind(this)),e.prototype.configure.apply(this,arguments)},loadFilterModules(e,r){this.isLoaded||(this.isLoaded=!0,this.collection=e,this.gridElement=r,this.metadata=this.gridElement.data("metadata")||{},this.filters=this.metadata.filters,this.modules=this.collectModules(),n.loadModules(this.modules,()=>{var e=this.combineOptions.call(this);e.collection=this.collection,e.displayManageFilters=t.result(this.metadata.options,"manageFilters",!0),this.filters=e.filters||[],this.render(),i.trigger("datagrid_filters:loaded",e),i.trigger("datagrid_filters:rendered",this.collection,this.filters)}))},collectModules(){var e={};return t.each(this.filters,t=>{var i=t.type;e[i]=this.config.filterModuleName.replace("{{type}}",this.config.filterTypes[i]||i)}),e},combineOptions(){var e={};return t.each(this.metadata.filters,i=>{t.has(i,"name")&&t.has(i,"type")&&("selectrow"===i.type&&(i.collection=this.collection),e[i.name]=new(this.modules[i.type].extend(i))(i))}),{filters:e}},render(){t.each(this.filters,function(t){t.enabled||t.hide(),t.enabled&&t.render(),0<t.$el.length&&(t.isSearch&&!0===this.options.displayedAsColumn?this.getRoot().$(".search-zone").empty().append(t.$el.get(0)):this.$el.append(t.$el.get(0)))},this),e.prototype.render.apply(this,arguments)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(3),i(9),i(189)],void 0===(r=function(t,e,i,n){return e.extend({displayAsPanel:!1,isLoaded:!1,initialize(t){this.displayAsPanel=void 0!==t.config.displayAsPanel&&t.config.displayAsPanel,this.listenTo(i,"datagrid_filters:loaded",this.showFilterManager.bind(this)),e.prototype.initialize.apply(this,arguments)},showFilterManager(t){if(t.displayAsPanel=this.displayAsPanel,!this.isLoaded){this.isLoaded=!0;var e=new n(t);this.$el.append(e.render().$el),i.trigger("datagrid_filters:build.post",e)}}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(99)],void 0===(r=function(t,e,i,n){return n.extend({popupCriteriaTemplate:e.template("<div><%= popupHint %></div>"),popupCriteriaShowed:!1,criteriaHintSelector:".filter-criteria-hint",criteriaSelector:".filter-criteria",popupHint:"Choose a value first",events:{"click .filter-criteria-selector":"_onClickCriteriaSelector","click .filter-criteria .filter-criteria-hide":"_onClickCloseCriteria","click .disable-filter":"_onClickDisableFilter"},initialize:function(t){t=t||{},e.has(t,"popupHint")&&(this.popupHint=t.popupHint),this.label="None",n.prototype.initialize.apply(this,arguments)},ensurePopupCriteriaClosed:function(){this.popupCriteriaShowed&&this._hideCriteria()},_onClickCriteriaSelector:function(e){e.stopPropagation(),t("body").trigger("click"),this.popupCriteriaShowed?this._hideCriteria():this._showCriteria()},_onClickCloseCriteria:function(){this._hideCriteria(),this._updateDOMValue()},_onClickDisableFilter:function(t){t.preventDefault(),this.disable()},_onClickOutsideCriteria:function(t){var e=this.$(this.criteriaSelector);e.get(0)===t.target||e.has(t.target).length||(this._hideCriteria(),t.stopPropagation())},render:function(){return this.$el.empty(),this.$el.append(this.template({label:this.label,showLabel:this.showLabel,criteriaHint:this._getCriteriaHint(),nullLink:this.nullLink,canDisable:this.canDisable})),this._renderCriteria(this.$(this.criteriaSelector)),this._clickOutsideCriteriaCallback=e.bind(function(t){this.popupCriteriaShowed&&this._onClickOutsideCriteria(t)},this),t("body").on("click",this._clickOutsideCriteriaCallback),this},_renderCriteria:function(e){return t(e).append(this.popupCriteriaTemplate({popupHint:this._getPopupHint()})),this},remove:function(){return t("body").off("click",this._clickOutsideCriteriaCallback),n.prototype.remove.call(this),this},_showCriteria:function(){this.$(this.criteriaSelector).show(),this._setButtonPressed(this.$(this.criteriaSelector),!0),setTimeout(e.bind(function(){this.popupCriteriaShowed=!0},this),100)},_hideCriteria:function(){this.$(this.criteriaSelector).hide(),this._setButtonPressed(this.$(this.criteriaSelector),!1),setTimeout(e.bind(function(){this.popupCriteriaShowed=!1},this),100)},_writeDOMValue:function(){return this},_readDOMValue:function(){return{}},_getPopupHint:function(){return this.popupHint,this.popupHint},_getCriteriaHint:function(){return this.criteriaHint?this.criteriaHint:this.placeholder}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(324),i(64)],void 0===(r=function(t,e,i,n){return i.extend({inputClass:"AknTextField",datetimepickerOptions:{format:n.get("time").format,defaultFormat:n.get("time").defaultFormat,language:n.get("language"),pickTime:!0,pickSeconds:!1,pick12HourFormat:n.get("12_hour_format")}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(8),i(113)],void 0===(r=function(t,e,i){return i.extend({getValue:function(){return this._formatRawValue(t.omit(this.value,"in","out"))},_formatRawValue:function(e){if((t.has(e,"in")||t.has(e,"out"))&&this._initialSelection(e),""!==e.value){var i=this._getSelection();t.isArray(i.selected)&&(e[i.inset===!!parseInt(e.value,10)?"in":"out"]=i.selected.join(","))}return e},_formatDisplayValue:function(e){return t.omit(e,"in","out")},_getSelection:function(){var e={};return this.collection.trigger("backgrid:getSelected",e),t.defaults(e,{inset:!0,selected:[]})},_initialSelection:function(i){var n=!0;!!parseInt(i.value,10)!==t.has(i,"in")&&(this.collection.trigger("backgrid:selectAll"),n=!1),t.each(t.values(t.pick(i,"in","out"))[0].split(",")||[],t.partial(function(t,i){var r=t.get(i);r instanceof e.Model&&r.trigger("backgrid:select",r,n)},this.collection))}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(111)],void 0===(r=function(t,e,i){return i.extend({initialize:function(){this.choices=[{label:e("pim_datagrid.filters.common.in_list"),value:"in"},{label:e("pim_datagrid.filters.common.empty"),value:"empty"}],this.emptyValue={type:"in",value:""},i.prototype.initialize.apply(this,arguments)},_getOperatorChoices:()=>({in:e("pim_datagrid.filters.common.in_list"),empty:e("pim_datagrid.filters.common.empty")}),_showCriteria(){i.prototype._showCriteria.apply(this,arguments),"in"===this._readDOMValue().type?this._enableListSelection():this._disableListSelection(),this._focusCriteria()},_focusCriteria:function(){this.$(this.criteriaSelector+" input.select2-input").focus().select()},_readDOMValue:function(){var t=this.emptyChoice?this.$(".active .operator_choice").data("value"):"in";return{value:["empty","not empty"].includes(t)?"":this._getInputValue(this.criteriaValueSelectors.value),type:t}}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(111)],void 0===(r=function(t,e,i){return i.extend({initialize:function(){this.choices=[{label:e("pim_datagrid.filters.common.contains"),value:"1"},{label:e("pim_datagrid.filters.common.does_not_contain"),value:"2"},{label:e("pim_datagrid.filters.common.equal"),value:"3"},{label:e("pim_datagrid.filters.common.start_with"),value:"4"},{label:e("pim_datagrid.filters.common.in_list"),value:"in"}],this.emptyValue={type:"in",value:""},i.prototype.initialize.apply(this,arguments)},_getOperatorChoices:()=>({1:e("pim_datagrid.filters.common.contains"),2:e("pim_datagrid.filters.common.does_not_contain"),3:e("pim_datagrid.filters.common.equal"),4:e("pim_datagrid.filters.common.start_with"),in:e("pim_datagrid.filters.common.in_list")})})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n;void 0===(n=function(){var t=function(){};return t.prototype={fromRaw:function(t){return t},toRaw:function(t){return t}},t}.call(e,i,e,t))||(t.exports=n)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(141),i(9),i(189),i(3)],void 0===(r=function(t,e,i,n,r,o){var a=o.extend({initialized:!1,config:{filterModuleName:"oro/datafilter/{{type}}-filter",filterTypes:{identifier:"identifier",string:"choice",choice:"select",selectrow:"select-row",multichoice:"multiselect",boolean:"select"}},initialize(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.config=Object.assign(this.config,t.config||{}),n.once("datagrid_collection_set_after",this.initHandler.bind(this)),n.once("hash_navigation_request:start",function(){this.initialized||n.off("datagrid_collection_set_after",this.initHandler.bind(this))}),o.prototype.initialize.apply(this,arguments)},initHandler(t,e){this.collection=t,this.$el=e,this.initBuilder(),this.initialized=!0},initBuilder(){this.metadata=Object.assign({filters:{},options:{}},this.$el.data("metadata")),this.modules={},this.collectModules.call(this),i.loadModules(this.modules,this.build.bind(this))},collectModules(){var t=this.modules;e.each(this.metadata.filters,e=>{var i=e.type;t[i]=this.config.filterModuleName.replace("{{type}}",this.config.filterTypes[i]||i)})},build:function(){var t=this.combineOptions.call(this);t.collection=this.collection,t.renderFilterList=!0,t.displayManageFilters=e.result(this.metadata.options,"manageFilters",!0),t.filtersAsColumn=e.result(this.metadata.options,"filtersAsColumn",!1);var i=new r(t);this.$el.prepend(i.render().$el),n.trigger("datagrid_filters:rendered",this.collection),0===this.collection.length&&i.$el.hide(),n.trigger("datagrid_filters:build.post",i)},combineOptions(){var t={},i=this.modules,n=this.collection;return e.each(this.metadata.filters,function(r){e.has(r,"name")&&e.has(r,"type")&&("selectrow"===r.type&&(r.collection=n),t[r.name]=new(i[r.type].extend(r))(r))}),{filters:t}}});return a.init=(()=>new a),a}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(7),i(63)],void 0===(r=function(t,e,i){return i.extend({defaultColumns:function(i){var n=this.entityPromises.columns;return n||(n=t.getJSON(e.generate(this.options.urls.columns,{alias:i})),this.entityPromises.columns=n),n},defaultUserView:function(i){var n=this.entityPromises.view;return n||(n=t.getJSON(e.generate(this.options.urls.userDefaultView,{alias:i})),this.entityPromises.view=n),n}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(35),i(342)],void 0===(r=function(t,e){return t.extend({remover:e,getIdentifier:function(){return this.getFormData().meta.id}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(192),i(343)],void 0===(r=function(t,e,i,n){return i.extend({id:"completeness-widget",template:e.template(n),_processResponse:function(t){var i=[];return e.each(t,function(t,n){var r=Math.round;t.name=n,t.locales=t.locales||{};var o=t.total*e.keys(t.locales).length;t.percentage=0==o?0:r(t.complete/o*100),e.each(t.locales,function(e,i){var n=t.total,o=0===n?0:r(e/n*100);t.locales[i]={ratio:o}}),i.push(t)}),i}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(344),i(7),i(5)],void 0===(r=function(t,e,i,n){return e.extend({fieldType:"reference-simple-select",getTemplateContext:function(){return e.prototype.getTemplateContext.apply(this,arguments).then(function(t){return t.userCanAddOption=!1,t})},getChoiceUrl:function(){return n.getFetcher("reference-data-configuration").fetchAll().then(t.bind(function(t){return i.generate("pim_ui_ajaxentity_list",{class:t[this.attribute.reference_data_name].class,dataLocale:this.context.locale,collectionId:this.attribute.meta.id,options:{type:"code"}})},this))}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(348),i(7),i(5)],void 0===(r=function(t,e,i,n){return e.extend({fieldType:"reference-multi-select",getTemplateContext:function(){return e.prototype.getTemplateContext.apply(this,arguments).then(function(t){return t.userCanAddOption=!1,t})},getChoiceUrl:function(){return n.getFetcher("reference-data-configuration").fetchAll().then(t.bind(function(t){return i.generate("pim_ui_ajaxentity_list",{class:t[this.attribute.reference_data_name].class,dataLocale:this.context.locale,collectionId:this.attribute.meta.id,options:{type:"code"}})},this))}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(34),i(5),i(2),i(100)],void 0===(r=function(t,e,i,n,r,o){return i.extend({events:{"change select":function(t){this.errors=[],this.updateModel(this.getFieldValue(t.target)),this.getRoot().render()}},template:e.template(o),refData:[],configure:function(){return t.when(i.prototype.configure.apply(this,arguments),n.getFetcher("reference-data-configuration").fetchAll().then(function(t){this.refData=e.pick(t,function(t){return this.config.refDataType===t.type}.bind(this))}.bind(this)))},renderInput:function(t){return!e.has(this.getFormData(),this.fieldName)&&e.has(this.config,"defaultValue")&&this.updateModel(this.config.defaultValue),this.template(e.extend(t,{value:this.getFormData()[this.fieldName],choices:this.formatChoices(this.refData),multiple:!1,labels:{defaultLabel:r("pim_enrich.entity.attribute.property.reference_data_name.choose")}}))},postRender:function(){this.$("select.select2").select2({allowClear:!0})},formatChoices:function(t){return e.mapObject(t,function(t){return t.name})},getFieldValue:function(e){return t(e).val()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(11),i(192),i(350),i(351)],void 0===(r=function(t,e,i,n,r,o){return n.extend({labelClasses:{1:"AknBadge--success",3:"",4:"AknBadge--important",5:"AknBadge--important",6:"AknBadge--important",7:"AknBadge--important",8:"AknBadge--error"},viewAllTitle:"Show job tracker",options:{contentLoaded:!1},template:e.template(r),jobTrackerBtnTemplate:e.template(o),events:{"click .show-details-btn":"showOperationDetails"},showOperationDetails:function(e){e.preventDefault();var n=t(e.currentTarget).data("operation-type");switch(n){case"import":case"export":i.redirectToRoute("pim_importexport_"+n+"_execution_show",{id:t(e.currentTarget).data("id")});break;default:i.redirectToRoute("pim_enrich_job_tracker_show",{id:t(e.currentTarget).data("id")})}},showTracker:function(t){t.preventDefault(),i.redirectToRoute("pim_enrich_job_tracker_index")},_afterLoad:function(){n.prototype._afterLoad.apply(this,arguments);var t=this._getViewAllBtn();e.isEmpty(this.data)?0>t.length&&t.hide():this._addShowTrackerBtn()},_addShowTrackerBtn:function(){if(!(0<this._getViewAllBtn().length)){var e=t(this.jobTrackerBtnTemplate({title:this.viewAllTitle}));this.$el.closest(".AknWidget").find(".widget-actions").prepend(e),e.on("click",this.showTracker.bind(this))}},_processResponse:function(t){return this.options.contentLoaded=!0,e.each(t,function(t){t.labelClass=this.labelClasses[t.status]?this.labelClasses[t.status]:"",t.statusLabel=t.statusLabel.slice(0,1).toUpperCase()+t.statusLabel.slice(1).toLowerCase()},this),t},_getViewAllBtn:function(){return t('.view-all-btn[title="'+this.viewAllTitle+'"]')}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n;void 0===(n=function(){return{widgetsRegistry:{},getWidget:function(t,e){var i=this.widgetsRegistry[t.alias];return i?i.setElement(t.el):(i=new e(t),this.widgetsRegistry[t.alias]=i),i}}}.apply(e,[]))||(t.exports=n)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(194)],void 0===(r=function(t,e,i){return{fetch:function(n){var r="last-patch-available";if("undefined"!=typeof Storage&&sessionStorage&&null!==sessionStorage.getItem(r)){var o=t.Deferred();return o.resolve(sessionStorage.getItem(r)),o.promise()}return i.collect("pim_analytics_data_collect").then(function(i){var o=i.pim_version,a=e.first(o.match(/^\d+.\d+/g)),s=i.pim_edition+"-"+a+".json";return t.ajax({dataType:"json",url:n+"/"+s,data:i,timeout:1e4}).then(function(t){var e=t.last_patch.name.replace(/^v/g,"");return sessionStorage.setItem(r,e),e})})}}}.apply(e,n))||(t.exports=r)},,function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(8)],void 0===(r=function(t,e,i){return i.BootstrapModal.extend({initialize:function(n){n=t.extend({title:e("pim_common.confirm_deletion"),okText:e("pim_common.ok"),buttonClass:"AknButton--important",illustrationClass:"delete",cancelText:e("pim_common.cancel")},n),arguments[0]=n,i.BootstrapModal.prototype.initialize.apply(this,arguments)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(8),i(9),i(2)],void 0===(r=function(t,e,i,n){var r=e.$,o=function(){this.initialize.apply(this,arguments)};return t.extend(o.prototype,{UNLOAD_EVENT:"beforeunload.configFormState",LOAD_EVENT:"ready.configFormState",FORM_SELECTOR:".system-configuration-container form:first",CONFIRMATION_MESSAGE:n("pim_ui.flash.unsaved_changes"),data:null,initialize:function(){i.once("hash_navigation_request:start",this._onDestroyHandler,this),r(window).on(this.LOAD_EVENT,t.bind(this._collectHandler,this)),this._collectHandler(),r(window).on(this.UNLOAD_EVENT,t.bind(function(){if(this.isChanged())return this.CONFIRMATION_MESSAGE},this)),i.on("hash_navigation_click",this._confirmHashChange,this)},isChanged:function(){return!t.isNull(this.data)&&this.data!==this.getState()},getState:function(){return!!r(this.FORM_SELECTOR).length&&JSON.stringify(t.reject(r(this.FORM_SELECTOR).serializeArray(),function(t){return"input_action"===t.name}))},_confirmHashChange:function(t){this.isChanged()&&(t.stoppedProcess=!confirm(this.CONFIRMATION_MESSAGE))},_collectHandler:function(){this.data=this.getState()},_onDestroyHandler:function(){t.isNull(this.data)?i.off("hash_navigation_request:complete",this._collectHandler,this):this.data=null,i.off("hash_navigation_click",this._confirmHashChange,this),r(window).off(this.UNLOAD_EVENT),r(document).off(this.LOAD_EVENT)}}),o}.apply(e,n))||(t.exports=r)},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e,i){"use strict";(function(t){!function(t){function e(t){return"undefined"==typeof Storage?null:sessionStorage[t]||null}function i(t,e){"undefined"!=typeof Storage&&(sessionStorage[t]=e)}function n(e){var i=t(window).height()-e.offset().top;return t(".sf-toolbar").length&&(i-=t(".sf-toolbar").height()+1),i}function r(e,n){var r=t('label[for="nested_switch_input"]');t(">.sidebar",e).width(0),t(">.separator",e).toggleClass("expanded collapsed").css({width:n.collapsedSeparatorWidth-2+"px",cursor:"default"}),r.hide(),s(e,n),e.find(".separator i").addClass(n.expandIcon),e.find(".separator b").removeClass(n.dragIcon),i(n.stateStorageKey,0)}function o(n,r){var o=t('label[for="nested_switch_input"]');t(">.sidebar",n).width(parseInt(e(r.widthStorageKey),10)||r.sidebarWidth),t(">.separator",n).toggleClass("expanded collapsed").css({width:r.separatorWidth-2+"px",cursor:r.resizeCursor}),o.show(),s(n,r),n.find(".separator i").removeClass(r.expandIcon),n.find(".separator b").addClass(r.dragIcon),i(r.stateStorageKey,1)}function a(t){var e=n(t);t.outerHeight(e)}function s(e,i){var n=t(window).width();n-=t(">.separator",e).hasClass("collapsed")?i.collapsedSeparatorWidth:i.separatorWidth+t(">.sidebar",e).width(),t(">.content",e).width(n)}function l(i,n){t("body").css("overflow","hidden");var a=i.children().first(),s=i.children().last(),l=parseInt(e(n.widthStorageKey),10)||n.sidebarWidth;i.addClass("sidebarized").css("position","absolute"),a=(a=a.wrap(t("<div>",{class:"sidebar-content",height:"100%"})).parent().css("overflow","auto")).wrap(t("<div>",{class:"sidebar"})).parent().width(l),s.addClass("content").css({"margin-left":"0","overflow-y":"auto"});var c=t("<div>",{class:"sidebar-controls",css:n.controlsCss,height:n.controlsHeight}).prependTo(a),u=t("<div>",{class:"separator expanded",attr:{unselectable:"on"},css:n.separatorCss}).css("cursor",n.resizeCursor).css(n.unselectableCss).width(n.separatorWidth-2+"px");u.insertAfter(a).on("dblclick",function(){t(this).hasClass("collapsed")?o(i,n):r(i,n)}),a.css(n.childrenCss),s.css(n.childrenCss),u.css(n.childrenCss),t("<i>",{class:n.collapseIcon,css:n.iconCss}).on("click",function(){r(i,n)}).appendTo(c),t("<i>",{css:n.iconCss}).on("click",function(){o(i,n)}).appendTo(u).hide(),t("<b>").addClass(n.dragIcon).css(n.dragIconCss).appendTo(u),n.buttons.map(function(e){t(e).children(".dropdown-toggle").css(n.buttonsCss),t(e).css(n.buttonsCss).appendTo(c)}),i.find(".sidebar-list li").on("click",function(){t(this).siblings().removeClass("active"),t(this).addClass("active")})}t.fn.sidebarize=function(n){var o=t.extend({},t.fn.sidebarize.defaults,n);return this.each(function(){function n(e){var i=t(window).width(),n=o.maxSidebarWidth||i-o.separatorWidth,r=e.pageX;r=Math.min(Math.max(r,o.minSidebarWidth),n),t(">.sidebar",u).width(r),t(">.content",u).width(i-r-o.separatorWidth)}function c(){t(document).off("mousemove",n).off("mouseup",c),u.children().css(o.selectableCss),i(o.widthStorageKey,parseInt(t(">.sidebar",u).width(),10))}var u=t(this);if(!u.hasClass("sidebarized")){if(2!==u.children().length)throw new Error("Sidebarize: the element must have 2 child elements");l(u,o),t(">.separator",u).on("mousedown",function(){t(">.separator",u).hasClass("collapsed")||(u.children().css(o.unselectableCss),t(document).on("mousemove",n).on("mouseup",c))}),0===parseInt(e(o.stateStorageKey),10)&&r(u,o),t(window).on("resize",function(){a(u),s(u,o)}),t(document).ajaxSuccess(function(){a(u),s(u,o)}),t(window).trigger("resize")}})},t.fn.sidebarize.defaults={sidebarWidth:255,minSidebarWidth:255,maxSidebarWidth:null,widthStorageKey:"sidebar_width",stateStorageKey:"sidebar_state",separatorWidth:10,collapsedSeparatorWidth:22,controlsHeight:25,collapseIcon:"icon-double-angle-left",expandIcon:"icon-double-angle-right",dragIcon:"icon-ellipsis-vertical",resizeCursor:"e-resize",childrenCss:{position:"relative",float:"left",height:"100%",left:0},controlsCss:{border:"1px solid #ddd","text-align":"right"},separatorCss:{border:"1px solid #ddd"},unselectableCss:{"user-select":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none"},selectableCss:{"user-select":"text","-webkit-user-select":"text","-khtml-user-select":"text","-moz-user-select":"text"},dragIconCss:{position:"relative",top:"48%","margin-left":"1px","font-size":"16px",color:"#999"},iconCss:{"font-weight":"bold","font-size":16,color:"#999","line-height":"20px",float:"right",margin:"0",padding:"1px 6px 0",cursor:"pointer"},buttonsCss:{float:"left",height:"23px","line-height":"23px"},buttons:[]}}(t)}).call(e,i(1))},function(t,e,i){"use strict";var n,r;n=[i(1),i(8),i(19),i(11)],void 0===(r=function(t,e,i,n){return function(r){this.updated=!1;var o=r.attr("data-updated-message");if(o){var a=r.attr("data-updated-title"),s=this,l=function(e){var i=t(e.target);i.parents("div.filter-box").length||i.parents("ul.icons-holder").length||i.hasClass("exclude")||(s.updated=!0,t("#entity-updated").show().css("opacity",1),r.off("change",l),t(document).off("click","#"+r.attr("id")+" ins.jstree-checkbox",l),r.find('button[type="submit"]').on("click",function(){s.updated=!1}),t(window).on("beforeunload",function(){if(s.updated)return o}))},c=function(e){e.stopImmediatePropagation(),e.preventDefault();var r=t(this).attr("href"),l=function(){n.redirect(r)};return s.updated?i.confirm(o,a,l):l(),!1};r.on("change",l),t(document).on("click","#"+r.attr("id")+" ins.jstree-checkbox",l),r.on("refresh",function(){s.updated=!1,t("#entity-updated").css("opacity",0).hide()}),t('a[href^="/"]:not(".no-hash")').off("click").on("click",c),r.on("click",'a[href^="/"]:not(".no-hash")',c),e.Router.prototype.on("route",function(){t('a[href^="/"]:not(".no-hash")').off("click",c),t(window).off("beforeunload")})}else console.warn("FormUpdateListener: message not provided.")}}.apply(e,n))||(t.exports=r)},,function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(1),i(3),i(362),i(58)],void 0===(r=function(t,e,i,n,r){return n.extend({events:{'change input[type="checkbox"]':"updateBoolean","change textarea":"updateText"},isGroup:!0,label:e("oro_config.form.config.group.loading_message.title"),template:t.template(r),code:"oro_config_loading_message",configure:function(){return this.trigger("tab:register",{code:this.code,label:this.label}),n.prototype.configure.apply(this,arguments)},render:function(){return this.$el.html(this.template({loading_message_enabled:this.getFormData().pim_ui___loading_message_enabled.value,loading_messages:this.getFormData().pim_ui___loading_messages.value})),this.$el.find(".switch").bootstrapSwitch(),this.delegateEvents(),n.prototype.render.apply(this,arguments)},updateBoolean:function(t){var e=this.getFormData();e.pim_ui___loading_message_enabled.value=i(t.target).prop("checked")?"1":"0",this.setData(e)},updateText:function(t){var e=this.getFormData();e.pim_ui___loading_messages.value=i(t.target).val(),this.setData(e)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(8),i(364)],void 0===(r=function(t,e){return t.Collection.extend({model:e})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(8),i(3),i(12),i(5),i(365),i(368),i(358),i(369),i(33),i(64),i(26),i(6),i(370),i(371)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c,u,d,p,h,f,m){return n.extend({tagName:"div",className:"app",template:e.template(f),flashTemplate:e.template(m),initialize:function(){return l(),c(),n.prototype.initialize.apply(this,arguments)},configure:function(){return t.when(o.initialize(),d.initialize(),p.initialize(),h.initialize()).then(s.fetch).then(function(){return r.showQueuedMessages(),a(),u.set("Akeneo PIM"),n.prototype.configure.apply(this,arguments)}.bind(this))},render:function(){return this.$el.html(this.template({})),i.History.started||i.history.start(),n.prototype.render.apply(this,arguments)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(31)],void 0===(r=function(t,e,i){return function(t,n){var r=[];if("string"==typeof t)return i(t);e.each(t,function(t){var e=i(t);r.push(e)}),n&&n.apply(this,r)}}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(30),i(14),i(5),i(6),i(19),i(33)],void 0===(r=function(t,e,i,n,r,o,a,s){return i.extend({renderForm:function(t){return r.getFetcher(this.options.config.entity).fetch(t.params.id,{cached:!1}).then(t=>{if(this.active)return s.set({"product.label":t.meta.label[o.get("catalogLocale")]}),n.build(t.meta.form).then(e=>(this.on("pim:controller:can-leave",function(t){e.trigger("pim_enrich:form:can-leave",t)}),e.setData(t),e.setElement(this.$el).render(),e))})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(30),i(14),i(5),i(6),i(19),i(33),i(10)],void 0===(r=function(t,e,i,n,r,o,a,s,l){return i.extend({renderForm:function(e){return r.getFetcher("family").fetch(e.params.code,{cached:!1,full_attributes:!1}).then(e=>{if(this.active){var i=t.escape(l.getLabel(e.labels,o.get("catalogLocale"),e.code));return s.set({"family.label":t.escape(i)}),n.build(e.meta.form).then(t=>(this.on("pim:controller:can-leave",function(e){t.trigger("pim_enrich:form:can-leave",e)}),t.setData(e),t.trigger("pim_enrich:form:entity:post_fetch",e),t.setElement(this.$el).render(),t))}})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(30),i(14),i(5),i(6),i(19),i(33),i(10)],void 0===(r=function(t,e,i,n,r,o,a,s,l){return i.extend({renderForm:function(e){function i(e,i,r,o){return s.set({"channel.label":t.escape(r)}),n.build(o).then(t=>(this.on("pim:controller:can-leave",function(e){t.trigger("pim_enrich:form:can-leave",e)}),t.setData(i),t.trigger("pim_enrich:form:entity:post_fetch",i),t.setElement(e).render(),t))}return r.getFetcher("locale").clear(),void 0===e.params.code?i.call(this,this.$el,{code:"",currencies:[],locales:[],category_tree:"",conversion_units:[],labels:{},meta:{}},"pim_enrich.entity.channel.label.create","pim-channel-create-form"):r.getFetcher("channel").fetch(e.params.code,{cached:!1,filter_locales:0}).then(e=>{var n=t.escape(l.getLabel(e.labels,o.get("catalogLocale"),e.code));return i.call(this,this.$el,e,n,e.meta.form)})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(30),i(14)],void 0===(r=function(t,e,i){return e.extend({initialize:function(t){this.options=t},renderForm:function(){return i.build("pim-"+this.options.config.entity+"-index").then(t=>(t.setElement(this.$el).render(),t))}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(30),i(14),i(5),i(6),i(19),i(33),i(10)],void 0===(r=function(t,e,i,n,r,o,a,s,l){return i.extend({renderForm:function(e){return r.getFetcher("association-type").fetch(e.params.code,{cached:!1}).then(e=>{if(this.active){var i=t.escape(l.getLabel(e.labels,o.get("catalogLocale"),e.code));return s.set({"association type.label":t.escape(i)}),n.build(e.meta.form).then(t=>(this.on("pim:controller:can-leave",function(e){t.trigger("pim_enrich:form:can-leave",e)}),t.setData(e),t.trigger("pim_enrich:form:entity:post_fetch",e),t.setElement(this.$el).render(),t))}})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(108),i(11)],void 0===(r=function(t,e,i,n){return i.extend({renderRoute:function(e,i){return t.get(i).then(this.redirect.bind(this)).promise()},redirect:function(t){this.active&&n.redirectToRoute(t.route,t.params?t.params:{},{trigger:!0})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(30),i(14),i(5),i(6),i(19),i(33)],void 0===(r=function(t,e,i,n,r,o,a,s){return i.extend({renderForm:function(e){var i=-1===e.name.indexOf("pim_importexport_import")?"export":"import",o=-1===e.name.indexOf("_profile_show")?"edit":"show";return r.getFetcher("job-instance-"+i).fetch(e.params.code,{cached:!1}).then(e=>{if(this.active)return s.set({"job.label":t.escape(e.label)}),n.build(e.meta.form+"-"+o).then(t=>(this.on("pim:controller:can-leave",e=>{t.trigger("pim_enrich:form:can-leave",e)}),t.setData(e),t.trigger("pim_enrich:form:entity:post_fetch",e),t.setElement(this.$el).render(),t))})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r,o={fetcher:"group"};n=[i(0),i(2),i(30),i(14),i(5),i(6),i(19),i(33),i(137),i(10)],void 0===(r=function(t,e,i,n,r,a,s,l,c,u){return i.extend({initialize:function(){this.config=o},renderForm:function(e){return r.getFetcher(this.config.fetcher).fetch(e.params.code,{cached:!1}).then(e=>{if(this.active){var i=t.escape(u.getLabel(e.labels,a.get("catalogLocale"),e.code));return l.set({"group.label":i}),n.build(e.meta.form).then(t=>(this.on("pim:controller:can-leave",function(e){t.trigger("pim_enrich:form:can-leave",e)}),t.setData(e),t.trigger("pim_enrich:form:entity:post_fetch",e),t.setElement(this.$el).render(),t))}})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(372),i(26),i(134),i(11)],void 0===(r=function(t,e,i,n,r){return e.extend({renderRoute:function(e,n){return i.initialize().then(()=>i.isGranted("pim_user_role_edit")?t.get(n).then(this.renderTemplate.bind(this)).promise():void r.redirectToRoute("pim_dashboard_index"))},afterSubmit:function(){i.initialize(),n.clear(),e.prototype.afterSubmit.apply(this,arguments),this.$("#entity-updated span").is(":visible")||location.reload()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(30),i(14),i(5)],void 0===(r=function(t,e,i,n){return e.extend({renderForm:function(t){return n.getFetcher("job-execution").fetch(t.params.id,{id:t.params.id,cached:!1}).then(t=>this.active?i.build("pim-job-execution-form").then(e=>(this.on("pim:controller:can-leave",function(t){e.trigger("pim_enrich:form:can-leave",t)}),e.setData(t),e.getRoot().trigger("pim-job-execution-form:start-auto-update",t),this.on("pim-controller:job-execution:remove",()=>{e.getRoot().trigger("pim-job-execution-form:stop-auto-update")}),e.setElement(this.$el).render(),e)):void 0)},remove:function(){this.trigger("pim-controller:job-execution:remove"),e.prototype.remove.apply(this,arguments)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(30),i(14),i(5),i(6),i(19),i(33),i(10)],void 0===(r=function(t,e,i,n,r,o,a,s,l){return i.extend({renderForm:function(e){return r.getFetcher("group-type").fetch(e.params.code,{cached:!1}).then(e=>{if(this.active){var i=t.escape(l.getLabel(e.labels,o.get("catalogLocale"),e.code));return s.set({"group type.label":t.escape(i)}),n.build("pim-group-type-edit-form").then(t=>(this.on("pim:controller:can-leave",e=>{t.trigger("pim_enrich:form:can-leave",e)}),t.setData(e),t.trigger("pim_enrich:form:entity:post_fetch",e),t.setElement(this.$el).render(),t))}})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(30),i(14),i(33),i(7)],void 0===(r=function(t,e,i,n,r,o,a){return n.extend({renderForm:function(){return t.when(r.build("oro-system-config-form"),t.get(a.generate("oro_config_configuration_system_get"))).then((t,e)=>(this.on("pim:controller:can-leave",function(e){t.trigger("pim_enrich:form:can-leave",e)}),t.setData(e[0]),t.setElement(this.$el).render(),t))}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(30),i(5),i(33),i(14)],void 0===(r=function(t,e,i,n,r){return e.extend({renderForm:function(e){return i.getFetcher("user").fetch(e.params.identifier).then(e=>{if(this.active)return n.set({username:t.escape(e.username)}),r.build(e.meta.form).then(t=>{this.on("pim:controller:can-leave",function(e){t.trigger("pim_enrich:form:can-leave",e)});var i=e.catalog_default_scope,n=e.default_category_tree,r=e.user_default_locale,o=e.catalog_default_locale;return t.on("pim_enrich:form:entity:post_save",t=>{(t.user_default_locale!==r||t.catalog_default_locale!==o||t.catalog_default_scope!==i||t.default_category_tree!==n)&&(r=t.user_default_locale,o=t.catalog_default_locale,i=t.catalog_default_scope,n=t.default_category_tree,location.reload())}),t.setData(e),t.trigger("pim_enrich:form:entity:post_fetch",e),t.setElement(this.$el).render(),t})})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(30),i(14),i(5),i(6),i(19),i(33)],void 0===(r=function(t,e,i,n,r,o,a,s){return i.extend({renderForm:function(e){return r.getFetcher("attribute-group").fetch(e.params.identifier,{cached:!1}).then(e=>{if(this.active)return s.set({"group.label":t.escape(e.labels[o.get("catalogLocale")])}),n.build("pim-attribute-group-edit-form").then(t=>(this.on("pim:controller:can-leave",function(e){t.trigger("pim_enrich:form:can-leave",e)}),t.setData(e),t.trigger("pim_enrich:form:entity:post_fetch",e),t.setElement(this.$el).render(),t))})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(30),i(14)],void 0===(r=function(t,e,i){return e.extend({renderForm:function(){return this.active?i.build("pim-attribute-group-create-form").then(t=>(this.on("pim:controller:can-leave",function(e){t.trigger("pim_enrich:form:can-leave",e)}),t.setData({code:"",labels:{}}),t.setElement(this.$el).render(),t)):void 0}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(30),i(14),i(5),i(6),i(33),i(10)],void 0===(r=function(t,e,i,n,r,o,a){return e.extend({renderForm:function(e){if(this.active)return n.getFetcher("attribute-group").clear(),n.getFetcher("locale").clear(),n.getFetcher("measure").clear(),n.getFetcher("attribute").fetch(e.params.code,{cached:!1,apply_filters:!1}).then(e=>{var n=t.escape(a.getLabel(e.labels,r.get("catalogLocale"),e.code));return o.set({"attribute.label":n}),i.getFormMeta("pim-attribute-edit-form").then(i.buildForm).then(t=>(t.setType(e.type),t.configure().then(()=>t))).then(t=>(this.on("pim:controller:can-leave",function(e){t.trigger("pim_enrich:form:can-leave",e)}),t.setData(e),t.trigger("pim_enrich:form:entity:post_fetch",e),t.setElement(this.$el).render(),t))})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(30),i(14),i(5)],void 0===(r=function(t,e,i,n){return e.extend({renderForm:function(){if(this.active){n.getFetcher("attribute-group").clear(),n.getFetcher("locale").clear(),n.getFetcher("measure").clear();var t=this.getQueryParam(location.href,"attribute_type");return i.getFormMeta("pim-attribute-create-form").then(i.buildForm).then(e=>(e.setType(t),e.configure().then(()=>e))).then(e=>(this.on("pim:controller:can-leave",t=>{e.trigger("pim_enrich:form:can-leave",t)}),e.setData(this.getNewAttribute(t)),e.setElement(this.$el).render(),e))}},getQueryParam:function(e,i){var n=e.substr(e.lastIndexOf("?")+1);if(!n)return null;var r=n.split("=");return t.contains(r,i)?r[r.indexOf(i)+1]:null},getNewAttribute:function(t){return{code:"",labels:{},type:t,available_locales:[]}}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(30),i(14),i(33),i(7)],void 0===(r=function(t,e,i,n,r,o,a){return n.extend({initialize:function(t){this.config=t.config},renderForm:function(i,n){var o=n.replace(i.route.tokens[0][1],""),s=e.chain(o.split("&")).map(function(t){return t.split("=")}).map(function(t){return{key:t[0].replace("?",""),value:t[1]}}).value(),l=e.find(s,function(t){return"actionName"===t.key}).value.replace(/_/g,"-");return t.ajax({url:a.generate(this.config.route)+o}).then(t=>{var e=t.filters,i=t.itemsCount;return r.build("pim-mass-"+l).then(t=>(t.setData({filters:e,jobInstanceCode:null,actions:[],itemsCount:i}),t.setElement(this.$el).render(),t))})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(108),i(11)],void 0===(r=function(t,e,i,n){return i.extend({renderRoute:function(e,i){return t.get(i).then(()=>{window.location=n.generate("pim_user_security_login")}).promise()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";(function(t){var e;(e=t).fn.wizard=function(t){var i=e.extend({},e.fn.wizard.defaults,t),n=e(this).find("li"),r=i.currentStep;e(this).hasClass("wizard")||e(this).addClass("wizard"),n.each(function(){e("div",this).remove(".progress-start").remove(".progress-end").remove(".dot"),e(this).append('<div class="progress-start"></div>').append('<div class="progress-end"></div>')}),n.first().find(".progress-start").hide(),n.last().find(".progress-end").hide();for(var o=0;o<r;o++)0!==o&&n.eq(o).find(".progress-start").addClass("active"),o!==r-1&&n.eq(o).find(".progress-end").addClass("active"),o===r-1&&n.eq(o).append('<div class="dot"><i class="icon-circle"></i></div>')},e.fn.wizard.defaults={currentStep:1}}).call(e,i(1))},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(8),i(183),i(184)],void 0===(r=function(t,e,i){return function(n){var r=t("#"+n);if(!r||!r.length||!e.isObject(r))throw new Error("Unable to instantiate available attributes form on this element");var o="pimmultiselect pimmultiselect_"+n;e.isUndefined(r.attr("data-classes"))||(o=o+" "+r.attr("data-classes"));var a={title:r.attr("data-title"),placeholder:r.attr("data-placeholder"),emptyText:r.attr("data-empty-text"),header:"",height:175,minWidth:225,classes:o,position:{my:"right top",at:"right bottom",collision:"none"}};a.selectedText=a.title,a.noneSelectedText=a.title;var s=r.find("select");s.multiselect(a).multiselectfilter({label:!1,placeholder:a.placeholder});var l=t(".ui-multiselect-menu.pimmultiselect_"+n).appendTo(t("#container")),c=r.attr("data-save-button"),u=r.attr("data-target"),d=t("<div>").addClass("ui-multiselect-footer").appendTo(l),p=t("<a>").addClass("btn btn-small").html(c).on("click",function(){s.multiselect("close"),null!==s.val()&&(i.Router.prototype.trigger("route"),r.submit())}).appendTo(d),h=r.find("button.pimmultiselect").addClass("btn btn-group");h.append(t("<span>",{class:"caret"})).removeAttr("style"),u&&h.prependTo(t(u)),l.find('input[type="search"]').width(207);var f=l.find(".ui-multiselect-checkboxes");f.html()||(f.html(t("<span>",{html:a.emptyText,css:{position:"absolute",color:"#999",padding:"15px","font-size":"13px"}})),p.addClass("disabled"))}}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(8),i(0),i(9),i(196),i(375),i(361),i(75),i(58),i(17)],void 0===(r=function(t,e,i,n,r,o,a){var s=e.View.extend({field:null,rendered:!1,isMetric:!1,template:i.template('<%= field.hiddenInput %><div class="control-group"><div class="controls input-prepend<%= isMetric ? " metric input-append" : "" %>"><label class="control-label add-on" for="<%= field.id %>" title="<%= field.scope %>"><%= field.scope[0].toUpperCase() %></label><div class="scopable-input"><%= field.input %><div class="icons-container"><%= field.icons %></div></div></div></div>'),initialize:function(){var e={};if(this.$el.find(".upload-zone").length)e.id=null,e.input=this.$el.find(".upload-zone").get(0).outerHTML;else if(this.$el.find(".switch").length){var n=this.$el.find(".switch"),r=n.clone().empty().removeClass("has-switch"),o=n.find("input");e.id=o.attr("id"),o.appendTo(r),e.input=r.get(0).outerHTML}else if(this.$el.find(".control-label")){e.id=this.$el.find(".control-label").attr("for");var a=t("#"+e.id);if(a.hasClass("select2-input")||a.hasClass("select2-focusser")){var s=a.closest(".select2-container").attr("id");/^s2id_.+/.test(s)&&(s=s.slice(5),e.id=s,a=t("#"+s)),a.select2("destroy")}e.input=a.get(0).outerHTML,i.each(a.siblings("input, select"),function(t){e.input+=t.outerHTML}),this.$el.find(".controls.metric").length&&(this.isMetric=!0),a.siblings("a.add-attribute-option").length&&(e.input+=a.siblings("a.add-attribute-option").get(0).outerHTML),i.each(a.siblings(".validation-tooltip"),function(e){t(e).appendTo(this.$el.find(".icons-container"))}.bind(this))}e.scope=this.$el.data("scope"),e.hiddenInput=this.$el.find('input[type="hidden"]').get(0).outerHTML,e.icons=this.$el.find(".icons-container").html(),this.field=e},render:function(){return this.rendered||(this.rendered=!0,this.$el.empty(),this.$el.append(this.template({field:this.field,isMetric:this.isMetric})),this.$el.find('[data-toggle="tooltip"]').tooltip(),this.$el.find(".switch").bootstrapSwitch(),this.$el.find("select").select2()),this}});return e.View.extend({label:null,fieldViews:[],fields:[],expanded:!0,rendered:!1,expandIcon:"icon-caret-right",collapseIcon:"icon-caret-down",skipUIInit:!1,template:i.template("<%= label %>"),initialize:function(t){var e=t||{};this.fieldViews=[],this.fields=[],this.expanded=!0,this.rendered=!1,this._reindexFields(),i.each(this.fields,function(t){this._addField(t)}.bind(this)),this.label=this.$el.find(".control-label").first().get(0).outerHTML,this.render(),i.has(e,"initialScope")&&this._changeDefault(e.initialScope),n.on("scopablefield:changescope",function(t){this._changeDefault(t)}.bind(this)),n.on("scopablefield:collapse",function(t){(!t||this.$el.find("#"+t).length)&&this._collapse()}.bind(this)),n.on("scopablefield:expand",function(t){(!t||this.$el.find("#"+t).length)&&this._expand()}.bind(this));var r=this;this.$el.closest("form").on("validate",function(){r.$el.find(".validation-tooltip:hidden").length&&r._expand()})},render:function(){if(!this.rendered){if(this.rendered=!0,this.$el.empty().addClass("control-group"),this.$el.append(this.template({label:this.label})),1<this.fieldViews.length){var e=t("<i>",{class:"field-toggle "+this.collapseIcon});this.$el.find("label").removeAttr("for").prepend(e)}i.each(this.fieldViews,function(t){t.render().$el.appendTo(this.$el)}.bind(this)),this._collapse();var r=this.$el.find("a.add-attribute-option");r.length&&o.init("#"+r.attr("id")),n.trigger("scopablefield:rendered",this.$el)}return this},_addField:function(t){return this.fieldViews.push(new s({el:t})),this},_expand:function(){if(!this.expanded){this.expanded=!0,this._reindexFields();var t=!0;i.each(this.fields,function(e){this._showField(e,t),t=!1}.bind(this)),this._initUI(),this.$el.find("i.field-toggle").removeClass(this.expandIcon).addClass(this.collapseIcon),this.$el.removeClass("collapsed").addClass("expanded").trigger("expand")}return this},_collapse:function(){if(this.expanded){this.expanded=!1,this._reindexFields();var t=!0;i.each(this.fields,function(e){t?(this._showField(e,t),t=!1):this._hideField(e)}.bind(this)),this._initUI(),this.$el.find("i.field-toggle").removeClass(this.collapseIcon).addClass(this.expandIcon),this.$el.removeClass("expanded").addClass("collapsed").trigger("collapse")}return this},_refreshFieldsDisplay:function(){i.each(this.fields,function(t){this.expanded||t.hasClass("first")?this._showField(t):this._hideField(t)}.bind(this))},_toggle:function(t){return t&&t.preventDefault(),this.expanded?this._collapse():this._expand()},_changeDefault:function(t){return this.skipUIInit=!0,this._toggle(),this._setFieldFirst(this.$el.find('[data-scope="'+t+'"]:first')),this._refreshFieldsDisplay(),this._initUI(),this},_reindexFields:function(){this.fields=i.map(this.$el.find("[data-scope]"),function(e){return t(e)}),this.$el.find("[data-scope]").length&&i.first(this.fields).addClass("first")},_setFieldFirst:function(t){this.$el.find("[data-scope]").removeClass("first"),t.addClass("first");var e=this.$el.find(">label");e.length?t.insertAfter(e):t.prependTo(this.$el)},_showField:function(e,i){var n=t(e).find('.icons-container i:not(".validation-tooltip")');i?(t(e).addClass("first"),n.attr("style","display: inline !important"),this._setFieldFirst(e)):(t(e).removeClass("first"),n.attr("style","display: none !important")),t(e).show()},_hideField:function(e){t(e).hide()},_initUI:function(){return this.skipUIInit||i.each(this.fields,function(t){var e=t.find("textarea.wysiwyg");e.length&&r.init(e);var i=t.find("input[type=file][id]");i.length&&a.init(i.attr("id"))}),this},events:{"click label i.field-toggle":"_toggle"}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(8),i(0),i(9),i(75)],void 0===(r=function(t,e,i,n){return e.View.extend({fieldSelector:".currency-field[data-metadata]",expandIcon:"icon-caret-right",collapseIcon:"icon-caret-down",first:!0,expanded:!0,currencies:null,scopable:!1,inputClass:"input-small",smallInputClass:"input-mini",inputThreshold:3,currencyTemplate:i.template('<span class="currency-header<%= small ? " small" : "" %>"><% _.each(currencies, function (currency) { %><span class="currency-label"><%= currency %></span><% }); %></span>'),template:i.template('<% _.each(data, function (item) { %><% _.each(currencies, function (currency, index) { %><% if (item.label === currency) { %><% if (scopable && index === 0) { %><label class="control-label add-on" title="<%= item.scope %>"><%= item.scope[0].toUpperCase() %></label><div class="scopable-input"><% } %><input type="hidden" id="<%= item.currency.fieldId %>" name="<%= item.currency.fieldName %>" value="<%= item.currency.data %>"<%= item.currency.disabled ? " disabled" : "" %> ><input type="text" class="<%= inputClass %>" id="<%= item.value.fieldId %>"name="<%= item.value.fieldName %>" value="<%= item.value.data %>"<% if (!scopable && index === 0) { %> style="border-top-left-radius:3px;border-bottom-left-radius:3px;"<% } %><%= item.value.disabled ? " disabled" : "" %> ><% if (scopable && index + 1 === currencies.length) { %></div><% } %><% } %><% }); %><% }); %>'),events:{"click label i.field-toggle":"_toggle"},initialize:function(){this._extractMetadata(),this.render(),this.scopable&&(n.on("scopablefield:changescope",function(t){this._changeDefault(t)}.bind(this)),n.on("scopablefield:collapse",function(t){(!t||this.$el.find("#"+t).length)&&this._collapse()}.bind(this)),n.on("scopablefield:expand",function(t){(!t||this.$el.find("#"+t).length)&&this._expand()}.bind(this)))},_extractMetadata:function(){this.scopable=this.$el.hasClass("scopable");var e=[];this.$el.find(this.fieldSelector).each(function(){var i=t(this).data("metadata");e.push(i.label)}),this.currencies=i.uniq(e)},_renderTarget:function(e,i){var n=t(i),r=[],o=this.scopable;n.find(this.fieldSelector).each(function(){var e=t(this).data("metadata");o&&(e.scope=t(this).parent().parent().parent().data("scope")),r.push(e)}),n.empty(),n.prepend(this.template({currencies:this.currencies,data:r,scopable:this.scopable,first:this.first,collapseIcon:this.collapseIcon,inputClass:this.currencies.length>this.inputThreshold?this.smallInputClass:this.inputClass})),this.first&&(n.parent().parent().addClass("first"),this.first=!1)},render:function(){this.$el.addClass("control-group").find(".control-group.hide").removeClass("hide");var e=this.$el.find("label.control-label:first").prependTo(this.$el);this.$el.find("label.control-label:not(:first)").remove();var r=this.$el.find("div[data-scope]");if(this.scopable&&1<r.length){var o=t("<i>",{class:"field-toggle "+this.collapseIcon});e.prepend(o)}r.each(function(){var e=t(this).parent();t(this).insertBefore(e),e.remove()}),this.scopable&&this.$el.find("div.controls").addClass("input-prepend");var a=t(this.currencyTemplate({currencies:this.currencies,scopable:this.scopable,small:this.currencies.length>this.inputThreshold}));a.insertAfter(e);var s=this.$el.find(".icons-container:first");return s.insertAfter(a),i.each(this.$el.find(".validation-tooltip"),function(e){t(e).appendTo(s)}),this.$el.find("div.controls").each(this._renderTarget.bind(this)),this.scopable?(s.appendTo(this.$el.find("div.first .scopable-input")),this._collapse(),n.trigger("scopablefield:rendered",this.$el)):s.appendTo(this.$el.find(".controls")),this},_expand:function(){return this.expanded||(this.expanded=!0,this.$el.find("div[data-scope]").removeClass("hide"),this.$el.find("i.field-toggle").removeClass(this.expandIcon).addClass(this.collapseIcon),this.$el.removeClass("collapsed").addClass("expanded").trigger("expand")),this},_collapse:function(){return this.expanded&&(this.expanded=!1,this.$el.find("div[data-scope]:not(:first)").addClass("hide"),this.$el.find("i.field-toggle").removeClass(this.collapseIcon).addClass(this.expandIcon),this.$el.removeClass("expanded").addClass("collapsed").trigger("collapse")),this},_toggle:function(t){return t&&t.preventDefault(),this.expanded?this._collapse():this._expand()},_changeDefault:function(t){var e=this.$el.find(">div[data-scope]");(this.$el.find(".first").removeClass("first"),e.filter('[data-scope="'+t+'"]').addClass("first").insertBefore(e.eq(0)),this.scopable)&&this.$el.find(".icons-container:first").appendTo(this.$el.find("div.first .scopable-input"));return this._toggle(),this._toggle(),this}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(8),i(7),i(20),i(109),i(198),i(114),i(188)],void 0===(r=function(t,e,i,n,r,o,a){return function(s,l){var c=t(s);if(!c||!c.length||!e.isObject(c))throw new Error("Unable to instantiate tree on this element");var u=c.attr("data-node-id")||-1,d=c.attr("data-tree-id")||-1,p=u in[0,-1]?d:u,h=0<u,f=new r;f.render().$el.appendTo(t("#category-tree-container")),this.config={core:{animation:200},plugins:["tree_selector","themes","json_data","ui","crrm","types"],contextmenu:{items:{create:{label:e.__("pim_common.create")},ccp:!1,rename:!1,remove:!1}},tree_selector:{ajax:{url:n.generate(l+"_categorytree_listtree",{_format:"json",select_node_id:p,context:"manage",with_items_count:0})},auto_open_root:!0,node_label_field:"label",no_tree_message:e.__("jstree.no_tree"),preselect_node_id:u},themes:{dots:!0,icons:!0},json_data:{ajax:{url:n.generate(l+"_categorytree_children",{_format:"json",context:"manage"}),data:function(t){return{id:t&&-1!==t&&t.attr?t.attr("id").replace("node_",""):-1,select_node_id:u,with_items_count:0}}}},types:{max_depth:-2,max_children:-2,valid_children:["folder"],types:{default:{valid_children:"folder"}}},ui:{select_limit:1,select_multiple_modifier:!1}},c.attr("data-editable")&&this.config.plugins.push("dnd"),c.attr("data-creatable")&&this.config.plugins.push("contextmenu"),this.init=function(){c.jstree(this.config).bind("move_node.jstree",function(e,i){var r=t.jstree._focused();i.rslt.o.each(function(e){t.ajax({async:!1,type:"POST",url:n.generate(l+"_categorytree_movenode"),data:{id:t(this).attr("id").replace("node_",""),parent:-1===i.rslt.cr?1:i.rslt.np.attr("id").replace("node_",""),prev_sibling:r._get_prev(this,!0)?r._get_prev(this,!0).attr("id").replace("node_",""):null,position:i.rslt.cp+e,code:i.rslt.name,copy:i.rslt.cy?1:0},success:function(e){e.status?(t(i.rslt.oc).attr("id",e.id),i.rslt.cy&&t(i.rslt.oc).children("UL").length&&i.inst.refresh(i.inst._get_parent(i.rslt.oc))):r.rollback(i.rlbk)}})})}).bind("select_node.jstree",function(e,r){if(c.attr("data-editable")){var s=r.rslt.obj.attr("id").replace("node_",""),u=n.generate(l+"_categorytree_edit",{id:s});return"#"+u===i.history.location.hash||h?void(h=!1):(f.show(),void t.ajax({async:!0,type:"GET",url:u+"?content=form",success:function(e){e&&(t("#category-form").html(e),i.history.navigate("#"+u,{trigger:!1}),a(t("#category-form")),f.hide())},error:function(t){o.dispatch(null,t),f.hide()}}))}}).bind("loaded.jstree",function(t,e){"jstree"===t.namespace&&e.inst.get_tree_select().select2({width:"100%"})}).bind("create.jstree",function(e,r){t.jstree._focused().lock();var a=r.rslt.parent.attr("id").replace("node_",""),s=n.generate(l+"_categorytree_create",{parent:a}),c=r.rslt.position,u=r.rslt.name;s=s+"?label="+u+"&position="+c,f.show(),t.ajax({async:!0,type:"GET",url:s+"&content=form",success:function(e){e&&(t("#category-form").html(e),i.history.navigate("#"+s,{trigger:!1}),f.hide())},error:function(t){o.dispatch(null,t),f.hide()}})})},this.init()}}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(8),i(2),i(7),i(9),i(20),i(19)],void 0===(r=function(t,e,i,n,r,o,a,s){return i.View.extend({tagName:"table",template:"",events:{},$target:null,itemViews:[],url:"",collectionClass:null,itemClass:null,itemViewClass:null,rendered:!1,initialize:function(t){this.$target=t.$target,this.collectionClass=t.collectionClass,this.itemClass=t.itemClass,this.itemViewClass=t.itemViewClass,this.url=t.url,this.collection=new this.collectionClass({url:t.url}),this.render(),this.load()},render:function(){return this.$el.empty(),this.$el.html(this.renderTemplate()),e.each(this.collection.models,function(t){this.addItem({item:t})}.bind(this)),this.rendered||(this.$target.html(this.$el),this.rendered=!0),this},renderTemplate:function(){return this.template({})},load:function(){this.itemViews=[],this.inLoading(!0),this.collection.fetch({success:function(){this.inLoading(!1),this.render()}.bind(this)})},addItem:function(t){var e=this.createItemView((t||{}).item);e&&this.$el.children("tbody").append(e.$el)},createItemView:function(t){var e=new this.itemViewClass({model:t,parent:this});return e.showReadableItem(),this.collection.add(t),this.itemViews.push(e),e},deleteItem:function(t){this.inLoading(!0),t.model.destroy({success:function(){this.inLoading(!1),this.collection.remove(t),0===this.collection.length?(this.render(),t.$el.hide(0)):t.model.id?t.$el.hide(500):t.$el.hide(0)}.bind(this),error:function(t,e){var i;this.inLoading(!1),i=e.responseJSON?e.responseJSON:e.responseText,s.alert(i,n("pim_enrich.entity.fallback.flash.delete.error"))}.bind(this)})},inLoading:function(t){if(t){var e=new a;e.render().$el.appendTo(this.$el),e.show()}else this.$el.find(".loading-mask").remove()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(8),i(0),i(2),i(19)],void 0===(r=function(t,e,i,n){return t.View.extend({tagName:"tr",template:"",itemName:"item",events:{"click .delete-row":"deleteItem"},parent:null,loading:!1,initialize:function(t){this.parent=t.parent,this.model.rootUrl=this.parent.url,this.render()},render:function(){return this.$el.html(this.renderTemplate()),this.$el.attr("data-item-id",this.model.id),this},renderTemplate:function(){return this.template({})},showReadableItem:function(){this.render()},deleteItem:function(){n.confirm(i("pim_enrich.entity.fallback.module.delete.item_placeholder",{itemName:this.itemName}),i("pim_enrich.entity.fallback.module.delete.title",{itemName:this.itemName}),function(){this.parent.deleteItem(this)}.bind(this))},inLoading:function(t){this.parent.inLoading(t)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(63),i(7)],void 0===(r=function(t,e,i,n){return i.extend({identifierPromise:null,fetchByTypesPromises:[],getIdentifierAttribute:function(){return null===this.identifierPromise?(this.identifierPromise=t.Deferred(),this.fetchByTypes([this.options.identifier_type]).then(function(t){return 0<t.length?(this.identifierPromise.resolve(t[0]).promise(),this.identifierPromise):this.identifierPromise.reject().promise()}.bind(this))):this.identifierPromise},fetchByTypes:function(t){var i=t.sort().join("");return e.has(this.fetchByTypesPromises,i)||(this.fetchByTypesPromises[i]=this.getJSON(this.options.urls.list,{types:t.join(",")}).then(e.identity).promise()),this.fetchByTypesPromises[i]},getJSON:function(e,i){return t.post(n.generate(e),i,null,"json")},clear:function(){i.prototype.clear.apply(this,arguments),this.identifierPromise=null}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(63),i(7)],void 0===(r=function(t,e,i,n){return i.extend({getJSON:function(e,i){return t.post(n.generate(e),i,null,"json")},fetchAll:function(i){if(i=i||{},null===this.entityListPromise||!1===i.cached){if(!e.has(this.options.urls,"list"))return t.Deferred().reject().promise();this.entityListPromise=t.getJSON(n.generate(this.options.urls.list,{options:{limit:-1}})).then(e.identity).promise()}return this.entityListPromise}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(63),i(7)],void 0===(r=function(t,e,i,n){return i.extend({entityActivatedListPromise:null,initialize:function(t){this.options=t||{}},fetchActivated:function(i){if(!this.entityActivatedListPromise){if(!e.has(this.options.urls,"list"))return t.Deferred().reject().promise();this.entityActivatedListPromise=t.getJSON(n.generate(this.options.urls.list),Object.assign({},{activated:!0},i)).then(e.identity).promise()}return this.entityActivatedListPromise},clear:function(){this.entityActivatedListPromise=null,i.prototype.clear.apply(this,arguments)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(381),i(9),i(7)],void 0===(r=function(t,e,i,n,r){return i.extend({initialize:function(t){this.options=t||{},i.prototype.initialize.apply(this,[t])},getIdentifierField:function(){return t.Deferred().resolve("code")},fetchChildren:function(i){return e.has(this.options.urls,"children")?t.getJSON(r.generate(this.options.urls.children),{id:i}).then(e.identity).promise():t.Deferred().reject().promise()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(63)],void 0===(r=function(t,e){return e.extend({fetchAvailableAxes:function(e){return this.getJSON(this.options.urls.available_axes,{code:e}).then(t.identity).promise()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(35),i(383)],void 0===(r=function(t,e){return t.extend({remover:e})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(35),i(384)],void 0===(r=function(t,e){return t.extend({remover:e})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(3),i(5),i(23),i(7),i(11),i(6),i(10),i(405)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c,u){return n.extend({className:"tabsection",template:e.template(u),attributeGroups:[],events:{"click .attribute-group-link":"redirectToGroup"},configure:function(){return t.when(r.getFetcher("attribute-group").fetchAll(),n.prototype.configure.apply(this,arguments)).then(function(t){this.attributeGroups=t}.bind(this))},render:function(){this.$el.html(this.template({attributeGroups:e.sortBy(e.values(this.attributeGroups),function(t){return t.sort_order}),i18n:c,uiLocale:l.get("catalogLocale")})),this.$("tbody").sortable({handle:".handle",containment:"parent",tolerance:"pointer",update:this.updateAttributeOrders.bind(this),helper:function(e,i){var n=i.children(),r=i.clone();return r.children().each(function(e){t(this).width(n.eq(e).width())}),r}}),this.renderExtensions()},updateAttributeOrders:function(){var i=e.reduce(this.$(".attribute-group"),function(t,i,n){var r=e.extend({},t);return r[i.dataset.attributeGroupCode]=n,r},{});t.ajax({url:a.generate("pim_enrich_attributegroup_rest_sort"),type:"PATCH",data:JSON.stringify(i)}).then(function(t){this.attributeGroups=t,r.getFetcher("attribute-group").clear(),this.render()}.bind(this))},redirectToGroup:function(t){s.redirectToRoute("pim_enrich_attributegroup_edit",{identifier:t.target.dataset.attributeGroupCode})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(35),i(385)],void 0===(r=function(t,e){return t.extend({remover:e})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(35),i(386)],void 0===(r=function(t,e){return t.extend({remover:e})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(59),i(12),i(396),i(37),i(10),i(6),i(7),i(11)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c,u){return n.extend({updateSuccessMessage:i("pim_enrich.entity.channel.flash.update.success"),updateFailureMessage:i("pim_enrich.entity.channel.flash.update.fail"),createSuccessMessage:i("pim_enrich.entity.channel.flash.create.success"),createFailureMessage:i("pim_enrich.entity.channel.flash.create.fail"),postSave:function(t){this.getRoot().trigger("pim_enrich:form:entity:post_save");var e=this.getFormData().code;return t?void r.notify("success",this.updateSuccessMessage):(r.notify("success",this.createSuccessMessage),void u.redirectToRoute(this.config.redirectUrl,{code:e}))},save:function(){var i=t.extend(!0,{},this.getFormData()),n=null,r=!1,a="POST";return e.has(i.meta,"id")&&(n=i.code,r=!0,a="PUT"),delete i.meta,this.showLoadingMask(),this.getRoot().trigger("pim_enrich:form:entity:pre_save"),o.save(n,i,a).then(function(t){this.setData(t),this.getRoot().trigger("pim_enrich:form:entity:post_fetch",t),this.postSave(r)}.bind(this)).fail(this.fail.bind(this)).always(this.hideLoadingMask.bind(this))}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(3),i(5),i(410),i(17)],void 0===(r=function(t,e,i,n,r,o){return n.extend({className:"AknFieldContainer",template:e.template(o),configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:bad_request",this.render.bind(this)),n.prototype.configure.apply(this,arguments)},render:function(){return this.configured?(r.getFetcher("currency").fetchAll().then(function(t){this.$el.html(this.template({currentCurrencies:this.getFormData().currencies,currencies:t,errors:this.getParent().getValidationErrorsForField("currencies"),label:i("pim_enrich.entity.currency.plural_label"),requiredLabel:i("pim_common.required_label")})),this.$(".select2").select2().on("change",this.updateState.bind(this)),this.renderExtensions()}.bind(this)),this):this},updateState:function(t){this.setCurrencies(t.val)},setCurrencies:function(t){null===t&&(t=[]);var e=this.getFormData();e.currencies=t,this.setData(e)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(3),i(5),i(411),i(17)],void 0===(r=function(t,e,i,n,r,o){return n.extend({className:"AknFieldContainer",template:e.template(o),initialLocales:null,locales:null,configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:bad_request",this.render.bind(this)),this.listenTo(this.getRoot(),"pim_enrich:form:entity:post_save",this.setCurrentLocales.bind(this)),this.initialLocales=this.getFormData().locales,n.prototype.configure.apply(this,arguments)},render:function(){return this.configured?(r.getFetcher("locale").fetchAll().then(function(t){this.locales=t,this.$el.html(this.template({currentLocales:this.getFormData().locales,locales:t,label:i("pim_enrich.entity.locale.plural_label"),requiredLabel:i("pim_common.required_label"),errors:this.getParent().getValidationErrorsForField("locales")})),this.$(".select2").select2().on("change",this.updateState.bind(this)),this.renderExtensions()}.bind(this)),this):this},updateState:function(t){var i=[];e.each(t.val,function(t){i.push(e.find(this.locales,function(e){return e.code===t}))}.bind(this)),this.setLocales(i)},setLocales:function(t){var e=this.getFormData();e.locales=t,this.setData(e)},setCurrentLocales:function(){var t=this.initialLocales,i=this.getFormData().locales;e.isEqual(t,i)||(this.getRoot().trigger("pim_enrich:form:entity:locales_updated"),this.initialLocales=i)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(3),i(5),i(412),i(6),i(10),i(17)],void 0===(r=function(t,e,i,n,r,o,a,s){return n.extend({className:"AknFieldContainer",template:e.template(o),catalogLocale:a.get("catalogLocale"),initialize:function(t){return this.config=t.config,n.prototype.initialize.apply(this,arguments)},render:function(){return this.configured?(r.getFetcher("category").fetchAll().then(function(t){if(0===this.getFormData().category_tree.length){var n=this.getFormData();n.category_tree=e.first(t).code,this.setData(n,{silent:!0})}this.$el.html(this.template({categoryTree:this.getFormData().category_tree,categories:t,catalogLocale:this.catalogLocale,label:i("pim_enrich.entity.channel.property.category_tree"),requiredLabel:i("pim_common.required_label"),defaulValueLabel:i("pim_enrich.entity.channel.property.label_category_tree"),errors:this.getParent().getValidationErrorsForField("category"),i18n:s})),this.$(".select2").select2().on("change",this.updateState.bind(this)),this.renderExtensions()}.bind(this)),this):this},updateState:function(t){this.setCategory(t.currentTarget.value)},setCategory:function(t){var e=this.getFormData();e.category_tree=t,this.setData(e)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(3),i(5),i(413),i(6),i(10),i(17)],void 0===(r=function(t,e,i,n,r,o,a,s){return n.extend({className:"tabsection",template:e.template(o),catalogLocale:a.get("catalogLocale"),config:null,initialize:function(t){this.config=t.config,n.prototype.initialize.apply(this,arguments)},render:function(){return this.configured?(t.when(r.getFetcher("attribute").search({types:"pim_catalog_metric"}),r.getFetcher("measure").fetchAll()).then(function(t,e){this.$el.html(this.template({conversionUnits:this.getFormData().conversion_units,metrics:t,measures:e,catalogLocale:this.catalogLocale,label:i(this.config.label),fieldBaseId:this.config.fieldBaseId,doNotConvertLabel:i("pim_enrich.entity.channel.property.do_not_convert"),i18n:s,__:i,__:i})),this.$(".select2").select2().on("change",this.updateState.bind(this)),this.renderExtensions()}.bind(this)),this):this},updateState:function(t){this.setAttributeConversionUnit(t.currentTarget.id.replace(this.config.fieldBaseId,""),t.currentTarget.value)},setAttributeConversionUnit:function(t,i){var n=this.getFormData();e.isEmpty(n.conversion_units)&&(n.conversion_units={}),"no_conversion"===i?delete n.conversion_units[t]:n.conversion_units[t]=i,this.setData(n)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(35),i(387)],void 0===(r=function(t,e){return t.extend({remover:e})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(59),i(12),i(397),i(37),i(10),i(6),i(26)],void 0===(r=function(t,e,i,n,r,o,a,s,l){return n.extend({updateSuccessMessage:i("pim_enrich.entity.family.flash.update.success"),updateFailureMessage:i("pim_enrich.entity.family.flash.update.fail"),save:function(){var n=t.extend(!0,{},this.getFormData());n.attributes=e.pluck(n.attributes,"code"),delete n.meta;var c=a.getNotReadyFields();if(!(0<c.length))return this.showLoadingMask(),this.getRoot().trigger("pim_enrich:form:entity:pre_save"),o.save(n.code,n,"PUT").then(function(t){this.postSave(),this.setData(t),this.getRoot().trigger("pim_enrich:form:entity:post_fetch",t)}.bind(this)).fail(this.fail.bind(this)).always(this.hideLoadingMask.bind(this));var u=e.map(c,function(t){return s.getLabel(t.attribute.label,l.get("catalogLocale"),t.attribute.code)});r.notify("error",i("pim_enrich.entity.family.flash.update.fields_not_ready",{fields:u.join(", ")}))}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(3),i(9),i(101),i(2),i(6),i(203),i(415)],void 0===(r=function(t,e,i,n,r,o,a,s){return e.extend({template:t.template(s),className:"tabbable variant",variantGrid:null,initialize:function(i){return this.config=t.extend({},i.config),this.config.modelDependent=!1,e.prototype.initialize.apply(this,arguments)},configure:function(){return this.trigger("tab:register",{code:this.config.tabCode?this.config.tabCode:this.code,label:r(this.config.title)}),this.listenTo(this.getRoot(),"pim_enrich.entity.family.family_variant.post_create",t=>{i.trigger(`datagrid:doRefresh:${this.config.gridName}`),a.createModal(t.code,"family-variant")}),e.prototype.configure.apply(this,arguments)},render:function(){this.variantGrid||(this.variantGrid=new n(this.config.gridName,{family_id:this.getFormData().meta.id,localeCode:o.get("uiLocale")})),this.$el.html(this.template()),this.renderExtensions(),this.getZone("grid").appendChild(this.variantGrid.render().el)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(3),i(416)],void 0===(r=function(t,e,i,n){return i.extend({className:"input",template:t.template(n),errors:[],initialize:function(t){this.config=t.config},configure:function(){return i.prototype.configure.apply(this,arguments)},render:function(){return this.configured?(this.$el.html(this.template({fieldName:this.config.fieldBaseId+"code",className:"family-code",value:this.getFormData().code,errors:[],label:e(this.config.label),requiredLabel:e("pim_common.required_label"),isRequired:!0,isReadOnly:!0})),void this.renderExtensions()):this}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(3),i(5),i(10),i(6),i(26),i(417),i(17)],void 0===(r=function(t,e,i,n,r,o,a,s,l){return n.extend({className:"AknFieldContainer",template:e.template(l),errors:[],catalogLocale:a.get("catalogLocale"),initialize:function(t){this.config=t.config},configure:function(){return n.prototype.configure.apply(this,arguments)},render:function(){return this.configured?(this.$el.html(this.template({i18n:o,catalogLocale:this.catalogLocale,attributes:e.filter(this.getFormData().attributes,function(t){return"pim_catalog_text"===t.type||"pim_catalog_identifier"===t.type}),currentAttribute:this.getFormData().attribute_as_label,fieldBaseId:this.config.fieldBaseId,errors:this.errors,label:i(this.config.label),requiredLabel:i("pim_common.required_label"),isReadOnly:!s.isGranted("pim_enrich_family_edit_properties")})),this.$(".select2").select2().on("change",this.updateState.bind(this)),void this.renderExtensions()):this},updateState:function(t){var e=this.getFormData();e.attribute_as_label=t.currentTarget.value,this.setData(e)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(3),i(5),i(10),i(6),i(26),i(418),i(17)],void 0===(r=function(t,e,i,n,r,o,a,s,l){return n.extend({className:"AknFieldContainer",template:e.template(l),errors:[],catalogLocale:a.get("catalogLocale"),initialize:function(t){this.config=t.config},render:function(){return this.configured?void this.getAvailableAttributes().then(function(t){this.$el.html(this.template({i18n:o,catalogLocale:this.catalogLocale,attributes:t,currentAttribute:this.getFormData().attribute_as_image,fieldBaseId:this.config.fieldBaseId,errors:this.errors,label:i(this.config.label),emptyLabel:i(this.config.emptyLabel),isReadOnly:!s.isGranted("pim_enrich_family_edit_properties")})),this.$(".select2").select2().on("change",this.updateState.bind(this)),this.renderExtensions()}.bind(this)):this},updateState:function(t){var e=this.getFormData(),i=t.currentTarget.value;e.attribute_as_image="no_attribute_as_image"===i?null:t.currentTarget.value,this.setData(e)},getAvailableAttributes:function(){var t=this.getFormData().attributes.filter(t=>this.config.validAttributeTypes.includes(t.type)),i=e.pluck(t,"code");return r.getFetcher("attribute").fetchByIdentifiers(i).then(function(t){return e.where(t,{scopable:!1,localizable:!1})})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(419),i(26)],void 0===(r=function(t,e){return t.extend({isReadOnly:function(){return!e.isGranted("pim_enrich_family_edit_properties")}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(205)],void 0===(r=function(t,e,i,n){return n.extend({className:"AknButtonList-item add-attribute-group"})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(3),i(428)],void 0===(r=function(t,e,i,n){return i.extend({className:"AknGridToolbar",template:t.template(n),readOnly:!1,initialize:function(t){this.config=t.config,i.prototype.initialize.apply(this,arguments)},configure:function(){this.listenTo(this.getRoot(),"pim_enrich:form:update_read_only",function(t){this.readOnly=t,this.render()}.bind(this)),i.prototype.configure.apply(this,arguments)},render:function(){return this.configured?this.readOnly?(this.$el.empty(),this):(this.$el.html(this.template({})),void this.renderExtensions()):this}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(3),i(5),i(431)],void 0===(r=function(t,e,i,n,r){return i.extend({className:"attributes",template:t.template(r),initialize:function(t){this.config=t.config,i.prototype.initialize.apply(this,arguments)},configure:function(){return this.trigger("tab:register",{code:this.code,label:e(this.config.label)}),i.prototype.configure.apply(this,arguments)},render:function(){return this.configured?(this.$el.html(this.template()),void this.renderExtensions()):this}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(3),i(5),i(23),i(432),i(20)],void 0===(r=function(t,e,i,n,r,o,a){return i.extend({className:"tabsection",template:t.template(o),errors:[],initialize:function(t){this.config=t.config,i.prototype.initialize.apply(this,arguments)},render:function(){this.$el.html(this.template({__:e,sectionTitle:this.config.label,dropZone:this.config.dropZone})),this.renderExtensions()},getValidationErrorsForField:function(t){return r.accessProperty(this.errors,t,[])},setValidationErrors:function(t){this.errors=t.response},resetValidationErrors:function(){this.errors={},this.render()},showLoadingMask:function(){this.loadingMask=new a,this.loadingMask.render().$el.appendTo(this.getRoot().$el).show()},hideLoadingMask:function(){this.loadingMask.hide().$el.remove()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(12),i(3),i(200)],void 0===(r=function(t,e,i,n,r,o){return r.extend({className:"AknButton AknButton--action AknButton--small add-variant",modal:null,events:{click:"openModal"},render(){return this.$el.html(i("pim_enrich.entity.family_variant.module.create.label")),this.delegateEvents(),r.prototype.render.apply(this,arguments)},openModal(){var t={className:"modal modal--fullPage add-family-variant-modal",content:"",cancelText:i("pim_common.cancel"),okText:i("pim_common.create"),okCloses:!1};new o("pim-family-variant-create-form",this.submitForm.bind(this),t,{family:this.getFormData().code}).open()},submitForm(t){return t.saveFamilyVariant().then(t=>{n.notify("success",e.__("pim_enrich.entity.family_variant.flash.create.success")),this.getRoot().trigger("pim_enrich.entity.family.family_variant.post_create",t)})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(7),i(3),i(433)],void 0===(r=function(t,e,i,n,r,o){return r.extend({template:e.template(o),render(){this.$el.html(this.template({okLabel:i("pim_common.create")})),this.renderExtensions()},saveFamilyVariant(){return this.trigger("pim_enrich:form:entity:pre_save"),t.post(n.generate("pim_enrich_family_variant_rest_create"),JSON.stringify(this.getFormData())).fail(t=>{this.trigger("pim_enrich:form:entity:validation_error",t.responseJSON)})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(10),i(6),i(5),i(3),i(434)],void 0===(r=function(t,e,i,n,r,o,a){return o.extend({template:t.template(a),render(){var t=n.get("catalogLocale");r.getFetcher("family").fetch(this.getFormData().family).then(n=>{this.$el.html(this.template({__:e,familyName:i.getLabel(n.labels,t,n.code)}))})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(6),i(5),i(28),i(3),i(435)],void 0===(r=function(t,e,i,n,r,o,a,s){return a.extend({template:e.template(s),queryTimer:null,validationErrors:[],events:{'change select, input[name="code"], input[name="label"]':function(){this.updateModel(),this.render()}},configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:pre_save",this.resetValidationErrors.bind(this)),this.listenTo(this.getRoot(),"pim_enrich:form:entity:validation_error",this.setValidationErrors.bind(this)),this.listenTo(this.getRoot(),"pim_enrich:form:entity:validation_error",this.render.bind(this)),this.setData(this.getNewFamilyVariant()),a.prototype.configure.apply(this,arguments)},render(){var t=n.get("catalogLocale"),r=e.defaults(this.getFormData(),this.getNewFamilyVariant()),o=this.getEntityLabel(r,t),a=r.variant_attribute_sets[0].axes.join(","),s=r.variant_attribute_sets[1]?r.variant_attribute_sets[1].axes.join(","):"",l=this.validationErrors.filter(t=>!0===t.global||void 0===t.path||"variant_attribute_sets"===t.path),c=e.groupBy(this.validationErrors,"path");this.$el.html(this.template({__:i,familyVariant:r,catalogLocale:t,axes1:a,axes2:s,label:o,globalErrors:l,fieldErrors:c})),this.initializeSelectWidgets()},initializeSelectWidgets(){var i=this.$('input[type="hidden"]');e.each(i,e=>{var i=t(e),n={dropdownCssClass:"",closeOnSelect:!1,multiple:!0,query:this.queryAvailableAxes.bind(this),initSelection:this.initSelection.bind(this)};o.init(i,n).on("change",()=>{this.updateModel()})})},queryAvailableAxes(t){var i=this.getFormData().family;clearTimeout(this.queryTimer),this.queryTimer=setTimeout(()=>{r.getFetcher("family").fetchAvailableAxes(i).then(i=>{var r=n.get("catalogLocale"),o=this.searchOnResults(t.term,i),a=e.map(o,t=>{var e=this.getEntityLabel(t,r);return{id:t.code,text:e}}),s=e.sortBy(a,"text");t.callback({results:s})})},400)},searchOnResults(t,e){var i=n.get("catalogLocale");return t=t.toLowerCase(),e.filter(e=>{return-1!==this.getEntityLabel(e,i).toLowerCase().search(t)})},initSelection:function(i,o){var a=i.val().split(","),s=n.get("catalogLocale"),l=e.map(a,t=>r.getFetcher("attribute").fetch(t).promise());t.when.apply(t,l).then(function(){var t=e.map(arguments,t=>{var e=this.getEntityLabel(t,s);return{id:t.code,text:e}});o(t)}.bind(this))},updateModel(){var t=n.get("catalogLocale"),i=e.compact(this.$('input[name="axes1"]').val().split(",")),r=parseInt(this.$('select[name="numberOfLevels"]').val()),o=[];if(o.push({level:1,axes:i,attributes:[]}),1<r){var a=e.compact(this.$('input[name="axes2"]').val().split(","));o.push({level:2,axes:a,attributes:[]})}var s={};s[t]=this.$('input[name="label"]').val(),this.setData({code:this.$('input[name="code"]').val(),labels:s,variant_attribute_sets:o})},getNewFamilyVariant:()=>({code:"",labels:{[n.get("catalogLocale")]:""},variant_attribute_sets:[{level:1,axes:[],attributes:[]}]}),resetValidationErrors(){this.validationErrors=[]},setValidationErrors(t){this.validationErrors=t},getEntityLabel:(t,e)=>0===t.labels.length||void 0===t.labels[e]?"["+t.code+"]":t.labels[e]})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(3),i(10),i(6),i(5),i(19),i(436),i(437)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c){var u=(t,e)=>t.sort_order-e.sort_order,d=(t,e)=>(i,n)=>Object.values(e).sort(u).map(e=>{var r=t.filter(t=>t.group===e.code&&-1!==i.indexOf(t.code)).sort(u),o=0===r.filter(t=>!n.includes(t.code)).length;return{attributeGroup:Object.assign({},e,{locked:o}),attributes:r}}).filter(t=>0!==t.attributes.length);return n.extend({events:{"click .delete-attribute":"removeAttributeFromVariantAttributeSet","click .delete-attribute-group":"removeAttributeGroupFromVariantAttributeSet"},template:e.template(l),attributeGroupTemplate:e.template(c),render:function(){if(!this.configured)return this;var e=this.getFormData();return a.getFetcher("family").fetch(e.family).then(i=>{var n=e.variant_attribute_sets.reduce((t,e)=>t.concat(e.attributes),[]),r=n.concat(i.attributes.map(t=>t.code)).filter((t,e,i)=>i.indexOf(t)===e);return t.when(a.getFetcher("attribute-group").fetchAll(),a.getFetcher("attribute").fetchByIdentifiers(r,{rights:0}),n,i)}).then((t,n,a,s)=>{var l=s.attributes.map(t=>t.code).filter(t=>-1===a.indexOf(t)),c=e.variant_attribute_sets.map(t=>t.axes).reduce((t,e)=>t.concat(e)),u=s.attributes.filter(t=>{var e=t.unique;return c.includes(t.code)||e}).map(t=>t.code);this.$el.empty().append(this.template({lockedAttributes:u,axesAttributes:c,familyVariant:e,attributeGroups:t,family:s,commonAttributes:l,UserContext:o,i18n:r,__:i,groupAttributes:d(n,t),getAttribute:(t=>e=>t.find(t=>t.code===e))(n),renderSection:(t,e,n)=>this.attributeGroupTemplate({lockedAttributes:u,level:t,movable:n,attributes:e,i18n:r,UserContext:o,__:i,axesAttributes:c})})),this.$("#attributes-column-level-0,\n                            #attributes-column-level-1,\n                            #attributes-column-level-2").sortable({connectWith:".connected-sortable",tolerance:"pointer",cursor:"move",cancel:"div.alert",items:".movable",receive:this.moveAttribute(u)}).disableSelection(),this.$("#attribute-groups-column-level-0,\n                            #attribute-groups-column-level-1,\n                            #attribute-groups-column-level-2").sortable({connectWith:".connected-group-sortable",tolerance:"pointer",cursor:"move",cancel:"div.alert",items:".movable-group",receive:this.moveAttributes(u)}).disableSelection(),this.renderExtensions(),this.delegateEvents()}),this},moveAttribute(t){return(e,i)=>{var n=parseInt(i.sender[0].dataset.level),r=parseInt(i.item[0].parentNode.dataset.level),o=[i.item[0].dataset.attributeCode].filter(e=>!t.includes(e));this.handleAttributesMove(n,r,o)}},moveAttributes(t){return(e,i)=>{var n=parseInt(i.item[0].parentNode.dataset.level),r=parseInt(i.sender[0].dataset.level),o=Object.values(i.item[0].querySelectorAll("li")).map(t=>t.dataset.attributeCode).filter(e=>!t.includes(e));this.handleAttributesMove(r,n,o)}},removeAttributeFromVariantAttributeSet(e){var i=t(e.currentTarget.parentElement),n=i.closest("[data-level]").data("level"),r=[i.data("attribute-code")];this.handleAttributesRemoval(n,r)},removeAttributeGroupFromVariantAttributeSet(e){var i=t(e.currentTarget).parents(".attribute-group-section"),n=i.parent().data("level"),r=i.find(".attribute.deletable").toArray().map(t=>t.dataset.attributeCode);this.handleAttributesRemoval(n,r)},handleAttributesMove(t,e,i){if(t>=e)this.render();else{var n=this.getFormData();n.variant_attribute_sets.forEach(n=>(n.level===t&&(n.attributes=n.attributes.filter(t=>-1===i.indexOf(t))),n.level===e&&n.attributes.push(...i),n)),this.setData(n),this.render()}},handleAttributesRemoval(t,e){s.confirm(i("pim_enrich.entity.family_variant.module.edit.confirm_attribute_removal_message"),i("pim_enrich.entity.family_variant.module.edit.confirm_attribute_removal_title"),()=>{var i=this.getFormData();i.variant_attribute_sets.forEach(i=>{i.level===t&&(i.attributes=i.attributes.filter(t=>-1===e.indexOf(t)))}),this.setData(i),this.render()},null,null,null,"families")}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(3),i(438)],void 0===(r=function(t,e,i,n){return i.extend({render:function(){this.$el.html(t.template(n)({__:e,familyVariant:this.getFormData()})),this.renderExtensions()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(59),i(12),i(398),i(37),i(10),i(6),i(9)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c){return n.extend({updateSuccessMessage:i("pim_enrich.entity.family_variant.flash.update.success"),updateFailureMessage:i("pim_enrich.entity.family_variant.flash.update.fail"),save:function(){var n=t.extend(!0,{},this.getFormData());delete n.meta;var u=a.getNotReadyFields();if(!(0<u.length))return this.showLoadingMask(),this.getRoot().trigger("pim_enrich:form:entity:pre_save"),o.save(n.code,n,"PUT").then(function(t){this.postSave(),this.setData(t),this.getRoot().trigger("pim_enrich:form:entity:post_fetch",t),this.getRoot().trigger("pim_enrich:form:entity:post_save",t),c.trigger("datagrid:doRefresh:family-variant-grid")}.bind(this)).fail(this.fail.bind(this)).always(this.hideLoadingMask.bind(this));var d=e.map(u,function(t){return s.getLabel(t.attribute.label,l.get("catalogLocale"),t.attribute.code)});r.notify("error",i("pim_enrich.entity.family_variant.info.field_not_ready",{fields:d.join(", ")}))}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(35),i(388)],void 0===(r=function(t,e){return t.extend({remover:e})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(206),i(402)],void 0===(r=function(t,e){return t.extend({getJobInstanceSaver:function(){return e}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(206),i(403)],void 0===(r=function(t,e){return t.extend({getJobInstanceSaver:function(){return e}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(3),i(439)],void 0===(r=function(t,e,i){return e.extend({className:"AknButtonList",template:t.template(i),actions:[],events:{"click .switcher-action":"switch"},currentActionCode:null,configure:function(){return this.actions=[],this.listenTo(this.getRoot(),"switcher:register",this.registerAction),e.prototype.configure.apply(this,arguments)},render:function(){if(!t.isEmpty(this.actions))return null===this.currentActionCode&&this.setCurrentActionCode(t.first(this.actions).code),this.$el.empty().append(this.template({actions:this.actions,current:this.currentActionCode})),e.prototype.render.apply(this,arguments)},registerAction:function(t){this.actions.push(t),this.render()},switch:function(t){this.setCurrentActionCode(t.target.dataset.code),this.render()},setCurrentActionCode:function(t){this.currentActionCode=t,this.getRoot().trigger("switcher:switch",{code:t})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(2),i(3)],void 0===(r=function(t,e){return e.extend({visible:!1,initialize:function(t){this.config=t.config,e.prototype.initialize.apply(this,arguments)},configure:function(){return this.listenTo(this.getRoot(),"switcher:switch",this.switch),this.getRoot().trigger("switcher:register",{label:t(this.config.label),code:this.code}),e.prototype.configure.apply(this,arguments)},render:function(){return this.$el.empty(),this.visible?e.prototype.render.apply(this,arguments):void this.delegateEvents()},switch:function(t){this.visible=t.code===this.code,this.render()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(117),i(6)],void 0===(r=function(t,e){return t.extend({getLabel:function(){var t=this.getFormData().meta;return t&&t.label?t.label[e.get("catalogLocale")]:null}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(11),i(3),i(10),i(6),i(440)],void 0===(r=function(t,e,i,n,r,o,a){return n.extend({className:"AknDropdown AknButtonList-item",template:t.template(a),events:{"click .missing-attribute":"showAttribute"},configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:scope_switcher:change",function(t){"base_product"===t.context&&this.renderCompleteness({scope:t.scopeCode})}.bind(this)),this.listenTo(this.getRoot(),"pim_enrich:form:locale_switcher:change",function(t){"base_product"===t.context&&this.renderCompleteness({locale:t.localeCode})}.bind(this)),this.listenTo(this.getRoot(),"pim_enrich:form:entity:post_fetch",this.renderCompleteness.bind(this)),n.prototype.configure.apply(this,arguments)},render:function(){return this.renderCompleteness(),n.prototype.render.apply(this,arguments)},renderCompleteness:function(t){var i=Object.assign({},{locale:o.get("catalogLocale"),scope:o.get("catalogScope")},t);this.$el.empty();var n=this.getCurrentRatio(i);return null===n?this.$el.remove():this.$el.append(this.template({__:e,label:e("pim_enrich.entity.product.module.completeness.complete"),ratio:n,completenesses:this.getCurrentCompletenesses(i.scope),badgeClass:this.getBadgeClass(i),currentLocale:i.locale,missingValues:"pim_enrich.entity.product.module.completeness.missing_values",i18n:r})),this},getCurrentCompletenesses:function(e){return t.findWhere(this.getFormData().meta.completenesses,{channel:e})},getCurrentRatio:function(t){var e=this.getCurrentCompletenesses(t.scope);if(void 0===e)return null;var i=e.locales[t.locale];return void 0===i?null:Math.round(i.completeness.ratio)},getBadgeClass:function(t){var e=this.getCurrentRatio(t);return 0>=e?"AknBadge--important":100<=e?"AknBadge--enabled":"AknBadge--warning"},showAttribute:function(t){this.getRoot().trigger("pim_enrich:form:locale_switcher:change",{localeCode:t.currentTarget.dataset.locale,context:"base_product"});var e=this.getFormData(),i=e.meta.family_variant,n=t.currentTarget.dataset.attribute;if(null!==i&&!e.meta.attributes_for_this_level.includes(n)){var r=e.meta.variant_navigation[0].selected.id,a=e.meta.parent_attributes.includes(n),s=3===e.meta.variant_navigation.length;return a&&s&&(r=e.meta.variant_navigation[1].selected.id),void this.redirectToModel(r)}this.getRoot().trigger("pim_enrich:form:show_attribute",{attribute:t.currentTarget.dataset.attribute,locale:t.currentTarget.dataset.locale,scope:o.get("catalogScope")}),this.renderCompleteness()},redirectToModel:function(t){sessionStorage.setItem("filter_missing_required_attributes",!0),i.redirectToRoute("pim_enrich_product_model_edit",{id:t})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(11),i(3),i(6),i(89),i(441)],void 0===(r=function(t,e,i,n,r,o,a){return n.extend({className:"AknButtonList-item",template:t.template(a),events:{"click .required-attribute-indicator":"filterRequiredAttributes"},configure:function(){return this.listenTo(r,"change:catalogLocale change:catalogScope",this.render),this.listenTo(this.getRoot(),"pim_enrich:form:entity:post_fetch",this.render.bind(this)),n.prototype.configure.apply(this,arguments)},render:function(){this.$el.empty();var t=this.getFormData(),i=r.get("catalogScope"),n=r.get("catalogLocale"),a=o.getMissingRequiredFields(t,i,n);return 0<a.length&&this.$el.append(this.template({__:e,missingRequiredAttributesCount:a.length,missingValues:"pim_enrich.entity.product.module.completeness.missing_values"})),this},filterRequiredAttributes:function(){this.getRoot().trigger("pim_enrich:form:switch_values_filter","missing_required")}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(3),i(442)],void 0===(r=function(t,e,i,n){return i.extend({className:"AknDropdown AknButtonList-item nav nav-tabs attribute-filter",template:t.template(n),events:{"click .AknDropdown-menuLink":"onChange"},configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:switch_values_filter",this.setCurrent.bind(this)),i.prototype.configure.apply(this,arguments)},render(){var t=this.getCurrentFilter();this.$el.html(this.template({filters:this.getFilters().filter(t=>"function"!=typeof t.isVisible||t.isVisible()).map(t=>({code:t.getCode(),label:t.getLabel()})),currentFilter:{code:t.getCode(),label:t.getLabel()},__:e})),this.delegateEvents()},filterValues(t){return this.getCurrentFilter().filterValues(t)},getFilters(){return Object.values(this.extensions)},getCurrentFilter(){var t=sessionStorage.getItem("current_attribute_filter"),e=this.getFilters().find(e=>t===e.getCode());return void 0!==e&&e.isVisible()?e:this.getFilters()[0]},onChange(t){this.setCurrent(t.currentTarget.dataset.code)},setCurrent(t){t===sessionStorage.getItem("current_attribute_filter")||(sessionStorage.setItem("current_attribute_filter",t),this.trigger("attribute_filter:change"),this.$el.removeClass("open"))}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(2),i(3)],void 0===(r=function(t,e,i){return i.extend({getCode:()=>"all",getLabel:()=>e("pim_enrich.entity.product.module.attribute_filter.all"),isVisible:()=>!0,filterValues:e=>t.Deferred().resolve(e).promise()})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(3),i(89),i(6)],void 0===(r=function(t,e,i,n,r,o){return n.extend({getCode:()=>"missing_required",getLabel:()=>i("pim_enrich.entity.product.module.attribute_filter.missing_required"),isVisible:()=>!0,filterValues(i){var n=o.get("catalogScope"),a=o.get("catalogLocale"),s=r.getMissingRequiredFields(this.getFormData(),n,a),l=e.pick(i,s);return t.Deferred().resolve(l).promise()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(3)],void 0===(r=function(t,e,i,n){return n.extend({getCode:()=>"at-this-level",getLabel:()=>i("pim_enrich.entity.product.module.attribute_filter.at_this_level"),isVisible(){var t=this.getFormData().meta;return null!==t.level&&0<t.level},filterValues(i){var n=e.pick(i,this.getFormData().meta.attributes_for_this_level);return t.Deferred().resolve(n).promise()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(8),i(3),i(9),i(12),i(37),i(443),i(6)],void 0===(r=function(t,e,i,n,r,o,a,s,l){return n.extend({validationErrors:{},configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:pre_save",this.onPreSave),this.listenTo(this.getRoot(),"pim_enrich:form:entity:bad_request",this.onValidationError),this.listenTo(this.getRoot(),"pim_enrich:form:field:extension:add",this.addFieldExtension),n.prototype.configure.apply(this,arguments)},onPreSave:function(){this.validationErrors={}},onValidationError:function(t){this.validationErrors=t.response;var i=e.where(this.validationErrors.values,{global:!0});e.each(i,function(t){o.notify("error",t.message)}),this.getRoot().trigger("pim_enrich:form:entity:validation_error",t)},addFieldExtension:function(t){var i=t.field,n=e.uniq(this.validationErrors.values,function(t){return JSON.stringify(t)}),r=e.where(n,{attribute:i.attribute.code});e.isEmpty(r)||this.addErrorsToField(i,r)},addErrorsToField:function(t,e){t.addElement("footer","validation",new s(e,this)),t.setValid(!1)},changeContext:function(t,e){t&&l.set("catalogLocale",t),e&&l.set("catalogScope",e)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(3)],void 0===(r=function(t,e,i,n){return n.extend({configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:field:extension:add",this.addFieldExtension),n.prototype.configure.apply(this,arguments)},addFieldExtension:function(t){var i=t.field;if(i.attribute.is_locale_specific)return e.contains(i.attribute.available_locales,i.context.locale)?i.removeElement("field-input","input_placeholder"):this.updateFieldElements(i),this},updateFieldElements:function(t){var e=i("pim_enrich.entity.product.module.attribute.locale_specific_unavailable");t.addElement("field-input","input_placeholder",'<span class="AknFieldContainer-unavailable">'+e+"</span>")}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(3),i(207)],void 0===(r=function(t,e,i,n){return i.extend({template:e.template(n),readOnly:!1,configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:field:extension:add",this.addFieldExtension),this.listenTo(this.getRoot(),"pim_enrich:form:update_read_only",function(t){this.readOnly=t}.bind(this)),i.prototype.configure.apply(this,arguments)},addFieldExtension:function(t){this.isAttributeEditable()||t.field.setEditable(!1)},isAttributeEditable:function(){return!this.readOnly}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(3),i(5),i(6),i(89)],void 0===(r=function(t,e,i,n,r,o){return i.extend({configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:field:extension:add",this.addFieldExtension),i.prototype.configure.apply(this,arguments)},addFieldExtension:function(t){var i=r.get("catalogScope"),n=r.get("catalogLocale"),a=o.getMissingRequiredFields(this.getFormData(),i,n),s=t.field;e.contains(a,s.attribute.code)&&s.addElement("badge","completeness",'<span class="AknBadge AknBadge--small AknBadge--highlight"></span>')}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(3),i(5)],void 0===(r=function(t,e,i,n){return i.extend({configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:field:extension:add",this.addFieldExtension),i.prototype.configure.apply(this,arguments)},addFieldExtension:function(t){var e=t.field;if(e.attribute.localizable){var i=n.getFetcher("channel").fetch(e.context.scope).then(function(t){this.channelHasLocale(t,e.context.locale)||this.updateFieldElements(e.context,e)}.bind(this));return t.promises.push(i),this}},channelHasLocale:function(t,i){return e.contains(e.pluck(t.locales,"code"),i)},updateFieldElements:function(t,i){var n=e.__("pim_enrich.entity.product.module.attribute.locale_unavailable",{channel:t.scope,locale:t.locale});i.addElement("field-input","input_placeholder",'<span class="AknFieldContainer-unavailable">'+n+"</span>")}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(8),i(3),i(445),i(447),i(446),i(6),i(7),i(201),i(9)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c,u,d){return r.extend({template:e.template(o),switcherTemplate:e.template(a),lockedTemplate:e.template(s),className:"tab-pane active",id:"product-categories",treeLinkSelector:"tree-link-",treeHasItemClass:"tree-has-item",events:{"click .nav-tabs li":"changeTree","change #hidden-tree-input":"updateModel"},treeAssociate:null,cache:{},trees:[],onLoadedEvent:null,categoriesCount:{},initialize:function(t){this.state=new n.Model,this.state.set("selectedCategories",[]),void 0!==t&&(this.config=t.config),r.prototype.initialize.apply(this,arguments)},configure:function(){return this.trigger("tab:register",{code:void 0===this.config.tabCode?this.code:this.config.tabCode,isVisible:this.isVisible.bind(this),label:i("pim_enrich.entity.category.plural_label")}),this.listenTo(this.getRoot(),"pim_enrich:form:locale_switcher:change",function(t){"base_product"===t.context&&this.render()}.bind(this)),r.prototype.configure.apply(this,arguments)},render:function(){return this.loadTrees().done(function(t){this.trees=t,void 0===this.state.toJSON().currentTree&&(this.state.set("currentTree",e.first(this.trees).code),this.state.set("currentTreeId",e.first(this.trees).id)),this.$el.html(this.template({product:this.getFormData(),locale:l.get("catalogLocale"),state:this.state.toJSON(),trees:this.trees})),this.treeAssociate=new u("#trees","#hidden-tree-input",{list_categories:this.config.itemCategoryListRoute,children:"pim_enrich_categorytree_children"}),this.delegateEvents(),this.onLoadedEvent=this.lockCategories.bind(this),d.on("jstree:loaded",this.onLoadedEvent),this.initCategoryCount(),this.renderCategorySwitcher()}.bind(this)),this},shutdown:function(){d.off("jstree:loaded",this.onLoadedEvent),r.prototype.shutdown.apply(this,arguments)},lockCategories:function(){this.getFormData().meta.ascendant_category_ids.forEach(e=>{var i=t("#node_"+e);i.find("> a").replaceWith(this.lockedTemplate({label:i.find("> a").text().trim()}))})},renderCategorySwitcher:function(){this.$el.find(".catalog-switcher:first").html(this.switcherTemplate({state:this.state.toJSON(),trees:this.trees,categoriesCount:this.categoriesCount,treeLinkSelector:this.treeLinkSelector,currentCategory:e.result(e.findWhere(this.trees,{code:this.state.toJSON().currentTree}),"label")}))},loadTrees:function(){return t.getJSON(c.generate(this.config.itemCategoryTreeRoute,{id:this.getFormData().meta.id})).then(function(t){return e.each(t.categories,function(t){this.cache[t.id]=t}.bind(this)),e.isEmpty(this.state.get("selectedCategories"))&&this.state.set("selectedCategories",e.pluck(t.categories,"id")),t.trees}.bind(this))},changeTree:function(t){this.state.set("currentTree",t.currentTarget.dataset.tree),this.state.set("currentTreeId",t.currentTarget.dataset.treeId),this.treeAssociate.switchTree(t.currentTarget.dataset.treeId),this.renderCategorySwitcher()},updateModel:function(t){var i=e.filter(t.currentTarget.value.split(","),e.identity);this.state.set("selectedCategories",i);var n=this.state.get("currentTree");this.categoriesCount[n]=this.$("li[data-code="+n+"] .jstree-checked").length,this.renderCategorySwitcher();var r=e.map(i,this.getCategoryCode.bind(this));this.getFormModel().set("categories",r),d.trigger("pim_enrich:form:entity:update_state")},initCategoryCount:function(){e.each(this.trees,function(t){var i=[],n=this.$("#hidden-tree-input").val();n=0<n.length?n.split(","):[],e.each(n,function(t){i.push(this.cache[t])}.bind(this)),this.categoriesCount[t.code]=e.where(i,{rootId:t.id}).length}.bind(this))},getCategoryCode:function(t){if(!this.cache[t]){var e=this.$("#node_"+t),i=e.closest(".root-unselectable");this.cache[t]={code:e.data("code")+"",rootId:i.data("tree-id")}}return this.cache[t].code},isVisible:function(){return!0}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(8),i(3),i(448),i(449),i(74),i(5),i(66),i(6),i(7),i(9),i(110),i(87),i(46),i(31),i(14),i(26)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c,u,d,p,h,f,m,g,v,b){var y={};return r.extend({template:e.template(o),panesTemplate:e.template(a),modalTemplate:e.template(s),className:"tab-pane active product-associations",events:{"click .associations-list li":"changeAssociationType","click .target-button":"changeAssociationTargets","click .add-associations":"addAssociations"},datagrids:{},config:{},initialize:function(t){this.config=t.config,y={associationTarget:"products"},this.datagrids={products:{name:this.config.datagridName,getInitialParams:function(t){var e={product:this.getFormData().meta.id};return e[this.datagrids.products.paramName]=this.datagrids.products.getParamValue(t),e.dataLocale=u.get("catalogLocale"),e}.bind(this),paramName:"associationType",getParamValue:function(t){return e.findWhere(y.associationTypes,{code:t}).meta.id}.bind(this),getModelIdentifier:function(t){return t.get("identifier")}},groups:{name:"association-group-grid",getInitialParams:function(t){var e={};return e[this.paramName]=this.getParamValue(t),e.dataLocale=u.get("catalogLocale"),e},paramName:"associatedIds",getParamValue:function(t){var e=this.getFormData().meta.associations;return e[t]?e[t].groupIds:[]}.bind(this),getModelIdentifier:function(t){return t.get("code")}}},r.prototype.initialize.apply(this,arguments)},configure:function(){return this.trigger("tab:register",{code:void 0===this.config.tabCode?this.code:this.config.tabCode,isVisible:this.isVisible.bind(this),label:i("pim_enrich.entity.product.module.associations.title")}),e.each(this.datagrids,function(t){p.clear("datagrid:selectModel:"+t.name),p.on("datagrid:selectModel:"+t.name,function(e){this.selectModel(e,t)}.bind(this)),p.clear("datagrid:unselectModel:"+t.name),p.on("datagrid:unselectModel:"+t.name,function(e){this.unselectModel(e,t)}.bind(this))}.bind(this)),this.listenTo(this.getRoot(),"pim_enrich:form:entity:post_update",this.postUpdate.bind(this)),this.listenTo(this.getRoot(),"pim_enrich:form:locale_switcher:change",function(t){"base_product"===t.context&&this.render()}.bind(this)),r.prototype.configure.apply(this,arguments)},render:function(){var t=void 0===this.config.tabCode?this.code:this.config.tabCode;if(this.configured&&t===this.getParent().getCurrentTab())return this.loadAssociationTypes().then(function(t){var n=t.length?e.first(t).code:null;if((null===this.getCurrentAssociationType()||e.isUndefined(e.findWhere(t,{code:this.getCurrentAssociationType()})))&&this.setCurrentAssociationType(n),y.currentAssociationType=n,y.associationTypes=t,this.$el.html(this.template({product:this.getFormData(),locale:u.get("catalogLocale"),associationTypes:t,currentAssociationTarget:this.getCurrentAssociationTarget(),currentAssociationTypeCode:this.getCurrentAssociationType(),currentAssociationType:e.findWhere(t,{code:this.getCurrentAssociationType()}),addAssociationsLabel:i("pim_enrich.entity.product.module.associations.add_associations"),addAssociationVisible:this.isAddAssociationsVisible(),datagridName:this.config.datagridName})),this.renderPanes(),t.length){var r=this.datagrids[this.getCurrentAssociationTarget()];this.renderGrid(r.name,r.getInitialParams(this.getCurrentAssociationType())),this.setListenerSelectors()}this.delegateEvents()}.bind(this)),this},renderPanes:function(){this.loadAssociationTypes().then(function(t){this.setAssociationCount(t),this.$(".tab-content > .association-type").remove(),this.$(".tab-content").prepend(this.panesTemplate({__:i,label:i("pim_enrich.entity.product.module.associations.association_type_selector"),locale:u.get("catalogLocale"),associationTypes:t,currentAssociationType:this.getCurrentAssociationType(),currentAssociationTarget:this.getCurrentAssociationTarget(),numberAssociationLabelKey:"pim_enrich.entity.product.module.associations.number_of_associations",targetLabel:i("pim_enrich.entity.product.module.associations.target"),showProductsLabel:i("pim_enrich.entity.product.module.associations.show_products"),showGroupsLabel:i("pim_enrich.entity.product.module.associations.show_groups")}))}.bind(this))},postUpdate:function(){this.isVisible()&&(this.$(".selection-inputs input").val(""),y.selectedAssociations={},this.render())},setCurrentAssociationType:function(t){sessionStorage.setItem("current_association_type",t)},getCurrentAssociationType:function(){return sessionStorage.getItem("current_association_type")},setCurrentAssociationTarget:function(t){sessionStorage.setItem("current_association_target",t)},getCurrentAssociationTarget:function(){return sessionStorage.getItem("current_association_target")||"products"},loadAssociationTypes:function(){return l.getFetcher("association-type").fetchAll()},setAssociationCount:function(t){var i=this.getFormData().associations;e.each(t,function(t){var e=i[t.code];t.productCount=e&&e.products?e.products.length:0,t.productModelCount=e&&e.product_models?e.product_models.length:0,t.groupCount=e&&e.groups?e.groups.length:0})},changeAssociationType:function(t){t.preventDefault();var e=t.currentTarget.dataset.associationType;this.setCurrentAssociationType(e),this.$(`.AknTitleContainer.association-type[data-association-type="${e}"]`).removeClass("AknTitleContainer--hidden").siblings(".AknTitleContainer.association-type:not(.AknTitleContainer--hidden)").addClass("AknTitleContainer--hidden"),this.renderPanes(),this.updateListenerSelectors();var i=this.datagrids[this.getCurrentAssociationTarget()];p.trigger("datagrid:setParam:"+i.name,i.paramName,i.getParamValue(e)).trigger("datagrid:doRefresh:"+i.name)},changeAssociationTargets:function(i){var n=i.currentTarget.dataset.associationTarget;this.setCurrentAssociationTarget(n),e.each(this.datagrids,function(t,e){var i=e===n?"removeClass":"addClass";this.$("."+t.name)[i]("hide")}.bind(this));var r=i.currentTarget.textContent;t(i.currentTarget).addClass("AknDropdown-menuLink--active").siblings(".target-button").removeClass("AknDropdown-menuLink--active").end().closest(".AknDropdown").find(".AknActionButton-highlight").text(r),this.updateListenerSelectors();var o=this.datagrids[this.getCurrentAssociationTarget()];this.isGridRendered(o)||(this.renderGrid(o.name,o.getInitialParams(this.getCurrentAssociationType())),this.setListenerSelectors())},renderGrid:function(i,n){var r=n;r.alias=i,r.params=e.clone(n);var o=m.get(i,["filters"]);if(null!==o.filters){var a=new f,s=a.decodeStateData(o.filters);a.processFiltersParams(r,s,i+"[_filter]")}t.get(d.generate("pim_datagrid_load",r)).then(function(t){var n=t.metadata,r=n.options.url.split("?"),o=r[0],a=decodeURIComponent(r[1]).replace(/&?association-group-grid\[associatedIds\]\[\d+\]=\d+/g,"").replace(/^&/,"");n.options.url=o+"?"+a,this.$("#grid-"+i).data({metadata:n,data:JSON.parse(t.data)});var s=n.requireJSModules;s.push("pim/datagrid/state-listener"),s.push("oro/datafilter-builder"),s.push("oro/datagrid/pagination-input");var l=[];e.each(s,function(t){l.push(g(t))}),h(l)}.bind(this))},setListenerSelectors:function(){var t=e.pluck(this.datagrids,"name");p.on("column_form_listener:initialized",function i(n){(t=e.without(t,n)).length||(p.off("column_form_listener:initialized",i),this.updateListenerSelectors())}.bind(this))},updateListenerSelectors:function(){var i=this.getCurrentAssociationType(),n=y.selectedAssociations;e.each(this.datagrids,function(e,r){var o=["#",i,"-",r,"-appendfield"].join(""),a=["#",i,"-",r,"-removefield"].join("");n&&n[i]&&n[i][r]&&(t(o).val(n[i][r].select.join(",")),t(a).val(n[i][r].unselect.join(","))),p.trigger("column_form_listener:set_selectors:"+e.name,{included:o,excluded:a})})},selectModel:function(t,i){var n=this.getCurrentAssociationType(),r=this.getDatagridTarget(i),o=this.getCurrentAssociations(i);o.push(i.getModelIdentifier(t)),o=e.uniq(o),this.updateFormDataAssociations(o,n,r),this.updateSelectedAssociations("select",i,t.id)},unselectModel:function(t,e){var i=this.getCurrentAssociationType(),n=this.getDatagridTarget(e),r=n;"products"===n&&(r="product"===t.attributes.document_type?"products":"product_models");var o=this.getFormData().associations[i][r],a=o.indexOf(e.getModelIdentifier(t));-1!==a&&o.splice(a,1),this.updateFormDataAssociations(o,i,r),this.updateSelectedAssociations("unselect",e,t.id)},getCurrentAssociations:function(t){var e=this.getCurrentAssociationType(),i=this.getDatagridTarget(t);return this.getFormData().associations[e][i]},updateSelectedAssociations:function(t,i,n){var r=this.getCurrentAssociationType(),o=this.getDatagridTarget(i),a=y.selectedAssociations||{};a[r]=a[r]||{},a[r][o]||(a[r][o]={select:[],unselect:[]});var s="select"===t?"unselect":"select",l=a[r][o][s].indexOf(n);-1<l?a[r][o][s].splice(l,1):(a[r][o][t].push(n),a[r][o][t]=e.uniq(a[r][o][t])),y.selectedAssociations=a,this.getRoot().trigger("pim_enrich:form:entity:update_state")},updateFormDataAssociations:function(t,e,i){var n=this.getFormData().associations;n[e][i]=t,n[e][i].sort(),this.setData({associations:n},{silent:!0})},isGridRendered:function(t){return 0<this.$(".grid-"+t.name).find('[data-type="datagrid"][data-rendered="true"]').length},getDatagridTarget:function(t){var i=null;return e.each(this.datagrids,function(e,n){e.name===t.name&&(i=n)}),i},isVisible:function(){return!0},isAddAssociationsVisible:function(){return b.isGranted(this.config.aclAddAssociations)},addAssociations:function(){this.launchProductPicker().then(t=>{var e=[],i=[];t.forEach(t=>{var n=t.match(/^product_model_(.*)$/);if(n)i.push(n[1]);else{var r=t.match(/^product_(.*)$/);e.push(r[1])}});var n=this.getCurrentAssociationType(),r=this.getFormData().associations[n].products,o=this.getFormData().associations[n].product_models;this.updateFormDataAssociations(r.concat(e),n,"products"),this.updateFormDataAssociations(o.concat(i),n,"product_models"),this.getRoot().trigger("pim_enrich:form:update-association")})},launchProductPicker:function(){var e=t.Deferred();return v.build("pim-associations-product-picker-form").then(t=>{l.getFetcher("association-type").fetch(this.getCurrentAssociationType()).then(r=>{var o=new n.BootstrapModal({modalOptions:{backdrop:"static",keyboard:!1},okCloses:!1,title:i("pim_enrich.entity.product.module.associations.manage",{associationType:r.labels[u.get("catalogLocale")]}),innerDescription:i("pim_enrich.entity.product.module.associations.manage_description"),content:"",okText:i("pim_common.confirm"),template:this.modalTemplate,innerClassName:"AknFullPage--full"});o.open(),t.setElement(o.$(".modal-body")).render(),o.on("cancel",e.reject),o.on("ok",()=>{var i=t.getItems().sort((t,e)=>t.code<e.code);o.close(),e.resolve(i)})})}),e.promise()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(1),i(305),i(48),i(450),i(9),i(26)],void 0===(r=function(t,e,i,n,r,o,a){return i.extend({thumbnailTemplate:t.template(r),canRemoveAssociation(){var t=a.isGranted("pim_enrich_associations_remove"),e=this.model.get("from_inheritance");return t&&!e},getTemplateOptions(){var t=this.isProductModel(),e=this.model.get("label"),i=this.canRemoveAssociation();return{useLayerStyle:t,label:e,identifier:this.model.get("identifier"),imagePath:this.getThumbnailImagePath(),canRemoveAssociation:i}},render(){i.prototype.render.call(this,arguments);var t=this.renderedRow;t.off("click"),e(".AknIconButton--remove",t).on("click",()=>{o.trigger("datagrid:unselectModel:association-product-grid",this.model),o.trigger("datagrid:unselectModel:association-product-model-grid",this.model),t.remove()})},getRenderableColumns(){return[this.getCompletenessCellType()]}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(3),i(455),i(5),i(10),i(6)],void 0===(r=function(t,e,i,n,r,o,a,s){return n.extend({template:e.template(r),className:"panel-pane completeness-panel AknCompletenessPanel",initialFamily:null,initialize:function(){this.initialFamily=null,n.prototype.initialize.apply(this,arguments)},configure:function(){return this.trigger("tab:register",{code:this.code,label:i("pim_enrich.entity.product.module.completeness.title")}),this.listenTo(this.getRoot(),"pim_enrich:form:entity:post_fetch",this.render),this.listenTo(s,"change:catalogLocale",this.render),n.prototype.configure.apply(this,arguments)},render:function(){return this.configured&&this.code===this.getParent().getCurrentTab()?(this.getFormData().meta&&t.when(o.getFetcher("channel").fetchAll(),o.getFetcher("locale").fetchActivated()).then(function(t,e){null===this.initialFamily&&(this.initialFamily=this.getFormData().family),this.$el.html(this.template({__:i,hasFamily:null!==this.getFormData().family,completenesses:this.sortCompleteness(this.getFormData().meta.completenesses),i18n:a,channels:t,locales:e,catalogLocale:s.get("catalogLocale"),hasFamilyChanged:this.getFormData().family!==this.initialFamily,missingValuesKey:"pim_enrich.entity.product.module.completeness.missing_values",noFamilyLabel:i("pim_enrich.entity.product.module.completeness.no_family"),noCompletenessLabel:i("pim_enrich.entity.product.module.completeness.no_completeness")})),this.delegateEvents()}.bind(this)),this):this},sortCompleteness:function(t){if(e.isEmpty(t))return[];var i=[e.findWhere(t,{channel:s.get("catalogScope")})];return e.union(i,t)},onChangeFamily:function(){if(!e.isEmpty(this.getRoot().model._previousAttributes)){var t=this.getFormData();t.meta.completenesses=[],this.setData(t),this.render()}}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(8),i(3),i(6),i(457),i(7),i(12),i(19)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c){return r.extend({template:e.template(a),className:"panel-pane",comments:[],events:{"keyup .comment-create textarea, .reply-to-comment textarea":"toggleButtons","click .comment-create .send-comment":"saveComment","click .remove-comment":"removeComment","click .comment-thread .send-comment":"saveReply","click .comment-thread .cancel-comment, .comment-create .cancel-comment":"cancelComment"},initialize:function(){this.comment=new n.Model,r.prototype.initialize.apply(this,arguments)},configure:function(){return this.trigger("tab:register",{code:this.code,label:i("pim_comment.product.panel.comment.title")}),r.prototype.configure.apply(this,arguments)},render:function(){return this.configured&&this.code===this.getParent().getCurrentTab()?(this.loadData().done(function(t){this.comments=t,this.$el.html(this.template({__:i,comments:this.comments,username:o.get("username"),emptyLabel:i("pim_comment.index.empty")})),this.delegateEvents()}.bind(this)),this):this},loadData:function(){return t.get(s.generate("pim_enrich_product_comments_rest_get",{id:this.getFormData().meta.id}))},toggleButtons:function(e){var i=t(e.currentTarget).parents(".comment-thread, .comment-create");i.find("textarea").val()?(i.addClass("active"),i.find(".AknButtonList").removeClass("AknButtonList--hide")):(i.removeClass("active"),i.find(".AknButtonList").addClass("AknButtonList--hide"))},cancelComment:function(e){var i=t(e.currentTarget).parents(".comment-thread, .comment-create");i.find("textarea").val(""),i.removeClass("active"),i.find(".AknButtonList").addClass("AknButtonList--hide")},saveComment:function(){t.ajax({type:"POST",url:s.generate("pim_enrich_product_comments_rest_post",{id:this.getFormData().meta.id}),contentType:"application/json",data:JSON.stringify({body:this.$(".comment-create textarea").val()})}).done(function(){this.render(),l.notify("success",i("flash.comment.create.success"))}.bind(this)).fail(function(){l.notify("error",i("flash.comment.create.error"))})},removeComment:function(t){c.confirm(i("confirmation.remove.comment"),i("pim_common.confirm_deletion"),this.doRemove.bind(this,t))},doRemove:function(e){t.ajax({url:s.generate("pim_comment_comment_delete",{id:e.currentTarget.dataset.commentId}),type:"POST",headers:{accept:"application/json"},data:{_method:"DELETE"}}).done(function(){this.render(),l.notify("success",i("flash.comment.delete.success"))}.bind(this)).fail(function(){l.notify("error",i("flash.comment.delete.error"))})},saveReply:function(e){var n=t(e.currentTarget).parents(".comment-thread");t.ajax({type:"POST",url:s.generate("pim_enrich_product_comment_reply_rest_post",{id:this.getFormData().meta.id,commentId:n.data("comment-id")}),contentType:"application/json",data:JSON.stringify({body:n.find("textarea").val()})}).done(function(){n.find("textarea").val(""),this.render(),l.notify("success",i("flash.comment.reply.success"))}.bind(this)).fail(function(){l.notify("error",i("flash.comment.reply.error"))})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(59),i(12),i(399),i(37),i(10),i(6)],void 0===(r=function(t,e,i,n,r,o,a,s,l){return n.extend({updateSuccessMessage:i("pim_enrich.entity.product.flash.update.success"),updateFailureMessage:i("pim_enrich.entity.product.flash.update.fail"),configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:change-family:after",this.save),this.listenTo(this.getRoot(),"pim_enrich:form:update-association",this.save),n.prototype.configure.apply(this,arguments)},save:function(n){var c=t.extend(!0,{},this.getFormData()),u=c.meta.id;delete c.meta;var d=a.getNotReadyFields();if(!(0<d.length))return this.showLoadingMask(),this.getRoot().trigger("pim_enrich:form:entity:pre_save"),o.save(u,c).then(function(t){this.postSave(),this.setData(t,n),this.getRoot().trigger("pim_enrich:form:entity:post_fetch",t)}.bind(this)).fail(this.fail.bind(this)).always(this.hideLoadingMask.bind(this));var p=e.map(d,function(t){return s.getLabel(t.attribute.label,l.get("catalogLocale"),t.attribute.code)});r.notify("error",i("pim_enrich.entity.product.flash.update.fields_not_ready",{fields:p.join(", ")}))}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(8),i(9),i(3),i(458),i(7),i(11),i(5),i(6),i(139),i(75)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c,u,d){var p=(t,e,i)=>t.findIndex(t=>t.id===e&&t.type===i),h=t=>{var e=t.meta.label[u.get("catalogLocale")];return{id:t.meta.id,type:t.meta.model_type,label:e,shortLabel:25<e.length?e.slice(0,22)+"...":e}};return o.extend({id:"sequentialEdit",className:"AknSequentialEdit AknDefault-bottomPanel",template:e.template(a),events:{"click .next, .previous":"followLink"},initialize:function(){this.model=new n.Model,o.prototype.initialize.apply(this,arguments)},configure:function(){return this.model.set({objectSet:d.get()}),o.prototype.configure.apply(this,arguments)},addSaveButton:function(){var t=this.model.get("objectSet"),e=t[p(t,this.getFormData().meta.id,this.getFormData().meta.model_type)+1];this.trigger("save-buttons:register-button",{className:"save-and-continue",priority:250,label:i(void 0===e?"pim_enrich.entity.product.module.sequential_edit.save_and_finish":"pim_enrich.entity.product.module.sequential_edit.save_and_next"),events:{"click .save-and-continue":this.saveAndContinue.bind(this)}})},render:function(){return this.configured&&this.model.get("objectSet")&&0!==this.model.get("objectSet").length?(this.$el.removeClass("AknDefault-bottomPanel--hidden"),this.addSaveButton(),this.getTemplateParameters().done(function(t){this.$el.html(this.template(t)),this.$('[data-toggle="tooltip"]').tooltip(),this.delegateEvents(),this.preloadNext()}.bind(this)),this):(this.$el.addClass("AknDefault-bottomPanel--hidden"),this)},getTemplateParameters:function(){var e=this.model.get("objectSet"),i=this.getFormData().meta,n=p(e,i.id,i.model_type),r=e[n-1],o=e[n+1],a=null,s=null,l=[];return r&&l.push(this.getEntity(r.type,r.id).then(function(t){a=h(t)})),o&&l.push(this.getEntity(o.type,o.id).then(function(t){s=h(t)})),t.when.apply(t,l).then(function(){return{objectCount:e.length,currentIndex:n+1,previousObject:a,nextObject:s,ratio:(n+1)/e.length*100}})},preloadNext:function(){var t=this.model.get("objectSet"),e=t[p(t,this.getFormData().meta.id,this.getFormData().meta.model_type)+2];e&&setTimeout(()=>{this.getEntity(e.type,e.id)},2e3)},saveAndContinue:function(){this.parent.getExtension("save").save({silent:!0}).done(function(){var t=this.model.get("objectSet"),e=t[p(t,this.getFormData().meta.id,this.getFormData().meta.model_type)+1];e?this.goToProduct(e.type,e.id):this.finish()}.bind(this))},followLink:function(t){this.getRoot().trigger("pim_enrich:form:state:confirm",{action:function(){this.goToProduct(t.currentTarget.dataset.type,t.currentTarget.dataset.id)}.bind(this)})},goToProduct:function(t,e){l.redirectToRoute("pim_enrich_"+t+"_edit",{id:e})},finish:function(){l.redirectToRoute("pim_enrich_product_index")},getEntity:(t,e)=>c.getFetcher(t.replace("_","-")).fetch(e)})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(35),i(389)],void 0===(r=function(t,e){return t.extend({remover:e,getIdentifier:function(){return this.getFormData().meta.id}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(9),i(3),i(459),i(5),i(6),i(10)],void 0===(r=function(t,e,i,n,r,o,a,s){return n.extend({className:"AknColumn-block",template:e.template(r),configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:post_update",this.render),a.off("change:catalogLocale change:catalogScope",this.render),this.listenTo(a,"change:catalogLocale change:catalogScope",this.render),n.prototype.configure.apply(this,arguments)},render:function(){if(!this.configured)return this;(e.isNull(this.getFormData().family)?t.Deferred().resolve(null):o.getFetcher("family").fetch(this.getFormData().family)).then(function(t){var i=this.getFormData();this.$el.html(this.template({familyLabel:t?s.getLabel(t.labels,a.get("catalogLocale"),i.family):e.__("pim_common.none")})),n.prototype.render.apply(this,arguments)}.bind(this))}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(3),i(460),i(6),i(10)],void 0===(r=function(t,e,i,n,r,o,a){return n.extend({className:"AknColumn-block",template:e.template(r),configure:function(){return this.listenTo(o,"change:catalogLocale",this.render),n.prototype.configure.apply(this,arguments)},render:function(){if(!this.configured)return this;var t=this.getFormData(),e=t.meta.family_variant;if(null===e)return this;var r=a.getLabel(e.labels,o.get("catalogLocale"),t.family_variant);this.$el.html(this.template({title:i("pim_enrich.entity.family_variant.short_label"),familyVariantLabel:r})),n.prototype.render.apply(this,arguments)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(8),i(3),i(461),i(202),i(28),i(73),i(17)],void 0===(r=function(t,e,i,n,r,o,a){return n.extend({className:"AknColumn-blockDown change-family",innerModalTemplate:t.template(r),events:{click:"showModal"},render:function(){return null===this.getFormData().meta.family_variant?(this.delegateEvents(),n.prototype.render.apply(this,arguments)):void this.$el.remove()},showModal:function(){var t=new i.BootstrapModal({title:e("pim_enrich.entity.product.module.change_family.title"),content:this.innerModalTemplate({product:this.getFormData()}),illustrationClass:"families",okText:e("pim_common.save"),cancelText:e("pim_common.cancel"),innerDescription:e("pim_enrich.entity.product.module.change_family.merge_attributes")+" "+e("pim_enrich.entity.product.module.change_family.keep_attributes")});t.on("ok",function(){var e=t.$(".family-select2").select2("val")||null;this.getRoot().trigger("pim_enrich:form:change-family:before"),this.setData({family:e}),t.close(),this.getRoot().trigger("pim_enrich:form:change-family:after")}.bind(this)),t.open();var n=o.getConfig(this.getFormData().family);a.init(t.$(".family-select2"),n).select2("val",[])}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(462),i(464)],void 0===(r=function(t,e,i){return e.extend({className:"AknColumn-block",template:t.template(i)})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(465),i(467)],void 0===(r=function(t,e,i){return e.extend({className:"AknColumn-block",template:t.template(i)})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(9),i(8),i(3),i(7),i(468),i(469),i(6),i(5),i(380),i(11),i(10),i(20),i(73)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c,u,d,p,h,f){return o.extend({tagName:"span",className:"AknColumn-block product-groups",template:e.template(s),modalTemplate:e.template(l),events:{"click .product-group":"displayModal"},configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:post_update",this.render),o.prototype.configure.apply(this,arguments)},render:function(){return this.configured?(d.getProductGroups(this.getFormData()).done(function(t){(t=this.prepareGroupsForTemplate(t)).length?this.$el.html(this.template({label:i("pim_enrich.entity.product.module.meta.groups"),groups:t})):this.$el.html("")}.bind(this)),this):this},prepareGroupsForTemplate:function(t){var i=c.get("catalogLocale");return e.map(t,function(t){return{label:t.labels[i]||"["+t.code+"]",code:t.code,isVariant:"VARIANT"===t.type}})},getProductList:function(i){return t.getJSON(a.generate("pim_enrich_group_rest_list_products",{identifier:i})).then(e.identity)},displayModal:function(n){var o=new f;o.render().$el.appendTo(this.getRoot().$el).show(),d.getProductGroups(this.getFormData()).done(function(a){var s=e.findWhere(a,{code:n.currentTarget.dataset.group});t.when(this.getProductList(s.code),u.getFetcher("attribute").getIdentifierAttribute()).done(function(t,e){o.remove(),this.groupModal=new r.BootstrapModal({allowCancel:!0,okText:i("pim_enrich.entity.product.module.show_group.view_group"),cancelText:i("pim_common.cancel"),title:i("pim_enrich.entity.product.module.show_group.title",{group:h.getLabel(s.labels,c.get("catalogLocale"),s.code)}),content:this.modalTemplate({products:t.products,productCount:t.productCount,identifier:e,locale:c.get("catalogLocale")}),illustrationClass:"group"}),this.groupModal.on("ok",function(){this.groupModal.close();var t={code:s.code};p.redirectToRoute("pim_enrich_group_edit",t)}.bind(this)),this.groupModal.open(),this.groupModal.$el.on("click","a[data-product-id]",function(t){this.groupModal.close(),p.redirectToRoute("pim_enrich_product_edit",{id:t.currentTarget.dataset.productId})}.bind(this))}.bind(this))}.bind(this))}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(9),i(3),i(470)],void 0===(r=function(t,e,i,n,r){return n.extend({className:"AknColumn-block AknDropdown",template:t.template(r),events:{"click .AknDropdown-menuLink":"updateStatus"},configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:post_update",this.render),n.prototype.configure.apply(this,arguments)},render:function(){var t=this.getRoot().getFormData().enabled;return this.$el.html(this.template({status:t,label:e("pim_common.status"),enabledLabel:e("pim_enrich.entity.product.module.status.enabled"),disabledLabel:e("pim_enrich.entity.product.module.status.disabled")})),this.delegateEvents(),this},updateStatus:function(t){var e="enable"===t.currentTarget.dataset.status;this.getFormModel().set("enabled",e),this.getRoot().trigger("pim_enrich:form:entity:update_state"),this.render()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(3),i(471),i(7),i(6)],void 0===(r=function(t,e,i,n,r){return e.extend({tagName:"a",className:"AknDropdown-menuLink btn-download",template:t.template(i),configure:function(){return r.off("change:catalogLocale change:catalogScope",this.render),this.listenTo(r,"change:catalogLocale change:catalogScope",this.render),e.prototype.configure.apply(this,arguments)},render:function(){if(this.getFormData().meta)return this.$el.html(this.template()),this.$el.attr("href",n.generate("pim_pdf_generator_download_product_pdf",{id:this.getFormData().meta.id,dataLocale:r.get("catalogLocale"),dataScope:r.get("catalogScope")})),this}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(7),i(209)],void 0===(r=function(t,e){return e.extend({generateRemoveAttributeUrl:function(e){return t.generate(this.config.removeAttributeRoute,{id:this.getFormData().meta.id,attributeId:e.meta.id})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(473),i(6),i(10),i(2),i(5),i(475)],void 0===(r=function(t,e,i,n,r,o,a){return e.extend({errorTemplate:t.template(a),render:function(){return o.getFetcher("attribute").getIdentifierAttribute().then(function(t){return this.$el.html(this.template({identifier:this.identifier,label:n.getLabel(t.labels,i.get("catalogLocale"),t.code),requiredLabel:r("pim_common.required_label"),errors:this.getRoot().validationErrors,value:this.getFormData()[this.identifier]})),this.delegateEvents(),this}.bind(this)).fail(()=>{this.$el.html(this.errorTemplate({message:r("pim_enrich.entity.product.flash.create.fail")}))})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(3),i(476)],void 0===(r=function(t,e,i,n,r){return n.extend({template:e.template(r),className:"AknDropdown-menuLink start-copying",events:{click:"startCopy"},isCopying:!1,configure(){return this.listenTo(this.getRoot(),"pim_enrich:form:stop_copy",this.stopCopy.bind(this)),n.prototype.configure.apply(this,arguments)},render(){this.$el.html(""),this.isCopying||this.$el.html(this.template({label:i("pim_enrich.entity.product.module.copy.label")}))},startCopy(){this.isCopying=!0,this.getRoot().trigger("pim_enrich:form:start_copy"),this.render()},stopCopy(){this.isCopying=!1,this.render()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(11),i(10),i(6),i(3),i(26),i(28),i(5),i(48),i(12),i(200),i(477),i(478),i(210),i(479)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c,u,d,p,h,f,m,g){return a.extend({template:e.template(h),templateProduct:e.template(f),templateProductModel:e.template(m),templateAddChild:e.template(g),dropdowns:{},queryTimer:null,events:{'click [data-action="navigateToLevel"]':"navigateToLevel"},configure:function(){return this.listenTo(o,"change:catalogLocale change:catalogScope",this.render),a.prototype.configure.apply(this,arguments)},render:function(){var t=this.getFormData(),e=o.get("catalogLocale");return"product"===t.meta.model_type&&null===t.parent?void this.$el.html(""):(this.$el.html(this.template({commonLabel:i("pim_enrich.entity.product.module.variant_navigation.common"),currentLocale:e,entity:t,navigation:t.meta.variant_navigation})),void this.initializeSelectWidgets())},initializeSelectWidgets:function(){var i=this.getFormData(),n=this.$(".select-field");e.each(n,(e,n)=>{var r=t(e),a=l.init(r,{dropdownCssClass:"variant-navigation",closeOnSelect:!1,formatResult:(t,e)=>{var i=o.get("catalogLocale"),n=null===t.image?null:t.image.filePath,r={label:t.axes_values_labels[i],image:u.getMediaShowUrl(n,"thumbnail_small"),completeness:this.parseCompleteness(t)},a="product"===t.model_type?this.templateProduct({entity:r,getClass:this.getCompletenessBadgeClass}):this.templateProductModel({entity:r,getClass:this.getCompletenessBadgeClass});e.append(a)},query:t=>{this.queryChildrenEntities(t,i.meta.variant_navigation[n].selected.id)}});a.on("select2-selecting",t=>{this.redirectToEntity(t.object)}).on("select2-open",()=>{this.addSelect2Footer(a)}),this.dropdowns[n]=a})},addSelect2Footer:function(e){t("#select2-drop .select2-drop-footer").remove();var n=e[0].dataset.level;this.getEntityParentCode(n).then(n=>{this.isVariantProduct(n).then(r=>{if(this.isCreationGranted(r)){var o=this.templateAddChild({label:i("pim_enrich.entity.product_model.module.variant_axis.create")});t("#select2-drop").append(o).find(".select2-drop-footer").on("click",".add-child",()=>{e.select2("close"),this.openModal(n)})}})})},isCreationGranted:function(t){return t&&s.isGranted("pim_enrich_product_create")||!t&&s.isGranted("pim_enrich_product_model_create")},getEntityParentCode:function(e){var i=this.getFormData(),n=i.meta.level;return e<n?c.getFetcher("product-model-by-code").fetch(i.parent).then(t=>t.parent):e>n?t.Deferred().resolve(i.code).promise():t.Deferred().resolve(i.parent).promise()},openModal:function(t){var e={className:"modal modal--fullPage add-product-model-child",content:"",cancelText:i("pim_common.cancel"),okText:i("pim_common.confirm"),okCloses:!1};this.isVariantProduct(t).then(i=>{var n={parent:t,values:{}};i?n.family=this.getFormData().family:n.family_variant=this.getFormData().family_variant,new p("pim-product-model-add-child-form",this.submitForm.bind(this,i),e,n).open()})},submitForm:function(t,e){var n=i(t?"pim_enrich.entity.product_model.flash.create.variant_product_added":"pim_enrich.entity.product_model.flash.create.product_model_added"),r=t?"pim_enrich_product_rest_create":"pim_enrich_product_model_rest_create";return e.saveProductModelChild(r).done(t=>{this.redirectToEntity(t.meta),d.notify("success",n)})},isVariantProduct:function(t){return c.getFetcher("product-model-by-code").fetch(t).then(t=>c.getFetcher("family-variant").fetch(t.family_variant).then(e=>{return t.meta.level+1===e.variant_attribute_sets.length}))},parseCompleteness:function(t){var i=o.get("catalogLocale"),n=o.get("catalogScope");if("product"===t.model_type)return{ratio:e.findWhere(t.completeness,{channel:n}).locales[i].completeness.ratio};var r=t.completeness.completenesses,a=t.completeness.total,s=0;return e.has(r,n)&&e.has(r[n],i)&&(s=r[n][i]),{ratio:0<s?Math.floor(a/s*100):0,display:s+" / "+a}},getCompletenessBadgeClass:function(t){return 0===t?"empty":100===t?"complete":"incomplete"},searchOnResults:function(t,e){var i=o.get("catalogLocale");return t=t.toLowerCase(),e.filter(e=>{return-1!==e.axes_values_labels[i].toLowerCase().search(t)})},queryChildrenEntities:function(t,e){clearTimeout(this.queryTimer),this.queryTimer=setTimeout(()=>{c.getFetcher("product-model").fetchChildren(e).then(e=>{var i=this.searchOnResults(t.term,e).sort((t,e)=>{for(var i=0;i<t.order.length;i++){if(t.order[i]>e.order[i])return 1;if(t.order[i]<e.order[i])return-1}return 0});t.callback({results:i})})},400)},navigateToLevel:function(e){var i=this.getFormData(),n=t(e.target).data("level");this.redirectToEntity(i.meta.variant_navigation[n].selected)},redirectToEntity:function(t){if(t){var e={id:t.id},i="product_model"===t.model_type?"pim_enrich_product_model_edit":"pim_enrich_product_edit";n.redirectToRoute(i,e)}}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(3)],void 0===(r=function(t,e,i){return i.extend({configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:field:extension:add",this.addFieldExtension),i.prototype.configure.apply(this,arguments)},addFieldExtension:function(t){var e=this.getFormData();if(void 0!==e.meta&&null!==e.meta.family_variant){var i=e.meta.attributes_axes,n=t.field;return i.includes(n.attribute.code)&&(n.setEditable(!1),this.updateFieldElements(n)),this}},updateFieldElements:function(t){var i="("+e("pim_enrich.entity.product_model.module.variant_axis.label")+")";t.addElement("label","variant_axis",'<span class="">'+i+"</span>")}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(2),i(480),i(5),i(48)],void 0===(r=function(t,e,i,n,r){return i.extend({selectModel:function(t){this.addItem(`${t.attributes.document_type}_${t.get(this.config.columnName)}`)},unselectModel:function(t){this.removeItem(`${t.attributes.document_type}_${t.get(this.config.columnName)}`)},updateBasket:function(){var e=[],i=[];this.getItems().forEach(t=>{var n=t.match(/^product_model_(.*)$/);if(n)i.push(n[1]);else{var r=t.match(/^product_(.*)$/);e.push(r[1])}}),t.when(n.getFetcher("product-model").fetchByIdentifiers(i),n.getFetcher("product").fetchByIdentifiers(e)).then(function(t,e){this.renderBasket(e.concat(t)),this.delegateEvents()}.bind(this))},imagePathMethod:function(t){var e=null;return null!==t.meta.image&&(e=t.meta.image.filePath),r.getMediaShowUrl(e,"thumbnail_small")},labelMethod:function(t){return t.meta.label[this.getLocale()]},itemCodeMethod:function(t){return t.code?`product_model_${t.code}`:`product_${t[this.config.columnName]}`}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(6),i(11),i(3)],void 0===(r=function(t,e,i,n,r,o){return o.extend({configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:field:extension:add",this.addFieldExtension),o.prototype.configure.apply(this,arguments)},addFieldExtension:function(t){var e=this.getFormData();if(void 0!==e.meta&&null!==e.meta.family_variant){var i=e.meta.attributes_for_this_level,n=t.field;return i.includes(n.attribute.code)||(n.setEditable(!1),this.updateFieldElements(n)),this}},updateFieldElements:function(e){var r=this.getFormData(),o="product"===r.meta.model_type,a=i("pim_enrich.entity.product_model.module.attribute.read_only_parent_attribute_from_common"),s=r.meta.variant_navigation[0].selected.id;if(o){var l=n.get("uiLocale"),c=r.meta.parent_attributes.includes(e.attribute.code),u=3===r.meta.variant_navigation.length;if(c&&u){var d=r.meta.variant_navigation[1].axes[l];a=i("pim_enrich.entity.product_model.module.attribute.read_only_parent_attribute_from_model",{axes:d}),s=r.meta.variant_navigation[1].selected.id}}var p=t('<span class="AknFieldContainer-clickable">'+a+"</span>");p.on("click",()=>{this.redirectToModel(s)}),e.addElement("footer","read_only_parent_attribute",p)},redirectToModel:function(t){r.redirectToRoute("pim_enrich_product_model_edit",{id:t})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(117),i(6)],void 0===(r=function(t,e){return t.extend({getLabel:function(){var t=this.getFormData().meta;return t&&t.label?t.label[e.get("catalogLocale")]:this.getFormData().identifier}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(59),i(12),i(400),i(37),i(10),i(6)],void 0===(r=function(t,e,i,n,r,o,a,s,l){return n.extend({updateSuccessMessage:i("pim_enrich.entity.product_model.flash.update.success"),updateFailureMessage:i("pim_enrich.entity.product_model.flash.update.fail"),configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:update-association",this.save),n.prototype.configure.apply(this,arguments)},save:function(n){var c=t.extend(!0,{},this.getFormData()),u=c.meta.id;delete c.meta,delete c.family;var d=a.getNotReadyFields();if(!(0<d.length))return this.showLoadingMask(),this.getRoot().trigger("pim_enrich:form:entity:pre_save"),o.save(u,c).then(function(t){this.postSave(),this.setData(t,n),this.getRoot().trigger("pim_enrich:form:entity:post_fetch",t)}.bind(this)).fail(this.fail.bind(this)).always(this.hideLoadingMask.bind(this));var p=e.map(d,function(t){return s.getLabel(t.attribute.label,l.get("catalogLocale"),t.attribute.code)});r.notify("error",i("pim_enrich.entity.product_model.flash.update.fields_not_ready",{fields:p.join(", ")}))}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(35),i(390)],void 0===(r=function(t,e){return t.extend({remover:e,getIdentifier:function(){return this.getFormData().meta.id}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(3),i(483),i(6)],void 0===(r=function(t,e,i,n,r){return i.extend({className:"AknButtonList-item",template:t.template(n),configure:function(){return r.off("change:catalogLocale change:catalogScope",this.render),this.listenTo(r,"change:catalogLocale change:catalogScope",this.render),i.prototype.configure.apply(this,arguments)},render:function(){var e=this.getFormData().meta.variant_product_completenesses,i=e.completenesses,n=r.get("catalogScope"),o=r.get("catalogLocale"),a=e.total,s=0;t.has(i,n)&&t.has(i[n],o)&&(s=i[n][o]),this.$el.html(this.template({color:this.badgeCssClass(s,a),label:this.badgeLabel(s,a)}))},badgeCssClass:function(t,e){var i=t/e,n="warning";return 1==i?n="success":(0==i||0===e)&&(n="important"),n},badgeLabel:function(t,i){return e("pim_enrich.entity.product_model.module.completeness.variant_product",{complete:t,total:i},t)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(3),i(7),i(485)],void 0===(r=((t,e,i,n,r,o)=>n.extend({template:e.template(o),render(){var t=this.getIllustrationClass();this.$el.html(this.template({illustrationClass:t,okText:i("pim_common.save")})),this.renderExtensions()},getIllustrationClass(){return this.getFormData().hasOwnProperty("family_variant")?"product-model":"products"},saveProductModelChild(e){return this.trigger("pim_enrich:form:entity:pre_save"),t.post(r.generate(e),JSON.stringify(this.getFormData())).fail(t=>{this.trigger("pim_enrich:form:entity:validation_error",t.responseJSON.values),this.trigger("pim_enrich:form:entity:bad_request",{sentData:this.getFormData(),response:t.responseJSON.values})})}})).apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(3),i(1),i(0),i(2),i(10),i(6),i(5),i(486)],void 0===(r=((t,e,i,n,r,o,a,s)=>t.extend({template:i.template(s),render(){var t=this.getFormData().parent;a.getFetcher("product-model-by-code").fetch(t).then(t=>{a.getFetcher("family-variant").fetch(t.family_variant).then(e=>{this.getAxesAttributes(e,t.meta.level+1).then(t=>{var e=o.get("catalogLocale"),i=t.map(t=>r.getLabel(t.labels,e,t.code));this.$el.html(this.template({__:n,axes:i.sort().join(", ")}))})})})},getAxesAttributes(t,e){var i=t.variant_attribute_sets.find(t=>t.level===e);return a.getFetcher("attribute").fetchByIdentifiers(i.axes)}})).apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(3),i(1),i(0),i(2),i(10),i(7),i(6),i(5),i(14),i(487)],void 0===(r=((t,e,i,n,r,o,a,s,l,c)=>t.extend({template:i.template(c),globalErrors:[],initialize(e){this.config=i.defaults(e.config,{fieldModules:{},codeFieldModule:null}),this.globalErrors=[],t.prototype.initialize.apply(this,arguments)},configure(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:validation_error",t=>{this.globalErrors=t.filter(t=>void 0===t.attribute),this.render()}),t.prototype.configure.apply(this,arguments)},render(){var t=this,i=this.getFormData().parent;this.$el.html(this.template({errors:this.globalErrors})),s.getFetcher("product-model-by-code").fetch(i).then(i=>{s.getFetcher("family-variant").fetch(i.family_variant).then(n=>{var r=i.meta.level+1,o=r===n.variant_attribute_sets.length;this.getAxesAttributes(n,r).then(t=>e.when.apply(e,t.map(t=>this.createAttributeField(t,!0)))).then(function(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];return i.sort((t,e)=>t.getLabel()>e.getLabel()?1:-1),o?s.getFetcher("attribute").getIdentifierAttribute().then(e=>t.createAttributeField(e,!1).then(t=>i.concat(t))):t.createProductModelCodeField().then(t=>i.concat(t))}).then(t=>{var i=100;t.forEach(t=>{this.addExtension(t.code,t,"content",i++)}),e.when.apply(this,t.map(t=>t.configure())).then(()=>{this.renderExtensions()})})})})},getAxesAttributes(t,e){var i=t.variant_attribute_sets.find(t=>t.level===e);return s.getFetcher("attribute").fetchByIdentifiers(i.axes)},createAttributeField(t,i){var n=this.config.fieldModules[t.field_type];if(void 0===n)throw new Error('No module set for field type "'+t.field_type+'"');return l.getFormMeta(n).then(n=>{var o=e.extend(!0,{},n);return o.code+=`-${t.code}`,o.config.fieldName=`values.${t.code}`,o.config.label=r.getLabel(t.labels,a.get("uiLocale"),t.code),i&&(o.config.requiredLabel="pim_enrich.entity.product_model.module.variant_axis.required_label"),l.buildForm(o)}).then(e=>"pim_reference_data_simpleselect"===t.type?s.getFetcher("reference-data-configuration").fetchAll().then(i=>(e.setChoiceUrl(o.generate("pim_ui_ajaxentity_list",{class:i[t.reference_data_name].class,dataLocale:a.locale,collectionId:t.id,options:{type:"code"}})),e)):("pim_catalog_metric"===t.type&&(e.setMetricFamily(t.metric_family),e.setDefaultMetricUnit(t.default_metric_unit)),"pim_catalog_simpleselect"===t.type&&e.setChoiceUrl(o.generate("pim_enrich_attributeoption_get",{identifier:t.code})),e))},createProductModelCodeField(){return l.getFormMeta(this.config.codeFieldModule).then(t=>{var i=e.extend(!0,{},t);return i.config.fieldName="code",l.buildForm(i)}).then(t=>t.configure().then(()=>t))}})).apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(177),i(11)],void 0===(r=function(t,e,i,n){return i.extend({tabRedirects:{},initialize(){return null!==this.tabRedirects&&(this.useDirectLauncherLink=!1),i.prototype.initialize.apply(this,arguments)},getLink(){var t=this.model.get("document_type"),e=this.model.get("technical_id");return n.generate("pim_enrich_"+t+"_edit",{id:e})},run(){if(null!==this.tabRedirects){var t=this.model.get("document_type"),e=this.tabRedirects[t];e&&(sessionStorage.setItem("redirectTab",`#${e}`),sessionStorage.setItem("current_column_tab",e))}return i.prototype.run.apply(this,arguments)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(97),i(203)],void 0===(r=function(t,e,i){return e.extend({execute:function(){return i.createModal(this.model.get(this.propertyCode),this.fetcher)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(179),i(11),i(26)],void 0===(r=function(t,e,i){return t.extend({initialize(){return this.launcherOptions.enabled=this.isEnabled(),t.prototype.initialize.apply(this,arguments)},getLink(){var t=this.model.get("document_type"),i=this.model.get("technical_id");return e.generate("pim_enrich_"+t+"_rest_remove",{id:i})},getEntityHint(){return this.model.get("document_type").replace("_"," ")},isEnabled(){var t=this.model.get("document_type");return i.isGranted("pim_enrich_product_model_remove")&&"product_model"===t||i.isGranted("pim_enrich_product_remove")&&"product"===t}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(279)],void 0===(r=function(t){return t.extend({initialize(){return this.launcherOptions.enabled=this.isEnabled(),t.prototype.initialize.apply(this,arguments)},isEnabled(){return"product_model"!==this.model.get("document_type")},getMethod:function(){return"POST"}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(3),i(10),i(6),i(5),i(26),i(19),i(488),i(98)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c){return n.extend({className:"tabbable tabs-left",template:e.template(c),otherAttributes:[],attributeSortOrderKey:"attributes_sort_order",events:{"click .remove-attribute":"removeAttributeRequest"},initialize:function(t){this.config=t.config,n.prototype.initialize.apply(this,arguments)},configure:function(){return this.trigger("tab:register",{code:this.config.tabCode?this.config.tabCode:this.code,label:i(this.config.title)}),this.onExtensions("add-attribute:add",this.addAttributes.bind(this)),a.getFetcher("attribute").search({attribute_groups:"other"}).then(function(t){this.otherAttributes=e.pluck(t,"code")}.bind(this)).then(function(){return n.prototype.configure.apply(this,arguments)}.bind(this))},render:function(){return a.getFetcher("attribute").fetchByIdentifiers(this.getFormData().attributes,{rights:0}).then(function(e){(e=e.map(t=>{var e=this.getFormData().attributes_sort_order[t.code];return void 0===e&&(e=Object.keys(this.getFormData().attributes_sort_order).length+1),Object.assign({},t,{sort_order:e})})).sort((t,e)=>t.sort_order-e.sort_order),this.$el.empty().append(this.template({attributes:e,i18n:r,UserContext:o,__:i,hasRightToRemove:this.hasRightToRemove()})),this.$(".attribute-list").sortable({handle:".handle",containment:"parent",tolerance:"pointer",update:this.updateAttributeOrders.bind(this),helper:function(e,i){var n=i.children(),r=i.clone();return r.children().each(function(e){t(this).width(n.eq(e).width())}),r}}),this.delegateEvents(),n.prototype.render.apply(this,arguments)}.bind(this)),this},updateAttributeOrders:function(){var t=e.reduce(this.$(".attribute"),function(t,i,n){var r=e.extend({},t);return r[i.dataset.attributeCode]=n,r},{}),i=e.extend({},this.getFormData());i.attributes_sort_order=t,this.setData(i),this.render()},addAttributes:function(t){var i=e.extend({},this.getFormData());i.attributes=e.union(i.attributes,t.codes),this.otherAttributes=e.difference(this.otherAttributes,t.codes),this.setData(i),this.render()},removeAttributeRequest:function(t){if(s.isGranted(this.config.removeAttributeACL)){var e=t.currentTarget.dataset.attributeCode;l.confirmDelete(i(this.config.confirmation.message,{attribute:e}),i(this.config.confirmation.title),function(){this.removeAttribute(e)}.bind(this),i(this.config.confirmation.subTitle),i(this.config.confirmation.buttonText))}},removeAttribute:function(t){var i=e.extend({},this.getFormData());i.attributes=e.without(i.attributes,t),delete i.attributes_sort_order[t],this.otherAttributes=e.union(this.otherAttributes,[t]),this.setData(i),this.render()},getOtherAttributes:function(){return this.otherAttributes},hasRightToRemove:function(){return this.config.otherGroup!==this.getFormData().code&&s.isGranted(this.config.removeAttributeACL)},hasRightToAdd:function(){return this.config.otherGroup!==this.getFormData().code&&s.isGranted(this.config.addAttributeACL)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(8),i(3)],void 0===(r=function(t,e,i,n){return n.extend({configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:filter:extension:add",this.addFilterExtension.bind(this)),n.prototype.configure.apply(this,arguments)},addFilterExtension:function(t){t.filter.setEditable(!1)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(489),i(3),i(23)],void 0===(r=function(t,e,i,n,r){return n.extend({className:"structure-filters",errors:{},template:t.template(i),configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:bad_request",this.setValidationErrors.bind(this)),this.listenTo(this.getRoot(),"pim_enrich:form:entity:post_fetch",this.resetValidationErrors.bind(this)),this.listenTo(this.getRoot(),"pim_enrich:form:entity:post_fetch",this.render.bind(this)),n.prototype.configure.apply(this,arguments)},setValidationErrors:function(t){this.errors=t.response},resetValidationErrors:function(){this.errors={}},getValidationErrorsForField:function(t){return r.accessProperty(this.errors,"configuration.filters.structure."+t,[])},render:function(){return this.configured?(this.$el.html(this.template({__:e})),this.renderExtensions(),this):this}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(490),i(3),i(5),i(6),i(17),i(10)],void 0===(r=function(t,e,i,n,r,o,a,s,l){return r.extend({config:{},className:"AknFieldContainer",template:e.template(n),initialize:function(t){return this.config=t.config,r.prototype.initialize.apply(this,arguments)},render:function(){return this.configured?(o.getFetcher("channel").fetchAll().then(function(t){this.getScope()||this.setScope(e.first(t).code),this.$el.html(this.template({isEditable:this.isEditable(),__:i,channels:this.setChannelLabels(t),scope:this.getScope(),errors:this.getParent().getValidationErrorsForField("scope")})),this.$(".select2").select2({minimumResultsForSearch:-1}).on("change",this.updateState.bind(this)),this.$('[data-toggle="tooltip"]').tooltip(),this.renderExtensions()}.bind(this)),this):this},setChannelLabels:function(t){var i=a.get("uiLocale");return e.map(t,function(t){return t.label=l.getLabel(t.labels,i,t.code),t})},isEditable:function(){return!(void 0!==this.config.readOnly&&this.config.readOnly)},updateState:function(t){this.setScope(t.target.value)},setScope:function(t){var e=this.getFilters(),i=e.structure.scope;e.structure.scope=t,this.setData(e),i!==t&&this.getRoot().trigger("channel:update:after",e.structure.scope)},getScope:function(){var t=this.getFilters().structure;return e.isUndefined(t)?null:e.isUndefined(t.scope)?null:t.scope},getFilters:function(){return this.getFormData().configuration.filters}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(491),i(3),i(5),i(17)],void 0===(r=function(t,e,i,n,r,o){return r.extend({className:"AknFieldContainer",template:e.template(n),initialize:function(t){return this.config=t.config,r.prototype.initialize.apply(this,arguments)},configure:function(){return this.listenTo(this.getRoot(),"channel:update:after",this.channelUpdated.bind(this)),r.prototype.configure.apply(this,arguments)},render:function(){return this.configured?(o.getFetcher("channel").fetch(this.getFilters().structure.scope).always(function(t){this.$el.html(this.template({isEditable:this.isEditable(),__:i,locales:this.getLocales(),availableLocales:t?t.locales:[],errors:this.getParent().getValidationErrorsForField("locales")})),this.$(".select2").select2().on("change",this.updateState.bind(this)),this.$('[data-toggle="tooltip"]').tooltip(),this.renderExtensions()}.bind(this)),this):this},isEditable:function(){return!(void 0!==this.config.readOnly&&this.config.readOnly)},updateState:function(t){this.setLocales(t.val)},setLocales:function(t){var e=this.getFilters(),i=e.structure.locales;e.structure.locales=t,this.setData(e),i!==t&&this.getRoot().trigger("locales:update:after",t)},getLocales:function(){var t=this.getFilters().structure;return e.isUndefined(t)?[]:e.isUndefined(t.locales)?[]:t.locales},channelUpdated:function(){this.initializeDefaultLocales().then(function(){this.render()}.bind(this))},initializeDefaultLocales:function(){return o.getFetcher("channel").fetch(this.getCurrentScope()).then(function(t){this.setLocales(e.pluck(t.locales,"code"))}.bind(this))},getCurrentScope:function(){return this.getFilters().structure.scope},getFilters:function(){return this.getFormData().configuration.filters}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(8),i(492),i(74),i(3),i(20),i(5),i(6),i(493)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c,u){return a.extend({className:"AknFieldContainer attributes",template:e.template(r),modalTemplate:e.template(o),events:{"click button":"openSelector"},initialize:function(t){return this.config=t.config,a.prototype.initialize.apply(this,arguments)},render:function(){if(!this.configured)return this;var t=this.getFilters().structure.attributes||[];this.$el.html(this.template({__:i,isEditable:this.isEditable(),titleEdit:i("pim_enrich.entity.attribute.plural_label"),labelEdit:i("pim_common.edit"),labelInfo:i("pim_enrich.export.product.filter.attributes.label",{count:t.length},t.length),errors:this.getParent().getValidationErrorsForField("attributes")})),this.delegateEvents(),this.$('[data-toggle="tooltip"]').tooltip(),this.renderExtensions()},isEditable:function(){return!(void 0!==this.config.readOnly&&this.config.readOnly)},openSelector:function(t){t.preventDefault();var e=new s;e.render().$el.appendTo(this.getRoot().$el),e.show();var r=this.getFilters().structure.attributes||[],o=new u;o.setSelected(r);var a=new n.BootstrapModal({modalOptions:{backdrop:"static",keyboard:!1},okCloses:!1,title:i("pim_enrich.entity.attribute.plural_label"),innerDescription:i("pim_enrich.export.product.filter.attributes_selector.description"),content:"",okText:i("pim_common.apply"),template:this.modalTemplate});e.hide(),e.$el.remove(),a.open(),o.setElement(".modal-body").render(),a.on("ok",function(){var t=o.getSelected(),e=this.getFilters();e.structure.attributes=t,this.setData(e),a.close(),this.render()}.bind(this))},getFilters:function(){return this.getFormData().configuration.filters}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(145)],void 0===(r=function(t,e,i){return i.extend({getItemsToExclude:function(){return t.Deferred().resolve(this.getParent().getCurrentFilters())}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(3),i(5)],void 0===(r=function(t,e,i,n){return i.extend({initialize:function(t){this.config=t.config,i.prototype.initialize.apply(this,arguments)},configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:filter:set-default",this.addFilter.bind(this)),i.prototype.configure.apply(this,arguments)},addFilter:function(e){e.push(n.getFetcher("attribute").fetchByTypes(this.config.types).then(function(e){return t.pluck(e,"code")}))}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(3),i(496)],void 0===(r=function(t,e,i,n,r){return n.extend({template:e.template(r),configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:filter:extension:add",this.addFilterExtension.bind(this)),n.prototype.configure.apply(this,arguments)},addFilterExtension:function(e){var n="pim_enrich.export.product.filter."+e.filter.shortname+".help",r=i(n);if(n!==r){var o=t(this.template({text:r}));o.find('[data-toggle="tooltip"]').tooltip(),e.filter.addElement("after-input","help",o)}}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(497),i(3),i(5),i(14),i(23)],void 0===(r=function(t,e,i,n,r,o,a,s){return r.extend({filterViews:[],template:e.template(n),initialize:function(t){this.config=t.config,r.prototype.initialize.apply(this,arguments)},configure:function(){return this.onExtensions("add-attribute:add",function(t){this.addFilters(t.codes).then(function(){this.updateModel(),this.render()}.bind(this))}.bind(this)),this.filterViews=[],t.when(r.prototype.configure.apply(this,arguments),this.addConfigFilters())},addFilters:function(i){return o.getFetcher("attribute").fetchByIdentifiers(i).then(function(){return t.when.apply(t,e.map(i,this.addFilter.bind(this)))}.bind(this)).then(function(){e.isEmpty(this.getFormData())||this.updateFiltersData(e.extend({},this.getFilters().data))}.bind(this))},addFilter:function(e){var i=t.Deferred();return this.getFilterConfig(e).then(this.buildFilterView.bind(this)).then(function(t){this.listenTo(t,"pim_enrich:form:entity:post_update",this.updateModel.bind(this)),this.listenTo(t,"filter:remove",this.removeFilter.bind(this)),this.listenTo(this.getRoot(),"channel:update:after",function(e){t.trigger("channel:update:after",e)}.bind(this)),this.filterViews.push(t)}.bind(this)).always(function(){i.resolve()}),i.promise()},buildFilterView:function(t){return a.getFormMeta(t.view).then(a.buildForm).then(function(e){return e.setRemovable(t.isRemovable),e.setType(t.view),e.setParentForm(this),e.setCode(t.field),e.configure().then(function(){var t={};return e.trigger("pim_enrich:form:entity:pre_update",t),e.setData(t,{silent:!0}),e})}.bind(this))},getFilterConfig:function(i){var n=e.findWhere(this.config.filters,{field:i});return void 0===n?o.getFetcher("attribute").fetch(i).then(function(t){return{field:t.code,view:t.filter_types["product-export-builder"],isRemovable:!0}}):(n.isRemovable=!1,t.Deferred().resolve(n).promise())},render:function(){return!this.configured||e.isEmpty(this.getFormData())?this:(this.$el.html(this.template({__:i})),t.when(o.getFetcher("attribute").getIdentifierAttribute(),this.addExistingFilters()).then(function(t){var i=this.$(".filters").empty(),n=e.pluck(this.config.filters,"field"),r=e.pluck(this.filterViews,"filterCode").sort(),o=e.union(n,e.without(r,t.code),[t.code]),a=e.map(o,function(t){var i=e.findWhere(this.filterViews,{filterCode:t});return void 0===i?void 0:i.render().$el}.bind(this));i.append(a),this.renderExtensions()}.bind(this)),this)},getCurrentFilters:function(){return e.map(this.filterViews,function(t){return t.getCode()})},addConfigFilters:function(){var i=[];return this.getRoot().trigger("pim_enrich:form:filter:set-default",i),t.when.apply(t,i).then(function(){var t=0===arguments.length?[]:e.union(e.flatten(e.toArray(arguments))),i=e.pluck(this.config.filters,"field");return e.union(i,t)}.bind(this)).then(function(t){return this.addFilters(t)}.bind(this))},addExistingFilters:function(){var t=e.map(e.pluck(this.getFilters().data,"field"),function(t){return t.replace(/\.code$/,"")}),i=e.map(this.filterViews,function(t){return t.getCode()});return this.addFilters(e.difference(t,i))},getDefaultFilterFields:function(){var i=[];return this.getRoot().trigger("pim_enrich:form:filter:set-default",i),t.when.apply(t,i).then(function(){var t=0===arguments.length?[]:e.union(e.flatten(e.toArray(arguments))),i=e.pluck(this.config.filters,"field");return e.union(i,t)}.bind(this))},updateFiltersData:function(t){e.each(this.filterViews,function(i){var n=e.findWhere(t,{field:i.getField()});n=n||{},i.trigger("pim_enrich:form:entity:pre_update",n),i.setData(n,{silent:!0})}.bind(this)),this.updateModel()},updateModel:function(){var t=this.getFormData();if(!e.isEmpty(t)){var i=s.accessProperty(t,"configuration.filters.data",[]);i=i.filter(t=>-1!==this.filterViews.findIndex(e=>!e.isEmpty()&&e.getFormData().field===t.field)),e.each(this.filterViews,function(t){if(!t.isEmpty()){var e=t.getFormData().field,n=i.findIndex(t=>t.field===e);-1===n?i.push(t.getFormData()):i[n]=t.getFormData()}});var n=s.updateProperty(t,"configuration.filters.data",i);this.setData(n)}},removeFilter:function(t){var i=t.replace(/\.code$/,"");this.filterViews=e.filter(this.filterViews,function(t){return t.getCode()!==i}),this.updateModel(),this.render()},getFilters:function(){return this.getFormData().configuration.filters}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(5),i(212)],void 0===(r=function(t,e,i,n,r){return r.extend({configure:function(){return t.when(n.getFetcher("formats").fetchAll(),r.prototype.configure.apply(this,arguments)).then(function(t){this.config.options=t.date_formats}.bind(this))}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(5),i(212)],void 0===(r=function(t,e,i,n,r){return r.extend({configure:function(){return t.when(n.getFetcher("formats").fetchAll(),r.prototype.configure.apply(this,arguments)).then(function(t){this.config.options=t.decimal_separators}.bind(this))}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(500),i(3),i(23)],void 0===(r=function(t,e,i,n,r){return n.extend({template:t.template(i),errors:{},initialize:function(t){this.config=t.config,n.prototype.initialize.apply(this,arguments)},configure:function(){return this.trigger("tab:register",{code:this.config.tabCode?this.config.tabCode:this.code,label:e(this.config.tabTitle)}),this.listenTo(this.getRoot(),"pim_enrich:form:entity:post_fetch",this.resetValidationErrors.bind(this)),this.listenTo(this.getRoot(),"pim_enrich:form:entity:post_fetch",this.render.bind(this)),this.listenTo(this.getRoot(),"pim_enrich:form:entity:validation_error",this.setValidationErrors.bind(this)),this.listenTo(this.getRoot(),"pim_enrich:form:entity:validation_error",this.render.bind(this)),n.prototype.configure.apply(this,arguments)},setValidationErrors:function(t){this.errors=t.response},resetValidationErrors:function(){this.errors={}},getValidationErrorsForField:function(t){return r.accessProperty(this.errors,t,null)},render:function(){return this.configured?(this.$el.html(this.template({__:e})),void this.renderExtensions()):this}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(146),i(501)],void 0===(r=function(t,e,i){return e.extend({fieldTemplate:t.template(i),events:{"change input":"updateState"},getFieldValue:function(){return this.$("input").val()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(146),i(502),i(58)],void 0===(r=function(t,e,i){return e.extend({fieldTemplate:t.template(i),events:{"change input":"updateState"},render:function(){e.prototype.render.apply(this,arguments),this.$(".switch").bootstrapSwitch()},getFieldValue:function(){return this.$('input[type="checkbox"]').prop("checked")}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(117),i(2)],void 0===(r=function(t,e){return t.extend({getLabel:function(){return e("pim_import_export.entity."+this.getFormData().type+"_profile.uppercase_label")+" - "+this.getFormData().label}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(3),i(0),i(2),i(503)],void 0===(r=function(t,e,i,n){return t.extend({template:e.template(n),render:function(){return this.$el.html(this.template({jobInstance:this.getFormData(),__:i})),this}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(35),i(393)],void 0===(r=function(t,e){return t.extend({remover:e})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(35),i(392)],void 0===(r=function(t,e){return t.extend({remover:e})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(3),i(504),i(12),i(23)],void 0===(r=function(t,e,i,n,r,o,a){return n.extend({template:e.template(r),errors:[],configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:filter:extension:add",this.addFilterExtension.bind(this)),this.listenTo(this.getRoot(),"pim_enrich:form:entity:bad_request",this.setValidationErrors.bind(this)),n.prototype.configure.apply(this,arguments)},setValidationErrors:function(t){this.errors=t.response,this.getRoot().trigger("pim_enrich:form:entity:validation_error",t)},addFilterExtension:function(e){var i=e.filter;if(null!==a.accessProperty(this.errors,"configuration.filters.data"+i.getField())){var n=t(this.template({errors:a.accessProperty(this.errors,"configuration.filters.data"+i.getField())}));e.filter.addElement("below-input","validation",n)}}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(3),i(506)],void 0===(r=function(t,e,i,n,r){return n.extend({template:e.template(r),events:{'change input[type="file"]':"addFile","click .clear-field":"removeFile"},initialize:function(t){this.config=t.config,n.prototype.initialize.apply(this,arguments)},render:function(){return this.$el.html(this.template({file:this.getFormData().file,type:this.config.type,__:i})),this.delegateEvents(),this},addFile:function(){var t=this.$('input[type="file"]').get(0);t&&0!==t.files.length&&(this.setData({file:t.files[0]}),this.getRoot().trigger("pim_enrich:form:job:file_updated"),this.render())},removeFile:function(){this.setData({file:null}),this.getRoot().trigger("pim_enrich:form:job:file_updated"),this.render()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(213),i(11),i(12)],void 0===(r=function(t,e,i,n,r,o){return n.extend({configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:job:file_updated",this.render.bind(this)),n.prototype.configure.apply(this,arguments)},launch:function(){if(this.getFormData().file){var e=new FormData;e.append("file",this.getFormData().file),r.showLoadingMask(),t.ajax({url:this.getUrl(),method:"POST",data:e,contentType:!1,cache:!1,processData:!1}).then(t=>{r.redirect(t.redirectUrl)}).fail(()=>{o.notify("error",i("pim_import_export.form.job_instance.fail.launch"))}).always(r.hideLoadingMask())}},isVisible:function(){return t.Deferred().resolve(this.getFormData().file).promise()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(3),i(507)],void 0===(r=function(t,e,i,n){return i.extend({className:"AknCenteredBox",template:t.template(n),initialize:function(t){this.config=t.config,i.prototype.initialize.apply(this,arguments)},render:function(){return this.$el.html(this.template({path:this.getFormData().configuration.filePath,label:e(this.config.label)})),this.delegateEvents(),i.prototype.render.apply(this,arguments)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(117),i(2)],void 0===(r=function(t,e){return t.extend({getLabel:function(){var t=this.getFormData().jobInstance;return e("pim_import_export.form.job_execution.title.details")+" - "+t.label+" ["+t.code+"]"}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(3),i(101),i(6)],void 0===(r=function(t,e,i){return t.extend({grid:null,initialize:function(e){this.config=e.config,t.prototype.initialize.apply(this,arguments)},render:function(){var t=this.config.metadata||{};return t[this.config.localeKey||"localeCode"]=i.get("catalogLocale"),t.jobCode=this.getFormData().code,this.grid=new e(this.config.alias,t),this.$el.empty().append(this.grid.render().$el),this}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(3),i(508)],void 0===(r=function(t,e,i,n,r){return n.extend({template:e.template(r),events:{"click .data":"toggleDisplayWarning"},toggleDisplayWarning:function(t){var e=t.currentTarget.dataset.stepIndex,i=t.currentTarget.dataset.warningIndex,n=this.getFormData();n.stepExecutions[e].warnings[i].expanded=!n.stepExecutions[e].warnings[i].expanded,this.render()},initialize:function(t){this.config=t.config,n.prototype.initialize.apply(this,arguments)},configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:post_update",this.render),n.prototype.configure.apply(this,arguments)},render:function(){var t=this.getFormData();return this.$el.html(this.template({transAndUpperCase:function(t){return i(t).toUpperCase()},__:i,stepExecutions:t.stepExecutions,status:t.status,failures:t.failures,id:t.meta.id,translateStepExecutionLabel:this.translateStepExecutionLabel})),this},translateStepExecutionLabel:function(t){var e="batch_jobs."+t.job+"."+t.label+".label";return i(e)===e&&(e="batch_jobs.default_steps."+t.label),i(e)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(3),i(5),i(509),i(8)],void 0===(r=function(t,e,i,n,r,o,a){return n.extend({template:e.template(o),events:{"click a":"startAutoUpdateOnClick"},autoRefreshDelay:1e3,autoRefreshTimeout:null,stopAutoRefreshDelay:12e4,stopAutoUpdateTimeout:null,status:null,initialize:function(t){this.config=t.config,this.setStatus("isLoading"),n.prototype.initialize.apply(this,arguments)},configure:function(){return this.listenTo(this.getRoot(),"pim-job-execution-form:start-auto-update",this.startAutoUpdate),this.listenTo(this.getRoot(),"pim-job-execution-form:stop-auto-update",this.stopAll),a.Router.prototype.on("route",this.stopAll.bind(this)),n.prototype.configure.apply(this,arguments)},restartAutoRefreshTimeout:function(){clearTimeout(this.autoRefreshTimeout),this.autoRefreshTimeout=setTimeout(this.fetchData.bind(this,this.getFormData()),this.autoRefreshDelay)},startAutoUpdate:function(){this.restartAutoRefreshTimeout(),clearTimeout(this.stopAutoUpdateTimeout),this.stopAutoUpdateTimeout=setTimeout(function(){this.stopAll(),this.setStatus("isNotFinished")}.bind(this),this.stopAutoRefreshDelay)},fetchData:function(t){if(t.isRunning){this.setStatus("isLoading");var e=t.meta.id;r.getFetcher("job-execution").fetch(e,{id:e,cached:!1}).then(function(t){this.setData(t),this.render(),this.restartAutoRefreshTimeout()}.bind(this))}else this.stopAll(),this.setStatus("isFinished")},startAutoUpdateOnClick:function(){this.setStatus("isLoading"),this.startAutoUpdate()},stopAll:function(){clearTimeout(this.autoRefreshTimeout),clearTimeout(this.stopAutoUpdateTimeout)},render:function(){return this.$el.html(this.template({__:i,status:this.status,loadingShown:"isLoading"===this.status,refreshBtnShown:"isNotFinished"===this.status})),this},setStatus:function(t){if("isLoading"!==t&&"isFinished"!==t&&"isNotFinished"!==t)throw new Error("Status equal isLoading | isFinished | isNotFinished but === ["+t+"]");this.status=t,this.render()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(510),i(7)],void 0===(r=function(t,e,i,n,r){return n.extend({initialize:function(t){this.config=t.config,n.prototype.initialize.apply(this,arguments)},getUrl:function(){var t=this.getFormData().jobInstance.code,e=this.getFormData().jobInstance.type,i="pim_importexport_%type%_profile_show".replace("%type%",e);return r.generate(i,{code:t})},isVisible:function(){var e=this.getFormData().jobInstance.type;return t.Deferred().resolve(["export","import","quick_export"].includes(e)).promise()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(3),i(512),i(7),i(23),i(26)],void 0===(r=function(t,e,i,n,r,o,a){return i.extend({template:t.template(n),initialize:function(t){this.config=t.config,i.prototype.initialize.apply(this,arguments)},configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:post_update",this.render),i.prototype.configure.apply(this,arguments)},render:function(){return this.isVisible()?(this.$el.html(this.template({label:this.getLabel(),files:this.getFiles()})),this):this},getLabel(){var t=this.getFormData(),i=o.accessProperty(t,this.config.filesPath),n=[];return Object.values(i).forEach(t=>{n=Object.assign({},n,t.files)}),1===Object.keys(n).length?e(Object.values(i)[0].label):e("pim_enrich.entity.job_execution.module.download.output")},getFiles(){var t=this.getFormData(),i=o.accessProperty(t,this.config.filesPath),n={};return Object.keys(i).forEach(r=>{var o=i[r],a=null;1===Object.keys(o.files).length&&(a=e(o.label)),Object.keys(o.files).forEach(e=>{n[null===a?e:a]=this.getUrl({id:t.meta.id,archiver:r,key:e})})}),n},getUrl:function(t){return r.generate(this.config.url,t)},isVisible:function(){var t=this.getFormData();return"export"===t.jobInstance.type?a.isGranted(this.config.aclIdExport):"import"!==t.jobInstance.type||a.isGranted(this.config.aclIdImport)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(513),i(26)],void 0===(r=function(t,e){return t.extend({isVisible:function(){var i=this.getFormData();return!!t.prototype.isVisible.apply(this)&&("export"===i.jobInstance.type?e.isGranted(this.config.aclIdExport):"import"!==i.jobInstance.type||e.isGranted(this.config.aclIdImport))}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(8),i(515),i(3)],void 0===(r=function(t,e,i,n,r){return r.extend({template:t.template(n),initialize:function(t){this.config=t.config,r.prototype.initialize.apply(this,arguments)},configure:function(){return this.trigger("tab:register",{code:this.config.tabCode?this.config.tabCode:this.code,label:e(this.config.tabTitle)}),this.listenTo(this.getRoot(),"pim_enrich:form:entity:validation_error",this.render.bind(this)),r.prototype.configure.apply(this,arguments)},render:function(){return this.configured?(this.$el.html(this.template({})),void this.renderExtensions()):this}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(76),i(7),i(517),i(5),i(6),i(10),i(17)],void 0===(r=function(t,e,i,n,r,o,a,s){return i.extend({shortname:"family",config:{},template:t.template(r),events:{'change [name="filter-value"]':"updateState"},initialize:function(e){return this.config=e.config,this.selectOptions={allowClear:!0,multiple:!0,ajax:{url:n.generate(this.config.url),quietMillis:250,cache:!0,data:function(t,e){return{search:t,options:{limit:20,page:e,locale:a.get("uiLocale")}}},results:function(e){var i={more:20===t.keys(e).length,results:[]};return t.each(e,function(t,e){i.results.push({id:e,text:s.getLabel(t.labels,a.get("uiLocale"),t.code)})}),i}},initSelection:function(e,i){var n=this.getValue();null!==n&&o.getFetcher("family").fetchByIdentifiers(n).then(function(e){i(t.map(e,function(t){return{id:t.code,text:s.getLabel(t.labels,a.get("uiLocale"),t.code)}}))})}.bind(this)},i.prototype.initialize.apply(this,arguments)},configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:pre_update",function(e){t.defaults(e,{field:this.getCode(),operator:"="})}.bind(this)),i.prototype.configure.apply(this,arguments)},renderInput:function(){return this.template({isEditable:this.isEditable(),__:e,field:this.getField(),value:this.getValue(),shortname:this.shortname})},postRender:function(){this.$('[name="filter-value"]').select2(this.selectOptions)},isEmpty:function(){return t.isEmpty(this.getValue())},updateState:function(){var t=this.$('[name="filter-value"]').val();this.setData({field:this.getField(),operator:"IN",value:""===t?[]:t.split(",")})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(76),i(7),i(518),i(5),i(6),i(10),i(17)],void 0===(r=function(t,e,i,n,r){return i.extend({shortname:"enabled",template:t.template(r),removable:!1,events:{'change [name="filter-value"]':"updateState"},configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:pre_update",function(e){t.defaults(e,{field:this.getCode(),operator:"=",value:!0})}.bind(this)),i.prototype.configure.apply(this,arguments)},renderInput:function(){return this.template({isEditable:this.isEditable(),labels:{title:e("pim_common.status"),valueChoices:{all:e("pim_common.all"),enabled:e("pim_enrich.export.product.filter.enabled.value.enabled"),disabled:e("pim_enrich.export.product.filter.enabled.value.disabled")}},value:this.getValue()})},postRender:function(){this.$('[name="filter-value"]').select2({minimumResultsForSearch:-1})},isEmpty:function(){return!1},updateState:function(){var t=this.$('[name="filter-value"]').val();"all"===t?this.setData({field:this.getField(),operator:"ALL",value:null}):this.setData({field:this.getField(),operator:"=",value:"enabled"===t})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(76),i(7),i(519),i(5),i(6),i(10),i(17),i(88),i(64),i(115)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c,u,d,p){return n.extend({shortname:"updated",template:e.template(o),events:{'change [name="filter-operator"], [name="filter-value-updated"]':"updateState"},datetimepickerOptions:{format:d.get("date").format,defaultFormat:d.get("date").defaultFormat,language:d.get("language")},modelDateFormat:"yyyy-MM-dd HH:mm:ss",initialize:function(t){return this.config=t.config,n.prototype.initialize.apply(this,arguments)},configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:pre_update",function(t){e.defaults(t,{field:this.getCode(),operator:e.first(e.values(this.config.operators))})}.bind(this)),n.prototype.configure.apply(this,arguments)},renderInput:function(){var t=this.getValue(),e=this.getOperator();return"SINCE LAST JOB"!==e&&"SINCE LAST N DAYS"!==e&&(t=p.format(t,this.modelDateFormat,d.get("date").format)),this.template({isEditable:this.isEditable(),__:i,field:this.getField(),operator:e,value:t,operatorChoices:this.config.operators})},postRender:function(){this.$('[name="filter-operator"]').select2({minimumResultsForSearch:-1}),">"===this.getOperator()&&u.init(this.$(".date-wrapper:first"),this.datetimepickerOptions).on("changeDate",this.updateState.bind(this))},isEmpty:function(){return!this.getOperator()||"ALL"===this.getOperator()},updateState:function(){this.$(".date-wrapper:first").datetimepicker("hide");var t=this.getOperator(),i=this.$('[name="filter-value-updated"]').val(),n=this.$('[name="filter-operator"]').val();n!==t&&(i=""),">"===n?i=p.format(i,d.get("date").format,this.modelDateFormat):"SINCE LAST JOB"===n&&(i=this.getParentForm().getFormData().code),e.isUndefined(i)&&(i=""),this.setData({field:this.getField(),operator:n,value:i}),this.render()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(76),i(7),i(520),i(17)],void 0===(r=function(t,e,i,n,r){return i.extend({shortname:"completeness",template:t.template(r),events:{'change [name="filter-operator"]':"updateState"},initialize:function(t){this.config=t.config},configure:function(){return this.listenTo(this.parentForm.getRoot(),"locales:update:after",this.updateState.bind(this)),this.listenTo(this.getRoot(),"pim_enrich:form:entity:pre_update",function(e){t.defaults(e,{field:this.getCode(),operator:t.first(this.config.operators),value:100})}.bind(this)),i.prototype.configure.apply(this,arguments)},renderInput:function(){return this.template({isEditable:this.isEditable(),__:e,operator:this.getOperator(),value:this.getValue(),operatorChoices:this.config.operators})},postRender:function(){this.$('[name="filter-operator"]').select2({minimumResultsForSearch:-1})},isEmpty:function(){return!this.config.neverEmpty&&"ALL"===this.getOperator()},updateState:function(){this.setData({field:this.getField(),operator:this.$('[name="filter-operator"]').val(),value:100,context:{locales:this.getParentForm().getFilters().structure.locales}})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(8),i(76),i(7),i(521),i(5),i(523),i(17)],void 0===(r=function(t,e,i,n,r,o,a,s,l){var c=n.BootstrapModal.extend({className:"modal jstree-modal"});return r.extend({shortname:"category",template:e.template(l),className:"AknFieldContainer control-group filter-item category-filter",events:{"click button":"openSelector"},configure:function(){return this.listenTo(this,"channel:update:after",this.channelUpdated.bind(this)),this.listenTo(this.getRoot(),"pim_enrich:form:entity:pre_update",function(t){e.defaults(t,{field:this.getCode(),operator:"IN CHILDREN",value:[]})}.bind(this)),r.prototype.configure.apply(this,arguments)},renderInput:function(){var t="IN CHILDREN"===this.getOperator()?0:this.getValue().length;return this.template({isEditable:this.isEditable(),titleEdit:i("pim_connector.export.categories.selector.title"),labelEdit:i("pim_common.edit"),labelInfo:i("pim_connector.export.categories.selector.label",{count:t},t),value:this.getValue()})},channelUpdated:function(){this.getCurrentChannel().then(function(t){this.setDefaultValues(t),this.render()}.bind(this))},getTemplateContext:function(){return t.when(r.prototype.getTemplateContext.apply(this,arguments),this.getCurrentChannel()).then(function(t,e){return"IN CHILDREN"===this.getOperator()&&this.setDefaultValues(e),t}.bind(this))},openSelector:function(){var t=new c({title:i("pim_connector.export.categories.selector.modal.title"),cancelText:i("pim_common.cancel"),okText:i("pim_common.confirm"),content:""});t.render();var n=new a({el:t.$el.find(".modal-body"),attributes:{channel:this.getParentForm().getFilters().structure.scope,categories:"IN CHILDREN"===this.getOperator()?[]:this.getValue()}});n.render(),t.open(),t.on("cancel",function(){t.remove(),n.remove()}),t.on("ok",function(){e.isEmpty(n.attributes.categories)?this.getCurrentChannel().then(function(t){this.setDefaultValues(t)}.bind(this)):this.setData({field:this.getField(),operator:"IN",value:n.attributes.categories}),t.close(),t.remove(),n.remove(),this.render()}.bind(this))},isEmpty:function(){return!1},getCurrentChannel:function(){return s.getFetcher("channel").fetch(this.getParentForm().getFilters().structure.scope)},setDefaultValues:function(t){"IN CHILDREN"===this.getOperator()&&e.isEqual(this.getValue(),[t.category_tree])||this.setData({field:this.getField(),operator:"IN CHILDREN",value:[t.category_tree]})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(76),i(5),i(6),i(524)],void 0===(r=function(t,e,i,n,r,o,a){return n.extend({shortname:"identifier",template:e.template(a),events:{'change [name="filter-value"]':"updateState"},isEmpty:function(){return e.isEmpty(this.getValue())},renderInput:function(){return this.template({__:i,value:e.isArray(this.getValue())?this.getValue().join(", "):"",field:this.getField(),isEditable:this.isEditable()})},getTemplateContext:function(){return n.prototype.getTemplateContext.apply(this,arguments).then(function(t){return e.extend({},t,{removable:!1})}.bind(this))},updateState:function(){var t=this.$('[name="filter-value"]').val().split(/[\s,]+/),i=e.reject(t,function(t){return""===t});this.setData({field:this.getField(),operator:"IN",value:i})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(67),i(5),i(6),i(10),i(525),i(58)],void 0===(r=function(t,e,i,n,r,o,a,s){return n.extend({shortname:"boolean",template:e.template(s),events:{'change [name="filter-value"]':"updateState"},configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:pre_update",function(t){e.defaults(t,{field:this.getCode(),operator:"=",value:!0})}.bind(this)),n.prototype.configure.apply(this,arguments)},renderInput:function(t){return this.template(e.extend({},t,{value:this.getValue(),field:this.getField(),labels:{on:i("pim_common.yes"),off:i("pim_common.no")}}))},postRender:function(){this.$(".switch").bootstrapSwitch()},updateState:function(){this.setData({field:this.getField(),operator:"=",value:this.$('[name="filter-value"]').is(":checked")})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(67),i(5),i(6),i(10),i(526),i(17)],void 0===(r=function(t,e,i,n,r,o,a,s){return n.extend({shortname:"string",template:e.template(s),events:{'change [name="filter-operator"], [name="filter-value"]':"updateState"},configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:pre_update",function(t){e.defaults(t,{field:this.getCode(),value:"",operator:e.first(this.config.operators)})}.bind(this)),n.prototype.configure.apply(this,arguments)},isEmpty:function(){return!e.contains(["EMPTY","NOT EMPTY"],this.getOperator())&&(void 0===this.getValue()||""===this.getValue())},renderInput:function(t){return this.template(e.extend({},t,{__:i,value:this.getValue(),field:this.getField(),operator:this.getOperator(),operators:this.getLabelledOperatorChoices(this.shortname)}))},postRender:function(){this.$(".operator").select2({minimumResultsForSearch:-1})},updateState:function(){var t=this.$('[name="filter-value"]').val(),e=this.$('[name="filter-operator"]').val();this.setData({field:this.getField(),operator:e,value:t}),this.render()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(67),i(5),i(6),i(10),i(527),i(17)],void 0===(r=function(t,e,i,n,r,o,a,s){return n.extend({shortname:"metric",template:e.template(s),events:{'change [name="filter-data"], [name="filter-operator"], select.unit':"updateState"},configure:function(){return t.when(r.getFetcher("attribute").fetch(this.getCode()),n.prototype.configure.apply(this,arguments)).then(function(t){this.listenTo(this.getRoot(),"pim_enrich:form:entity:pre_update",function(i){e.defaults(i,{field:this.getCode(),operator:e.first(e.values(this.config.operators)),value:{amount:"",unit:t.default_metric_unit}})}.bind(this))}.bind(this))},isEmpty:function(){return!e.contains(["EMPTY","NOT EMPTY"],this.getOperator())&&(void 0===this.getValue()||void 0===this.getValue().amount||""===this.getValue().amount)},renderInput:function(t){return this.template(e.extend({},t,{__:i,value:this.getValue(),field:this.getField(),operator:this.getOperator(),operators:this.getLabelledOperatorChoices(this.shortname)}))},postRender:function(){this.$(".operator, .unit").select2({minimumResultsForSearch:-1})},getTemplateContext:function(){return t.when(n.prototype.getTemplateContext.apply(this,arguments),r.getFetcher("measure").fetchAll()).then(function(t,i){return e.extend({},t,{units:i[t.attribute.metric_family]})}.bind(this))},updateState:function(){var t={amount:this.$('[name="filter-data"]').val(),unit:this.$('select[name="filter-unit"]').val()},e=this.$('[name="filter-operator"]').val();this.setData({field:this.getField(),operator:e,value:t})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(67),i(5),i(6),i(10),i(528),i(17)],void 0===(r=function(t,e,i,n,r,o,a,s){return n.extend({shortname:"price-collection",template:e.template(s),events:{'change [name="filter-data"], [name="filter-operator"], select.currency':"updateState"},configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:pre_update",function(t){e.defaults(t,{field:this.getCode(),operator:e.first(e.values(this.config.operators)),value:{amount:"",currency:""}})}.bind(this)),n.prototype.configure.apply(this,arguments)},isEmpty:function(){return!e.contains(["EMPTY","NOT EMPTY"],this.getOperator())&&(void 0===this.getValue()||void 0===this.getValue().amount||""===this.getValue().amount)},renderInput:function(t){return this.template(e.extend({},t,{__:i,value:this.getValue(),field:this.getField(),operator:this.getOperator(),operators:this.getLabelledOperatorChoices(this.shortname)}))},postRender:function(){this.$(".operator, .currency").select2({minimumResultsForSearch:-1})},getTemplateContext:function(){return t.when(n.prototype.getTemplateContext.apply(this,arguments),r.getFetcher("currency").fetchAll()).then(function(t,i){return e.extend({},t,{currencies:i})}.bind(this))},updateState:function(){var t={amount:this.$('[name="filter-data"]').val(),currency:this.$('select[name="filter-currency"]').val()},e=this.$('[name="filter-operator"]').val();this.setData({field:this.getField(),operator:e,value:t})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(67),i(5),i(6),i(10),i(529),i(17)],void 0===(r=function(t,e,i,n,r,o,a,s){return n.extend({shortname:"number",template:e.template(s),events:{'change [name="filter-operator"], [name="filter-value"]':"updateState"},configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:pre_update",function(t){e.defaults(t,{field:this.getCode(),operator:e.first(e.values(this.config.operators))})}.bind(this)),n.prototype.configure.apply(this,arguments)},isEmpty:function(){return!e.contains(["EMPTY","NOT EMPTY"],this.getOperator())&&(void 0===this.getValue()||""===this.getValue())},renderInput:function(t){return this.template(e.extend({},t,{__:i,shortName:this.shortname,value:this.getValue(),field:this.getField(),operator:this.getOperator(),operators:this.getLabelledOperatorChoices(this.shortname)}))},postRender:function(){this.$(".operator").select2({minimumResultsForSearch:-1})},updateState:function(){var t=this.$('[name="filter-operator"]').val(),i=null;e.contains(["EMPTY","NOT EMPTY"],t)||(i=this.$('[name="filter-value"]').val().trim()),this.setData({field:this.getField(),operator:t,value:i})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(7),i(67),i(5),i(6),i(10),i(530),i(17)],void 0===(r=function(t,e,i,n,r,o,a,s,l){return r.extend({shortname:"select",template:e.template(l),choicePromise:null,events:{'change [name="filter-value"], [name="filter-operator"]':"updateState"},initialize:function(){return this.choicePromise=null,r.prototype.initialize.apply(this,arguments)},configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:pre_update",function(t){e.defaults(t,{field:this.getCode()+".code"})}.bind(this)),r.prototype.configure.apply(this,arguments)},isEmpty:function(){return!e.contains(["EMPTY","NOT EMPTY"],this.getOperator())&&(void 0===this.getValue()||e.isEmpty(this.getValue()))},renderInput:function(){return void 0===this.getOperator()&&this.setOperator(e.first(e.values(this.config.operators))),this.template({__:i,value:this.getValue(),field:this.getField(),operator:this.getOperator(),editable:this.isEditable(),operators:this.getLabelledOperatorChoices(this.shortname)})},postRender:function(t){this.$(".operator").select2({minimumResultsForSearch:-1}),e.contains(["EMPTY","NOT EMPTY"],this.getOperator())||this.$(".value").select2(t.select2Options)},getTemplateContext:function(){return o.getFetcher("attribute").fetch(this.getCode()).then(function(t){return this.cleanInvalidValues(t,this.getValue()).then(function(i){return e.isEqual(this.getValue(),i)||this.setValue(i,{silent:!1}),{label:s.getLabel(t.labels,a.get("uiLocale"),t.code),select2Options:this.getSelect2Options(t),removable:this.isRemovable(),editable:this.isEditable()}}.bind(this))}.bind(this))},updateState:function(){var t=[],i=this.$('[name="filter-operator"]').val();if(!e.contains(["EMPTY","NOT EMPTY"],i)){var n=this.$('[name="filter-value"]').val().split(/[\s,]+/);t=e.reject(n,function(t){return""===t})}this.setData({field:this.getField(),operator:i,value:t})},getSelect2Options:function(i){return{ajax:{url:this.getChoiceUrl(i),cache:!0,data:function(t){return{search:t,options:{locale:a.get("uiLocale")}}},results:function(t){return t}},initSelection:function(n,r){this.getChoices(i).then(function(i){var o=i.results,a=e.map(t(n).val().split(","),function(t){return e.findWhere(o,{id:t})});r(a)}.bind(this))}.bind(this),multiple:!0}},getChoices:function(e){var i=this.getChoiceUrl(e);return null===this.choicePromise&&(this.choicePromise=t.get(i)),this.choicePromise},getChoiceUrl:function(t){return n.generate(this.config.url,{class:this.config.entityClass,dataLocale:a.get("uiLocale"),collectionId:t.meta.id,options:{type:"code"},referenceDataName:t.reference_data_name})},cleanInvalidValues:function(t,i){return this.getChoices(t).then(function(t){var n=e.pluck(t.results,"id");return i=void 0===i?[]:i,e.intersection(i,n)}.bind(this))}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(67),i(5),i(6),i(10),i(531),i(17)],void 0===(r=function(t,e,i,n,r,o,a,s){return n.extend({shortname:"media",template:e.template(s),events:{'change [name="filter-value"], [name="filter-operator"]':"updateState"},configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:pre_update",function(t){e.defaults(t,{field:this.getCode(),value:"",operator:e.first(this.config.operators)})}.bind(this)),n.prototype.configure.apply(this,arguments)},isEmpty:function(){return!e.contains(["EMPTY","NOT EMPTY"],this.getOperator())&&(void 0===this.getValue()||""===this.getValue())},renderInput:function(t){return this.template(e.extend({},t,{__:i,value:this.getValue(),field:this.getField(),operator:this.getOperator(),operators:this.getLabelledOperatorChoices(this.shortname)}))},postRender:function(){this.$(".operator").select2({minimumResultsForSearch:-1})},updateState:function(){var t=this.$('[name="filter-value"]').val(),e=this.$('[name="filter-operator"]').val();this.setData({field:this.getField(),operator:e,value:t})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(67),i(532),i(88),i(115),i(64),i(17)],void 0===(r=function(t,e,i,n,r,o,a,s){return n.extend({shortname:"date",template:e.template(r),events:{'change [name^="filter-"]':"updateState"},datetimepickerOptions:{format:s.get("date").format,defaultFormat:s.get("date").defaultFormat,language:s.get("language")},modelDateFormat:"yyyy-MM-dd",configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:pre_update",function(t){e.defaults(t,{field:this.getCode(),operator:e.first(e.values(this.config.operators))})}.bind(this)),n.prototype.configure.apply(this,arguments)},isEmpty:function(){var t=this.getValue();return e.contains(["BETWEEN","NOT BETWEEN"],this.getOperator())&&(void 0===t||!e.isArray(t)||e.isEmpty(t[0])||e.isEmpty(t[1]))||!(e.contains(["EMPTY","NOT EMPTY"],this.getOperator())||void 0!==t&&""!==t)},postRender:function(){var t=this.$(".start-date-wrapper:first"),e=this.$(".end-date-wrapper:first");this.$('[name="filter-operator"]').select2(),0!==t.length&&o.init(t,this.datetimepickerOptions).on("changeDate",this.updateState.bind(this)),0!==e.length&&o.init(e,this.datetimepickerOptions).on("changeDate",this.updateState.bind(this))},renderInput:function(){var t=s.get("date").format,n=this.getValue(),r=a.format(n,this.modelDateFormat,t),o=null;return e.isArray(n)&&(r=a.format(n[0],this.modelDateFormat,t),o=a.format(n[1],this.modelDateFormat,t)),this.template({isEditable:this.isEditable(),__:i,shortName:this.shortname,field:this.getField(),operator:this.getOperator(),startValue:r,endValue:o,operators:this.getLabelledOperatorChoices(this.shortname)})},updateState:function(){this.$(".start-date-wrapper").datetimepicker("hide"),this.$(".end-date-wrapper").datetimepicker("hide");var t=null,i=this.$('[name="filter-operator"]').val();if(!e.contains(["EMPTY","NOT EMPTY"],i)){var n=s.get("date").format,r=this.$('[name="filter-value-start"]').val(),o=a.format(r,n,this.modelDateFormat),l=this.$('[name="filter-value-end"]');if(t=o,0!==l.length){var c=l.val();t=[o,a.format(c,n,this.modelDateFormat)]}}this.setData({field:this.getField(),operator:i,value:t}),this.render()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(11),i(7),i(12),i(147),i(20),i(533)],void 0===(r=function(t,e,i,n,r,o,a,s,l){return a.extend({template:e.template(l),currentStep:"choose",events:{"click .wizard-action":function(t){this.applyAction(t.target.dataset.actionTarget)}},initialize:function(t){this.config=e.extend({},t.config),a.prototype.initialize.apply(this,arguments)},configure:function(){return this.listenTo(this.getRoot(),"mass-edit:navigate:action",this.applyAction.bind(this)),a.prototype.configure.apply(this,arguments)},render:function(){var t,e="choose"===this.currentStep?this.getChooseExtension():this.getOperationExtension(this.getCurrentOperation());switch(this.currentStep){case"configure":t=1;break;case"confirm":t=2;break;default:t=0}var n=this.getFormData().itemsCount;this.$el.html(this.template({currentStep:this.currentStep,currentStepNumber:t,currentOperation:this.getCurrentOperation(),label:e.getLabel(),description:e.getDescription(),title:e.getTitle(),labelCount:e.getLabelCount(),confirm:i(this.config.confirm,{itemsCount:n},n),previousLabel:i("pim_common.previous"),nextLabel:i("pim_common.next"),confirmLabel:i("pim_common.confirm"),illustrationClass:e.getIllustrationClass(),__:i})),this.$(".step").empty().append(e.$el),e.render(),this.delegateEvents()},getOperations:function(){return e.chain(this.extensions).filter(function(t){return void 0!==t.options.config.label}).map(function(t){return{code:t.getCode(),label:t.getLabel(),icon:t.getIcon()}}).value()},getChooseExtension:function(){return e.filter(this.extensions,function(t){return"choose"===t.targetZone})[0]},setCurrentOperation:function(t){var e=this.getFormData();e.operation=t,e.jobInstanceCode=this.getOperationExtension(t).getJobInstanceCode(),this.setData(e),this.render()},getCurrentOperation:function(){return this.getFormData().operation},getOperationExtension:function(t){return e.find(this.extensions,e=>"function"==typeof e.getCode&&e.getCode()===t)},applyAction:function(e){switch(e){case"grid":n.redirectToRoute(this.config.backRoute);break;case"choose":this.currentStep="choose",this.render();break;case"configure":var a=this.getOperationExtension(this.getCurrentOperation());"choose"===this.currentStep&&a.reset(),this.currentStep="configure",a.setReadOnly(!1),this.render();break;case"confirm":a=this.getOperationExtension(this.getCurrentOperation());(l=new s).render().$el.appendTo(this.getRoot().$el).show(),a.validate().then(t=>{t&&(a.setReadOnly(!0),this.currentStep="confirm",this.render())}).always(()=>{l.hide().$el.remove()});break;case"validate":var l;(l=new s).render().$el.appendTo(this.getRoot().$el).show(),t.ajax({method:"POST",contentType:"application/json",url:r.generate("pim_enrich_mass_edit_rest_launch"),data:JSON.stringify(this.getFormData())}).then(()=>{n.redirectToRoute(this.config.backRoute),o.notify("success",i(this.config.launchedLabel,{operation:this.getOperationExtension(this.getCurrentOperation()).getLabel()}))}).fail(()=>{o.notify("error",i(this.config.launchErrorLabel))}).always(()=>{l.hide().$el.remove()})}},disableNextButton:function(){this.$el.find(".next").addClass("AknButton--disabled").removeClass("wizard-action")}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(3),i(534)],void 0===(r=function(t,e,i,n,r){return n.extend({template:e.template(r),className:"AknSquareList",events:{"click .operation":"updateOperation"},initialize:function(t){this.config=e.extend({},t.config),n.prototype.initialize.apply(this,arguments)},render:function(){return this.$el.html(this.template({operations:this.getParent().getOperations(),currentOperation:this.getParent().getCurrentOperation()})),this.delegateEvents(),this},updateOperation:function(e){this.getParent().setCurrentOperation(t(e.target).closest(".operation").data("code")),this.render()},getLabel:function(){var t=this.getFormData().itemsCount;return i(this.config.title,{itemsCount:t},t)},getTitle(){return i(this.config.title)},getLabelCount:function(){var t=this.getFormData().itemsCount;return i(this.config.labelCount,{itemsCount:t},t)},getDescription:function(){return""},getIllustrationClass:function(){return""}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(8),i(2),i(7),i(68),i(6),i(14),i(5),i(10),i(48),i(20),i(12),i(535),i(536)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c,u,d,p,h,f){return o.extend({className:"AknGridContainer--withoutNoDataPanel",pickTemplate:e.template(h),confirmTemplate:e.template(f),errors:null,formPromise:null,events:{"click .associations-list li":"changeAssociationType","click .add-associations":"addAssociations"},reset:function(){this.setValue([])},render:function(){if(this.readOnly){var i=new d;this.$el.empty().append(i.render().$el.show()),t.when(l.getFetcher("product-model").fetchByIdentifiers(this.getValue()[this.getCurrentAssociationTypeCode()].product_models),l.getFetcher("product").fetchByIdentifiers(this.getValue()[this.getCurrentAssociationTypeCode()].products)).then((t,e)=>{var i=e.concat(t);this.$el.html(this.confirmTemplate({items:i,title:n("pim_enrich.entity.product.module.basket.title"),emptyLabel:n("pim_enrich.entity.product.module.basket.empty_basket"),confirmLabel:n("pim_enrich.mass_edit.product.operation.associate_to_product_and_product_model.confirm"),imagePathMethod:this.imagePathMethod.bind(this),labelMethod:this.labelMethod.bind(this),readOnly:this.readOnly})),this.delegateEvents()}).always(()=>{i.remove()})}else this.loadAssociationTypes().then(t=>{var i=t.length?e.first(t).code:null;(null===this.getCurrentAssociationTypeCode()||void 0===t.find(t=>t.code===this.getCurrentAssociationTypeCode()))&&this.setCurrentAssociationType(i),this.$el.html(this.pickTemplate({associationTypes:t,associationType:t.find(t=>t.code===this.getCurrentAssociationTypeCode()),locale:a.get("uiLocale"),i18n:c,label:n("pim_enrich.entity.product.module.associations.association_type_selector"),addAssociationsLabel:n("pim_enrich.entity.product.module.associations.add_associations")})),this.delegateEvents()})},imagePathMethod:function(t){var e=null;return null!==t.meta.image&&(e=t.meta.image.filePath),u.getMediaShowUrl(e,"thumbnail_small")},labelMethod:function(t){return t.meta.label[a.get("catalogLocale")]},setValue:function(t){var e=this.getFormData();e.actions=[{field:"associations",value:t}],this.setData(e)},getValue:function(){var t=e.first(this.getFormData().actions);return t?t.value:null},changeAssociationType:function(t){t.preventDefault();var e=t.currentTarget.dataset.associationType;this.setCurrentAssociationType(e),this.render()},setCurrentAssociationType:function(t){sessionStorage.setItem("current_association_type",t)},getCurrentAssociationTypeCode:function(){return sessionStorage.getItem("current_association_type")},loadAssociationTypes:function(){return l.getFetcher("association-type").fetchAll()},addAssociations:function(){this.manageProducts().then(t=>{var e=[],i=[];t.forEach(t=>{var n=t.match(/^product_model_(.*)$/);if(n)i.push(n[1]);else{var r=t.match(/^product_(.*)$/);e.push(r[1])}});var n={};n[this.getCurrentAssociationTypeCode()]={products:e,product_models:i,groups:[]},this.setValue(n),this.getRoot().trigger("mass-edit:navigate:action","confirm")})},manageProducts:function(){var e=t.Deferred();return s.build("pim-associations-product-picker-form").then(t=>{l.getFetcher("association-type").fetch(this.getCurrentAssociationTypeCode()).then(r=>{t.setCustomTitle(n("pim_enrich.entity.product.module.associations.manage",{associationType:r.labels[a.get("catalogLocale")]}));var o=new i.BootstrapModal({className:"modal modal--fullPage modal--topButton",modalOptions:{backdrop:"static",keyboard:!1},allowCancel:!0,okCloses:!1,title:"",content:"",cancelText:" ",okText:n("pim_common.confirm")});o.open(),o.on("cancel",e.reject),o.on("ok",()=>{var i=t.getItems().sort((t,e)=>t.code<e.code);o.close(),e.resolve(i)}),t.setElement(o.$(".modal-body")).render()})}),e.promise()},validate:function(){var i=t.Deferred();return e.isEmpty(this.getValue())?(p.notify("error",n("pim_enrich.mass_edit.product.operation.associate_to_product_and_product_model.validate")),i.resolve(!1)):i.resolve(!0),i}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(68),i(537),i(58)],void 0===(r=function(t,e,i,n){return i.extend({template:t.template(n),events:{"change .switch":"updateModel"},reset:function(){this.setValue(!1)},render:function(){return this.$el.html(this.template({value:this.getValue(),readOnly:this.readOnly,labels:{on:e("pim_common.yes"),off:e("pim_common.no"),field:e("pim_enrich.mass_edit.product.operation.change_status.field")}})),this.$(".switch").bootstrapSwitch(),this},updateModel:function(t){this.setValue(t.target.checked)},setValue:function(t){var e=this.getFormData();e.actions=[{field:"enabled",value:t}],this.setData(e)},getValue:function(){var e=t.findWhere(this.getFormData().actions,{field:"enabled"});return e?e.value:null}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(12),i(68),i(23),i(540)],void 0===(r=function(t,e,i,n,r,o,a){return r.extend({template:e.template(a),events:{},configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:post_update",this.updateModel),r.prototype.configure.apply(this,arguments)},render:function(){return this.$el.html(this.template({value:this.getValue(),readOnly:this.readOnly})),r.prototype.render.apply(this,arguments),this},updateModel:function(t){this.getParent().getCurrentOperation()===this.getCode()&&(t.actions=[{field:"productModelCode",value:t.product_model}],this.setData(t,{silent:!0}))},getValue:function(){var t=e.findWhere(this.getFormData().actions,{field:"productModelCode"});return t?t.value:null},validate:function(){var e=this.getFormData(),r=null!==o.accessProperty(e,"actions.0.value",null);return r||n.notify("error",i("pim_enrich.mass_edit.product.operation.add_to_existing_product_model.no_update")),t.Deferred().resolve(r)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(68),i(202),i(541),i(28)],void 0===(r=function(t,e,i,n,r,o){return i.extend({template:t.template(r),events:{"change .family":"updateModel"},reset:function(){this.setValue(null)},render:function(){this.$el.html(this.template({readOnly:this.readOnly,value:this.getValue(),label:e("pim_enrich.entity.family.uppercase_label")}));var t=n.getConfig(this.getValue());return o.init(this.$(".family"),t),this},updateModel:function(t){this.setValue(t.target.value)},setValue:function(t){var e=this.getFormData();e.actions=[{field:"family",value:t}],this.setData(e)},getValue:function(){var e=t.findWhere(this.getFormData().actions,{field:"family"});return e?e.value:null}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(12),i(10),i(6),i(68),i(5),i(23),i(542)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c){return a.extend({template:e.template(c),reset:function(){this.setValue([])},render:function(){return this.$el.html(this.template()),this.renderExtensions(),this.$el.find("input[name=group]").attr("disabled",this.readOnly?"disabled":null),this},updateModel:function(t){this.transformValue(t.target.value,t.target.checked?e.union:e.without)},setValue:function(t){var e=this.getFormData();e.actions=[{field:"groups",value:t}],this.setData(e)},transformValue:function(t,e){var i=this.getValue();this.setValue(e(i,[t]))},getValue:function(){return e.findWhere(this.getFormData().actions,{field:"group"})},validate:function(){var e=this.getFormData(),r=l.accessProperty(e,"group","").split(",");this.setValue(r);var o=0!==r.length;return o||n.notify("error",i("pim_enrich.mass_edit.product.operation.add_to_group.no_update")),t.Deferred().resolve(o)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(12),i(10),i(6),i(5),i(68),i(201),i(23),i(543)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c,u){return s.extend({template:e.template(u),currentTree:null,categoryCache:{},selectedCategories:[],treePromise:null,view:null,trees:[],events:{"click .nav-tabs .tree-selector":"changeTree","change #hidden-tree-input":"updateModel"},initialize:function(){this.trees=[],s.prototype.initialize.apply(this,arguments)},reset:function(){this.setValue([]),this.treePromise=null,this.currentTree=null,this.selectedCategories=[]},render:function(){return null===this.treePromise?(a.getFetcher(this.config.fetcher).clear(),this.treePromise=a.getFetcher(this.config.fetcher).fetchAll().then(function(t){return this.trees=t,null===this.currentTree&&(this.currentTree=e.first(t).code),this.$el.html(this.template({i18n:r,locale:o.get("catalogLocale"),trees:t,currentTree:e.findWhere(t,{code:this.currentTree}),selectedCategories:this.selectedCategories})),this.delegateEvents(),this.toggleContentCache(),{treeAssociate:new l("#trees","#hidden-tree-input",{list_categories:this.config.listRoute,children:this.config.childrenRoute}),trees:t}}.bind(this))):(this.toggleContentCache(),this.delegateEvents()),this},toggleContentCache:function(){this.readOnly?this.$el.find(".content-cache").removeClass("AknTabContainer-contentCache--hidden"):this.$el.find(".content-cache").addClass("AknTabContainer-contentCache--hidden")},updateModel:function(t){this.selectedCategories=t.target.value.split(",");var e=this.selectedCategories.filter(t=>""!==t).map(this.getCategoryCode.bind(this));this.setValue(e)},setValue:function(t){var e=this.getFormData();e.actions=[{field:"categories",value:t}],this.setData(e)},getValue:function(){var t=e.findWhere(this.getFormData().actions,{field:"categories"});return t?t.value:null},changeTree:function(t){this.currentTree=t.currentTarget.dataset.tree,this.treePromise.then(function(t){var i=e.findWhere(t.trees,{code:this.currentTree});t.treeAssociate.switchTree(i.id),this.delegateEvents()}.bind(this))},getCategoryCode:function(t){if(!this.categoryCache[t]){var e=this.$("#node_"+t),i=e.closest(".root-unselectable");this.categoryCache[t]={code:e.data("code")+"",rootId:i.data("tree-id")}}return this.categoryCache[t].code},validate:function(){var e=this.getFormData(),r=0!==c.accessProperty(e,"actions.0.value",[]).length;return r||n.notify("error",i(`pim_enrich.mass_edit.product.operation.${e.operation}.no_update`)),t.Deferred().resolve(r)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(544),i(11),i(6),i(5),i(48),i(210)],void 0===(r=function(t,e,i,n,r,o,a,s,l){return n.extend({previousFamilyVariant:null,templateProductModel:e.template(l),configure(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:post_update",this.onPostUpdate.bind(this)),n.prototype.configure.apply(this,arguments)},onPostUpdate(){this.getFormData().family_variant!==this.previousFamilyVariant&&(this.previousFamilyVariant=this.getFormData().family_variant,this.setData({[this.fieldName]:null}),this.render())},getSelect2Options(){var t=n.prototype.getSelect2Options.apply(this,arguments);return t.dropdownCssClass="variant-navigation",t.formatResult=((t,e)=>{var i=null===t.image?null:t.image.filePath,n={label:t.text,image:s.getMediaShowUrl(i,"thumbnail_small")};e.append(this.templateProductModel({entity:n,getClass:this.getCompletenessBadgeClass}))}),t},select2Data(){var t=n.prototype.select2Data.apply(this,arguments);return t.options.family_variant=this.getFormData().family_variant,t},convertBackendItem:t=>({id:t.code,text:`${t.code} - ${t.meta.label[o.get("uiLocale")]}`,image:t.meta.image||null}),isReadOnly(){return!this.getFormData().family_variant||n.prototype.isReadOnly.apply(this,arguments)},select2InitSelection(e,i){var n=t(e).val();""!==n&&a.getFetcher("product-model-by-code").fetch(n).then(t=>{i(this.convertBackendItem(t))})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(484)],void 0===(r=function(t){return t.extend({readOnly:!1,initialize(){t.prototype.initialize.apply(this,arguments),this.readOnly=!1},configure(){return this.listenTo(this,"mass-edit:update-read-only",this.setReadOnly.bind(this)),t.prototype.configure.apply(this,arguments)},isReadOnly(){return this.readOnly||!this.getFormData().family},setReadOnly(t){this.readOnly=t}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(7),i(68),i(6),i(14),i(23),i(5),i(545)],void 0===(r=function(t,e,i,n,r,o,a,s,l){return n.extend({template:t.template(l),formPromise:null,render:function(){null===this.getValue()&&this.setValue([]);var t={attributes:[],attribute_requirements:{},meta:{}};return this.formPromise||(this.formPromise=o.build("pim-mass-family-edit-form").then(function(e){return e.setData(t),e.trigger("pim_enrich:form:entity:post_fetch",t),this.listenTo(e,"pim_enrich:mass_edit:model_updated",this.updateModel),e}.bind(this))),this.formPromise.then(function(t){this.$el.html(this.template()),t.setElement(this.$(".set-requirements")).render(),t.trigger("pim_enrich:form:update_read_only",this.readOnly),this.$el.find(".navigation").remove(),this.$el.find(".AknDefault-mainContent").addClass("AknDefault-mainContent--withoutPadding")}.bind(this)),this},updateModel:function(e){s.getFetcher("channel").fetchAll().then(function(i){var n=[];t.each(e.attributes,function(r){t.each(i,function(i){n.push({attribute_code:r,channel_code:i.code,is_required:t.contains(a.accessProperty(e.attribute_requirements,i.code,[]),r)})})}),this.setValue(n)}.bind(this))},setValue:function(t){var e=this.getFormData();e.actions=t,this.setData(e)},getValue:function(){return this.getFormData().actions}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(1),i(3),i(6)],void 0===(r=function(t,e,i,n){return i.extend({configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:update_state",this.triggerModelUpdate),this.listenTo(this.getRoot(),"pim_enrich:form:remove-attribute:after",this.triggerModelUpdate),this.listenTo(this.getRoot(),"pim_enrich:form:add-attribute:after",this.triggerModelUpdate),i.prototype.configure.apply(this,arguments)},triggerModelUpdate:function(){var e=t.mapObject(this.getFormData().values,function(e){return t.map(e,function(t){return null!==t.locale&&n.get("catalogLocale")!==t.locale&&(t.data=null),null!==t.scope&&n.get("catalogScope")!==t.scope&&(t.data=null),t})});return this.setData({values:e},{silent:!0}),this.getRoot().trigger("pim_enrich:mass_edit:model_updated",{values:e}),this}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(37),i(26),i(209),i(5),i(66),i(6),i(9),i(546)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c){return r.extend({template:e.template(c),locked:!1,configure:function(){return l.on("mass-edit:form:lock",this.onLock.bind(this)),l.on("mass-edit:form:unlock",this.onUnlock.bind(this)),this.onExtensions("add-attribute:add",this.addAttributes.bind(this)),r.prototype.configure.apply(this,arguments)},appendField:function(t,e){e.canBeSeen()&&(e.setLocked(this.locked),e.render(),t.append(e.$el))},addAttributes:function(i){var n=i.codes;t.when(o.getFetcher("attribute").fetchByIdentifiers(n),o.getFetcher("locale").fetch(s.get("catalogLocale")),o.getFetcher("channel").fetch(s.get("catalogScope"),{force_list_method:!0}),o.getFetcher("currency").fetchAll()).then(function(t,i,n,r){var o=this.getFormData();e.each(t,function(t){o.values[t.code]||(o.values[t.code]=a.generateMissingValues([],t,[i],[n],r))}),this.getExtension("attribute-group-selector").setCurrent(e.first(t).group),this.setData(o),this.getRoot().trigger("pim_enrich:form:add-attribute:after")}.bind(this))},onLock:function(){this.locked=!0},onUnlock:function(){this.locked=!1,this.render()},removeAttribute:function(t){if(n.isGranted("pim_enrich_product_remove_attribute")){var e=t.currentTarget.dataset.attribute,r=this.getFormData(),o=i.getFields();this.triggerExtensions("add-attribute:update:available-attributes"),delete r.values[e],delete o[e],this.setData(r),this.getRoot().trigger("pim_enrich:form:remove-attribute:after"),this.render()}}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(429),i(9)],void 0===(r=function(t,e){return t.extend({lock:!1,configure:function(){return e.on("mass-edit:form:lock",this.onLock.bind(this)),e.on("mass-edit:form:unlock",this.onUnlock.bind(this)),t.prototype.configure.apply(this,arguments)},toggleAttribute:function(){return!this.lock&&void t.prototype.toggleAttribute.apply(this,arguments)},onRemoveAttribute:function(){return!this.lock&&void t.prototype.onRemoveAttribute.apply(this,arguments)},onLock:function(){this.lock=!0},onUnlock:function(){this.lock=!1}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(1),i(3)],void 0===(r=function(t,e,i){return i.extend({configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:update_state",this.triggerModelUpdate),this.listenTo(this.getRoot(),"pim_enrich:form:entity:post_update",this.triggerModelUpdate),i.prototype.configure.apply(this,arguments)},triggerModelUpdate:function(){var e=this.getFormData();return e.attributes=t.pluck(e.attributes,"code"),delete e.meta,this.getRoot().trigger("pim_enrich:mass_edit:model_updated",e),this}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(5),i(425)],void 0===(r=function(t,e,i,n){return n.extend({getItemsToExclude:function(){return i.getFetcher(this.mainFetcher).getIdentifierAttribute().then(function(t){var i=e.pluck(this.getFormData().attributes,"code");return e.contains(i,t.code)||i.push(t.code),i}.bind(this))}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(8),i(3),i(547),i(6),i(10)],void 0===(r=function(t,e,i,n,r,o,a){return n.extend({template:t.template(r),events:{"change input":"updateModel"},updateModel:function(){var e={};t.each(this.$('input[name^="label-"]'),function(t){var i=t.dataset.locale;e[i]={locale:i,value:t.value}}),this.getFormModel().set("code",this.$('input[name="code"]').val()),this.getFormModel().set("optionValues",e)},render:function(){return this.configured?(this.$el.html(this.template({locale:o.get("catalogLocale"),i18n:a,option:this.getFormData(),__:e})),this.renderExtensions()):this}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(2),i(3),i(5),i(6),i(101)],void 0===(r=function(t,e,i,n,r){return e.extend({className:"products",initialize:function(t){this.config=t.config,e.prototype.initialize.apply(this,arguments)},configure:function(){return this.trigger("tab:register",{code:this.code,label:t(this.config.label)}),e.prototype.configure.apply(this,arguments)},render:function(){this.productGroupGrid||(this.productGroupGrid=new r(this.config.gridId,{locale:n.get("catalogLocale"),currentGroup:this.getFormData().meta.id,id:this.getFormData().meta.id,selection:this.getFormData().products,selectionIdentifier:"identifier"}),this.productGroupGrid.on("grid:selection:updated",function(t){this.setData("products",t)}.bind(this)),this.getRoot().on("pim_enrich:form:entity:post_fetch",()=>{this.code===this.getParent().getCurrentTab()&&this.productGroupGrid.refresh()})),this.$el.empty().append(this.productGroupGrid.render().$el),this.renderExtensions()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(35),i(391)],void 0===(r=function(t,e){return t.extend({remover:e})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(3),i(5),i(548),i(17)],void 0===(r=function(t,e,i,n,r){return i.extend({className:"tabsection",template:t.template(r),render:function(){this.$el.html(this.template({model:this.getFormData(),sectionTitle:e("pim_common.general_properties"),codeLabel:e("pim_common.code"),typeLabel:e("pim_common.type"),__:e})),this.$el.find("select.select2").select2({}),this.renderExtensions()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(3),i(549)],void 0===(r=function(t,e,i,n){return i.extend({tagName:"span",template:t.template(n),initialize:function(t){this.config=t.config,i.prototype.initialize.apply(this,arguments)},configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:post_fetch",this.render),i.prototype.configure.apply(this,arguments)},render:function(){var i=this.getFormData(),n="";return t.has(i,"products")&&(n=this.template({label:e(this.config.productCountLabel),productCount:i.products.length})),this.$el.html(n),this}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(59),i(12),i(401),i(37),i(10),i(6)],void 0===(r=function(t,e,i,n,r,o,a,s,l){return n.extend({updateSuccessMessage:i("pim_enrich.entity.group.flash.update.success"),updateFailureMessage:i("pim_enrich.entity.group.flash.update.fail"),save:function(){var n=t.extend(!0,{},this.getFormData());delete n.meta;var c=a.getNotReadyFields();if(!(0<c.length))return this.showLoadingMask(),this.getRoot().trigger("pim_enrich:form:entity:pre_save"),o.save(n.code,n).then(function(t){this.postSave(),this.setData(t),this.getRoot().trigger("pim_enrich:form:entity:post_fetch",t)}.bind(this)).fail(this.fail.bind(this)).always(this.hideLoadingMask.bind(this));var u=e.map(c,function(t){return s.getLabel(t.attribute.label,l.get("catalogLocale"),t.attribute.code)});r.notify("error",i("pim_enrich.entity.group.flash.update.fields_not_ready",{fields:u.join(", ")}))}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(3),i(551)],void 0===(r=function(t,e,i,n){return i.extend({className:"tab-content",template:t.template(n),config:{},initialize:function(t){this.config=t.config,i.prototype.initialize.apply(this,arguments)},configure:function(){return t.contains(this.config.activeForTypes,this.getRoot().getType())&&this.trigger("tab:register",{code:this.code,label:e(this.config.label)}),i.prototype.configure.apply(this,arguments)},render:function(){t.contains(this.config.activeForTypes,this.getRoot().getType())&&(this.$el.html(this.template()),this.renderExtensions())}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(3),i(5),i(376),i(552)],void 0===(r=function(t,e,i,n,r,o){return i.extend({template:e.template(o),locales:[],configure:function(){return t.when(i.prototype.configure.apply(this,arguments),n.getFetcher("locale").fetchActivated().then(function(t){this.locales=t}.bind(this)))},render:function(){this.$el.html(this.template({attributeId:this.getFormData().meta.id,sortable:!this.getFormData().auto_option_sorting,localeCodes:e.pluck(this.locales,"code")})),r(this.$(".attribute-option-grid")),this.renderExtensions()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(35),i(394)],void 0===(r=function(t,e){return t.extend({remover:e})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(214)],void 0===(r=function(t){return t.extend({isVisible:function(){return void 0!==this.getFormData().is_locale_specific&&this.getFormData().is_locale_specific}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(34),i(5),i(100)],void 0===(r=function(t,e,i,n,r,o){return n.extend({events:{"change select":function(t){this.errors=[],this.updateModel(this.getFieldValue(t.target)),this.getRoot().render()}},template:e.template(o),measures:{},configure:function(){return t.when(n.prototype.configure.apply(this,arguments),r.getFetcher("measure").fetchAll().then(function(t){this.measures=t}.bind(this)))},renderInput:function(t){var n=this.getFormData().metric_family;return this.template(e.extend(t,{value:this.getFormData()[this.fieldName],choices:this.formatChoices(this.measures[n].units),multiple:!1,labels:{defaultLabel:i("pim_enrich.entity.attribute.property.default_metric_unit.choose")}}))},postRender:function(){this.$("select.select2").select2()},isVisible:function(){return void 0!==this.getFormData().metric_family&&null!==this.getFormData().metric_family},formatChoices:function(t){var n=Object.keys(t);return e.object(n,n.map(t=>i(`pim_measure.units.${t}`)))},getFieldValue:function(e){return t(e).val()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(34),i(5),i(6),i(10),i(553)],void 0===(r=function(t,e,i,n,r,o,a,s){return n.extend({events:{"change select":function(t){this.errors=[],this.updateModel(this.getFieldValue(t.target)),this.getRoot().render()}},template:e.template(s),attributeGroups:{},configure:function(){return t.when(n.prototype.configure.apply(this,arguments),r.getFetcher("attribute-group").fetchAll().then(function(t){this.attributeGroups=t}.bind(this)))},renderInput:function(t){return this.template(e.extend(t,{value:this.getFormData()[this.fieldName],groups:e.sortBy(this.attributeGroups,"sort_order"),i18n:a,locale:o.get("catalogLocale"),labels:{defaultLabel:i("pim_enrich.entity.attribute.property.group.choose")}}))},postRender:function(){this.$("select.select2").select2()},getFieldValue:function(e){return t(e).val()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(102)],void 0===(r=function(t){return t.extend({updateModel:function(){t.prototype.updateModel.apply(this,arguments),!1===this.getFormData().is_locale_specific&&this.setData({available_locales:[]},{silent:!0})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(102)],void 0===(r=function(t,e){return e.extend({configure:function(){return this.listenTo(this.getRoot(),this.getRoot().preUpdateEventName,this.onPreUpdate.bind(this)),e.prototype.configure.apply(this,arguments)},onPreUpdate:function(t){if(void 0!==t.unique&&!0===t.unique){var e={};e[this.fieldName]=!1,this.setData(e,{silent:!0})}},isReadOnly:function(){return e.prototype.isReadOnly.apply(this,arguments)||void 0!==this.getFormData().unique&&!0===this.getFormData().unique||t.has(this.config,"readOnlyForTypes")&&t.contains(this.config.readOnlyForTypes,this.getRoot().getType())}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(34),i(5),i(100)],void 0===(r=function(t,e,i,n,r,o){return n.extend({events:{"change select":function(t){this.errors=[],this.updateModel(this.getFieldValue(t.target)),this.getRoot().render()}},template:e.template(o),measures:{},configure:function(){return t.when(n.prototype.configure.apply(this,arguments),r.getFetcher("measure").fetchAll().then(function(t){this.measures=t}.bind(this)))},renderInput:function(t){return this.template(e.extend(t,{value:this.getFormData()[this.fieldName],choices:this.formatChoices(this.measures),multiple:!1,labels:{defaultLabel:i("pim_enrich.entity.attribute.property.metric_family.choose")}}))},postRender:function(){this.$("select.select2").select2()},formatChoices:function(t){var n=Object.keys(t);return e.object(n,n.map(t=>i(`pim_measure.families.${t}`)))},updateModel:function(){n.prototype.updateModel.apply(this,arguments),this.setData({default_metric_unit:null},{silent:!0})},getFieldValue:function(e){return t(e).val()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(102)],void 0===(r=function(t,e){return e.extend({configure:function(){return this.listenTo(this.getRoot(),this.getRoot().preUpdateEventName,this.onPreUpdate.bind(this)),e.prototype.configure.apply(this,arguments)},onPreUpdate:function(t){if(void 0!==t.unique&&!0===t.unique){var e={};e[this.fieldName]=!1,this.setData(e,{silent:!0})}},isReadOnly:function(){return e.prototype.isReadOnly.apply(this,arguments)||void 0!==this.getFormData().unique&&!0===this.getFormData().unique||t.has(this.config,"readOnlyForTypes")&&t.contains(this.config.readOnlyForTypes,this.getRoot().getType())}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(34),i(100)],void 0===(r=function(t,e,i,n){return i.extend({events:{"change select":function(t){this.errors=[],this.updateModel(this.getFieldValue(t.target)),this.getRoot().render()}},template:t.template(n),renderInput:function(i){var n=this.getFormData()[this.fieldName],r={};return r[n]=e("pim_enrich.entity.attribute.property.type."+n),this.template(t.extend(i,{value:n,choices:r,multiple:!1,labels:{defaultLabel:""}}))},postRender:function(){this.$("select.select2").select2()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(102)],void 0===(r=function(t,e){return e.extend({isReadOnly:function(){return e.prototype.isReadOnly.apply(this,arguments)||!t.contains(this.config.activeForTypes,this.getRoot().getType())}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(103)],void 0===(r=function(t){return t.extend({isVisible:function(){return"regexp"===this.getFormData().validation_rule}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(8),i(2),i(3),i(14),i(556)],void 0===(r=function(t,e,i,n,r,o,a){return r.extend({config:{},initialize:function(t){this.config=t.config,r.prototype.initialize.apply(this,arguments)},configure:function(){var t=a.getFormName(this.getRoot().getType(),this.config.mode);return void 0!==t&&null!==t?o.getFormMeta(t).then(o.buildForm).then(function(t){return this.addExtension(t.code,t,"self",100),r.prototype.configure.apply(this)}.bind(this)):r.prototype.configure.apply(this)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(147)],void 0===(r=function(t){return t.extend({type:null,configure:function(){return this.on("pim_enrich:form:entity:post_fetch",this.render),t.prototype.configure.apply(this,arguments)},setType:function(t){this.type=t},getType:function(){return this.type},render:function(){var e=this.$el.find(".edit-form").scrollTop();t.prototype.render.apply(this,arguments),this.$el.find(".edit-form").scrollTop(e)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(3),i(557),i(9),i(175),i(23)],void 0===(r=function(t,e,i,n,r,o,a,s){return n.extend({className:"AknBreadcrumb",template:e.template(r),events:{"click .breadcrumb-tab":"redirectTab","click .breadcrumb-item":"redirectItem"},initialize:function(t){return this.config=t.config,n.prototype.initialize.apply(this,arguments)},configure:function(){return o.trigger("pim_menu:highlight:tab",{extension:this.config.tab}),o.trigger("pim_menu:highlight:item",{extension:this.config.item}),n.prototype.configure.apply(this,arguments)},render:function(){return t.when(a.getFormMeta(this.config.tab),a.getFormMeta(this.config.item)).then(function(t,e){var n={code:this.config.tab,label:i(t.config.title)},r=null;if(void 0!==e&&(r={code:this.config.item,label:i(e.config.title),active:!0}),void 0!==this.config.itemPath&&null!==s.accessProperty(this.getFormData(),this.config.itemPath)){var o=s.accessProperty(this.getFormData(),this.config.itemPath);r={code:o,label:o,active:!1}}this.$el.empty().append(this.template({breadcrumbTab:n,breadcrumbItem:r})),this.delegateEvents()}.bind(this))},redirectTab:function(){o.trigger("pim_menu:redirect:tab",{extension:this.config.tab})},redirectItem:function(){o.trigger("pim_menu:redirect:item",{extension:this.config.item})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(3),i(101),i(2)],void 0===(r=function(t,e,i,n){return e.extend({className:"tabbable history",historyGrid:null,initialize:function(i){return this.config=t.extend({},i.config),this.config.modelDependent=!1,e.prototype.initialize.call(this,arguments)},configure:function(){return this.trigger("tab:register",{code:this.config.tabCode?this.config.tabCode:this.code,label:n(this.config.title)}),e.prototype.configure.apply(this,arguments)},render:function(){return this.historyGrid||(this.historyGrid=new i("history-grid",{object_class:this.config.class,object_id:this.getFormData().meta.id})),this.$el.empty().append(this.historyGrid.render().$el),this}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(3),i(5),i(23),i(558),i(17)],void 0===(r=function(t,e,i,n,r,o){return i.extend({className:"tabsection",template:t.template(o),render:function(){var t=this.options.config;this.$el.html(this.template({model:this.getFormData(),sectionTitle:e(t.sectionTitle),codeLabel:e(t.codeLabel),formRequired:e(t.formRequired),inputField:t.inputField,hasId:null!==r.accessProperty(this.getFormData(),"meta.id")})),this.$el.find("select.select2").select2({}),this.renderExtensions()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(3),i(5),i(559),i(6),i(9),i(23),i(17)],void 0===(r=function(t,e,i,n,r,o,a,s){return i.extend({className:"tabsection",template:t.template(r),catalogLocale:o.get("catalogLocale"),errors:[],events:{"change input.code":"updateCode"},initialize:function(t){return this.config=t.config,i.prototype.initialize.apply(this,arguments)},configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:bad_request",this.setValidationErrors.bind(this)),this.listenTo(this.getRoot(),"pim_enrich:form:entity:bad_request",this.render.bind(this)),this.listenTo(this.getRoot(),"pim_enrich:form:entity:pre_save",this.resetValidationErrors.bind(this)),i.prototype.configure.apply(this,arguments)},render:function(){return this.configured?(this.$el.html(this.template({code:this.getFormData().code,hasId:t.has(this.getFormData().meta,"id"),sectionTitle:e(this.config.title),catalogLocale:this.catalogLocale,errors:this.getValidationErrorsForField("code"),label:e(this.config.codeLabel),requiredLabel:e("pim_common.required_label")})),this.delegateEvents(),void this.renderExtensions()):this},updateCode:function(t){var e=this.getFormData();e.code=t.target.value,this.setData(e)},getValidationErrorsForField:function(t){return s.accessProperty(this.errors,t,[])},setValidationErrors:function(t){this.errors=t.response},resetValidationErrors:function(){this.errors={},this.render()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(8),i(2),i(3),i(31)],void 0===(r=function(t,e,i,n,r,o){return r.extend({config:{},template:null,initialize:function(t){this.config=t.config,e.has(t,"forwarded-events")&&this.forwardMediatorEvents(t["forwarded-events"]),r.prototype.initialize.apply(this,arguments)},configure:function(){if(void 0===this.config.template)throw new Error('The view "'+this.code+'" must be configured with a template.');return this.template=o(this.config.template),this.listenTo(this.getRoot(),"grid:third_column:toggle",this.toggleThirdColumn.bind(this)),r.prototype.configure.apply(this,arguments)},render:function(){var t=this.config.templateParams||{};t=e.extend({},{__:n},t),this.$el.html(e.template(this.template)(t)),this.renderExtensions()},toggleThirdColumn(){var t=this.$el.find(".AknDefault-thirdColumnContainer"),e=this.$el.find(".AknDefault-thirdColumn").outerWidth()||300;null!==t&&(t.css({marginLeft:-e}),t.toggleClass("AknDefault-thirdColumnContainer--open"))}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(3),i(2),i(9)],void 0===(r=function(t,e,i){return t.extend({count:null,initialize(t){this.config=t.config,i.once("grid_load:start",this.setupCount.bind(this)),i.on("grid_load:complete",this.setupCount.bind(this))},render(){null===this.count?!1===this.config.countable&&this.$el.text(e(this.config.title)):this.$el.text(e(this.config.title,{count:this.count},this.count))},setupCount(t){this.count=t.state.totalRecords,this.render()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(560),i(204),i(562),i(6),i(10),i(89)],void 0===(r=function(t,e,i,n,r,o,a,s,l){return n.extend({tagName:"div",className:"AknDropdown AknButtonList-item nav nav-tabs group-selector",template:e.template(o),configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:validation_error",this.onValidationError),this.listenTo(this.getRoot(),"pim_enrich:form:entity:post_fetch",this.onPostFetch),this.listenTo(this.getRoot(),"pim_enrich:form:to-fill:cleared",this.render),this.listenTo(this.getRoot(),"pim_enrich:form:switch_attribute_group",this.setAttributeGroup.bind(this)),n.prototype.configure.apply(this,arguments)},onValidationError:function(t){this.removeBadges();var i=t.sentData,n=e.uniq(t.response.values,function(t){return JSON.stringify(t)});n&&r.getAttributeGroupsForObject(i).then(function(t){var i=[];e.each(n,function(e){e.global&&i.push(e);var n=r.getAttributeGroupForAttribute(t,e.attribute);this.addToBadge(n,"invalid")}.bind(this)),!e.isEmpty(n)&&n.length>i.length&&this.getRoot().trigger("pim_enrich:form:show_attribute",e.first(n))}.bind(this))},onPostFetch:function(){this.removeBadges()},render:function(){return t.when(r.getAttributeGroupsForObject(this.getFormData())).then(function(t){var n=a.get("catalogScope"),o=a.get("catalogLocale"),c=l.getMissingRequiredFields(this.getFormData(),n,o),u=e.uniq(e.map(c,function(e){return r.getAttributeGroupForAttribute(t,e)}));this.$el.empty(),this.ensureDefault(),this.shouldBeDisplayed(this.getElements())&&this.$el.html(this.template({current:this.getCurrent(),elements:e.sortBy(this.getElements(),"sort_order"),badges:this.badges,locale:a.get("catalogLocale"),toFillAttributeGroups:u,allAttributeCode:this.all.code,currentElement:e.findWhere(this.getElements(),{code:this.getCurrent()}),i18n:s,label:i("pim_enrich.entity.attribute_group.uppercase_label")})),this.delegateEvents()}.bind(this)),this},shouldBeDisplayed:function(t){var e=Object.keys(t).length;return 1<e||1===e&&this.all.code!==Object.values(t)[0].code},setAttributeGroup:function(t){this.setCurrent(t,{silent:!0})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(563),i(565)],void 0===(r=function(t,e,i,n){return i.extend({className:"",template:e.template(n),currentKey:"current_column_tab",configure:function(){return this.listenTo(this.getRoot(),"column-tab:select-tab",this.selectTab),i.prototype.configure.apply(this,arguments)},registerTab:function(t){i.prototype.registerTab.apply(this,arguments),this.getRoot().trigger("column-tab:register",t)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(3),i(566)],void 0===(r=function(t,e,i,n,r){return n.extend({className:"AknColumn-block",template:e.template(r),tabs:[],currentTab:null,events:{"click .column-navigation-link":"selectTab"},currentKey:"current_column_tab",initialize:function(t){return this.config=t.config,n.prototype.initialize.apply(this,arguments)},configure:function(){return this.tabs=[],this.currentTab=sessionStorage.getItem(this.currentKey),this.listenTo(this.getRoot(),"column-tab:register",this.registerTab),this.listenTo(this.getRoot(),"column-tab:select-tab",this.setCurrentTab),n.prototype.configure.apply(this,arguments)},render:function(){this.$el.empty().html(this.template({tabs:this.getTabs(),currentTab:this.getCurrentTabOrDefault(),title:i(this.config.title)}))},registerTab:function(t){var e={code:t.code,isVisible:t.isVisible,label:t.label,route:t.code};this.tabs.push(e),this.trigger("pim_menu:column:register_navigation_item",e),this.render()},selectTab:function(t){this.getRoot().trigger("column-tab:select-tab",t),this.setCurrentTab(t.currentTarget.dataset.tab),this.render()},setCurrentTab:function(t){this.currentTab=t},getCurrentTabOrDefault:function(){var t=e.findWhere(this.getTabs(),{code:this.currentTab});return void 0===t?e.first(e.pluck(this.tabs,"code")):t.code},getTabs:function(){return e.filter(this.tabs,function(t){return!e.isFunction(t.isVisible)||t.isVisible()})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(59),i(12),i(395),i(37),i(10),i(6),i(11),i(23)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c,u){return n.extend({configure:function(){return this.notReadyMessage=i(this.config.notReadyMessage),n.prototype.configure.apply(this,arguments)},getFieldLabels:function(t,i){return e.map(t,function(t){return s.getLabel(t.attribute.label,i,t.attribute.code)})},showFlashMessage:function(t,e){var n=i(t,{fields:e.join(", ")});r.notify("error",n)},save:function(){var t=e.union(this.config.excludedProperties,["meta"]),i=e.omit(this.getFormData(),t),n=a.getNotReadyFields();if(0<n.length){var r=l.get("catalogLocale"),s=this.getFieldLabels(n,r);return this.showFlashMessage(this.notReadyMessage,s)}this.showLoadingMask(),this.getRoot().trigger("pim_enrich:form:entity:pre_save");var d=this.config.entityIdentifierParamName||"code",p="identifier";void 0!==this.config.identifierParamName&&(p="undefined"===this.config.identifierParamName?void 0:this.configure.identifierParamName);var h=u.accessProperty(this.getFormData(),d,""),f=this.config.redirectAfterRouteIdentifierParamName||"identifier";return o.setUrl(this.config.url).setIdentifierProperty(p).save(h,i,this.config.method||"POST").then(function(t){if(this.postSave(t),this.setData(t),this.getRoot().trigger("pim_enrich:form:entity:post_fetch",t),this.config.redirectAfter){var e={};e[f]=h,c.redirectToRoute(this.config.redirectAfter,e)}}.bind(this)).fail(this.fail.bind(this)).always(this.hideLoadingMask.bind(this))}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(8),i(9),i(3),i(567)],void 0===(r=function(t,e,i,n,r,o){return r.extend({className:"AknTitleContainer-rightButton",template:e.template(o),buttonDefaults:{priority:100,events:{}},events:{},initialize:function(){this.model=new i.Model({buttons:[]}),this.on("save-buttons:add-button",this.addButton.bind(this)),r.prototype.initialize.apply(this,arguments)},render:function(){var t=this.model.get("buttons");return this.$el.html(this.template({primaryButton:e.first(t),secondaryButtons:t.slice(1)})),this.delegateEvents(),this},addButton:function(t){var i=e.extend({},this.buttonDefaults,t);this.events=e.extend(this.events,i.events);var n=this.model.get("buttons");n.push(i),n=e.sortBy(n,"priority").reverse(),this.model.set("buttons",n)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(8),i(19),i(3),i(568)],void 0===(r=function(t,e,i,n,r,o,a){return o.extend({className:"updated-status",template:e.template(a),state:null,linkSelector:'a[href^="/"]:not(".no-hash")',initialize:function(t){this.config=e.extend({},{confirmationMessage:"pim_enrich.entity.fallback.module.edit.discard_changes",confirmationTitle:"pim_enrich.entity.fallback.module.edit.leave",message:"pim_common.entity_updated"},t.config),this.confirmationMessage=i(this.config.confirmationMessage,{entity:i(this.config.entity)}),this.confirmationTitle=i(this.config.confirmationTitle),this.message=i(this.config.message),o.prototype.initialize.apply(this,arguments)},configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:update_state",this.render),this.listenTo(this.getRoot(),"pim_enrich:form:entity:post_update",this.render),this.listenTo(this.getRoot(),"pim_enrich:form:entity:post_fetch",this.collectAndRender),this.listenTo(this.getRoot(),"pim_enrich:form:state:confirm",this.onConfirmation),this.listenTo(this.getRoot(),"pim_enrich:form:can-leave",this.linkClicked),t(window).on("beforeunload",this.beforeUnload.bind(this)),n.Router.prototype.on("route",this.unbindEvents),o.prototype.configure.apply(this,arguments)},unbindEvents:function(){t(window).off("beforeunload",this.beforeUnload)},render:function(){return(null===this.state||void 0===this.state)&&this.collectState(),this.$el.html(this.template({message:this.message})).css("opacity",this.hasModelChanged()?1:0),this},collectState:function(){this.state=JSON.stringify(this.getFormData())},collectAndRender:function(){this.collectState(),this.render()},beforeUnload:function(){if(this.hasModelChanged())return this.confirmationMessage},linkClicked:function(t){this.hasModelChanged()&&(t.canLeave=confirm(this.confirmationMessage))},hasModelChanged:function(){return this.state!==JSON.stringify(this.getFormData())},confirmAction:function(t,e,i){this.hasModelChanged()?r.confirm(t,e,i):i()},onConfirmation:function(t){this.confirmAction(t.message||this.confirmationMessage,t.title||this.confirmationTitle,t.action)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(3),i(569)],void 0===(r=function(t,e,i,n){return i.extend({template:t.template(n),config:{},initialize:function(t){return this.config=t.config,i.prototype.initialize.apply(this,arguments)},render:function(){return this.$el.empty(),t.isEmpty(this.extensions)||this.$el.html(this.template({label:e(this.config.label)})),i.prototype.render.apply(this,arguments)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(3),i(570)],void 0===(r=function(t,e,i,n){return i.extend({className:"AknSubsection",template:t.template(n),initialize:function(t){this.config=t.config,i.prototype.initialize.apply(this,arguments)},render:function(){return this.$el.empty().append(this.template({title:e(this.config.title)})),i.prototype.render.apply(this,arguments)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(3),i(571),i(48)],void 0===(r=function(t,e,i,n){return e.extend({tagName:"img",className:"AknTitleContainer-image",template:t.template(i),initialize:function(t){this.config=t.config,e.prototype.initialize.apply(this,arguments)},configure(){this.listenTo(this.getRoot(),"pim_enrich:form:entity:post_fetch",this.render.bind(this))},render:function(){if(null!==this.getPath())return this.el.src=this.getPath(),e.prototype.render.apply(this,arguments)},getPath:function(){if(void 0!==this.config.path)return this.config.path;var e=t.result(this.getFormData().meta.image,"filePath",null);return null===e&&void 0!==this.config.fallbackPath?this.config.fallbackPath:n.getMediaShowUrl(e,"thumbnail_small")}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(3),i(9),i(572),i(23)],void 0===(r=function(t,e,i,n,r,o){return i.extend({tagName:"span",className:"AknTitleContainer-metaItem",template:t.template(r),initialize:function(t){this.config=t.config,this.label=e(this.config.label),this.value=e(this.config.value),i.prototype.initialize.apply(this,arguments)},configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:entity:post_update",this.render),i.prototype.configure.apply(this,arguments)},render:function(){var t=this.getFormData(),e=this.config.valuePath?o.accessProperty(t,this.config.valuePath):"";return this.$el.html(this.template({label:this.label,value:e})),this}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(3),i(9),i(573),i(574),i(37),i(66),i(6),i(5),i(10)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c,u){return i.extend({template:e.template(r),className:"AknAttributeActions-copyActions attribute-copy-actions",copyFields:{},copying:!1,locale:null,scope:null,scopeLabel:null,events:{"click .stop-copying":"stopCopying","click .select-all":"selectAll","click .select-all-visible":"selectAllVisible","click .select-none":"selectNone","click .copy":"copy"},configure:function(){return this.locale=l.get("catalogLocale"),this.scope=l.get("catalogScope"),this.getScopeLabel(this.scope).then(function(t){this.scopeLabel=t}.bind(this)),this.listenTo(this.getRoot(),"pim_enrich:form:field:extension:add",this.addFieldExtension),this.listenTo(this.getRoot(),"pim_enrich:form:scope_switcher:pre_render",this.initScope.bind(this)),this.listenTo(this.getRoot(),"pim_enrich:form:scope_switcher:change",function(t){"copy_product"===t.context&&this.setScope(t.scopeCode)}.bind(this)),this.listenTo(this.getRoot(),"pim_enrich:form:locale_switcher:pre_render",this.initLocale.bind(this)),this.listenTo(this.getRoot(),"pim_enrich:form:locale_switcher:change",function(t){"copy_product"===t.context&&this.setLocale(t.localeCode)}.bind(this)),this.listenTo(this.getRoot(),"pim_enrich:form:start_copy",this.startCopying.bind(this)),this.getScopeLabel(this.scope).then(function(t){this.scopeLabel=t}.bind(this)).then(function(){return i.prototype.configure.apply(this,arguments)}.bind(this))},getSourceData:function(){return this.getFormData().values},render:function(){return this.trigger("comparison:change",this.copying),this.$el.html(this.template({copying:this.copying})),this.copying&&this.renderExtensions(),this.delegateEvents(),this},addFieldExtension:function(t){var e=t.field;this.copying&&this.canBeCopied(e)&&e.addElement("comparison",this.code,this.getCopyField(e))},getCopyField:function(t){var i=t.attribute.code;if(!e.has(this.copyFields,i)){var n=this.getSourceData(),r=new o(t.attribute);r.setContext({locale:this.locale,scope:this.scope,scopeLabel:u.getLabel(this.scopeLabel,this.locale,this.scope)}),r.setValues(n[i]),r.setField(t),this.copyFields[i]=r}return this.copyFields[i]},canBeCopied:function(t){return(t.attribute.localizable||t.attribute.scopable)&&(!t.attribute.is_locale_specific||e.contains(t.attribute.available_locales,this.getLocale()))},copy:function(){e.each(this.copyFields,function(t){if(t.selected&&t.field&&t.field.isEditable()){var e=this.getFormModel().get("values"),i=s.getValue(e[t.field.attribute.code],t.field.attribute,l.get("catalogLocale"),l.get("catalogScope"));if(void 0===i)return;var n=t.getCurrentValue();if(void 0===n)return;i.data=n.data,this.getRoot().trigger("pim_enrich:form:entity:update_state"),t.setSelected(!1)}}.bind(this)),this.trigger("copy:copy-fields:after")},startCopying:function(){this.copying=!0,this.triggerContextChange()},stopCopying:function(){this.getRoot().trigger("pim_enrich:form:stop_copy"),this.copying=!1,this.triggerContextChange()},initLocale:function(t){"copy_product"===t.context&&(void 0===this.getLocale()?this.setLocale(t.localeCode):t.localeCode=this.getLocale())},setLocale:function(t){this.locale=t,this.triggerContextChange()},getLocale:function(){return this.locale},initScope:function(t){"copy_product"===t.context&&(void 0===this.getScope()?this.setScope(t.scopeCode):t.scopeCode=this.getScope())},setScope:function(t){this.getScopeLabel(t).then(function(e){this.scopeLabel=e,this.scope=t,this.triggerContextChange()}.bind(this))},getScope:function(){return this.scope},triggerContextChange:function(){this.copyFields={},this.trigger("copy:context:change")},selectAll:function(){var i=[];e.each(this.getSourceData(),function(t,e){i.push(a.getField(e))}.bind(this)),t.when.apply(this,i).then(function(){this.selectFields(arguments)}.bind(this))},selectAllVisible:function(){this.selectFields(a.getVisibleFields())},selectNone:function(){this.selectFields([])},unselectAll:function(){e.each(this.copyFields,function(t){t.setSelected(!1)})},selectFields:function(t){this.unselectAll(),e.each(t,function(t){this.canBeCopied(t)&&this.getCopyField(t).setSelected(!0)}.bind(this)),this.trigger("copy:select:after")},getScopeLabel:function(t){return c.getFetcher("channel").fetchAll().then(function(i){return e.findWhere(i,{code:t}).labels})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r,o={attribute_icons:{pim_catalog_identifier:"id",pim_catalog_text:"text",pim_catalog_textarea:"textarea",pim_catalog_number:"number",pim_catalog_price_collection:"price",pim_catalog_multiselect:"multiselect",pim_catalog_simpleselect:"select",pim_catalog_file:"file",pim_catalog_image:"asset",pim_catalog_boolean:"switch",pim_catalog_date:"date",pim_catalog_metric:"metric",pim_reference_data_multiselect:"multiselect",pim_reference_data_simpleselect:"select"}};n=[i(1),i(0),i(2),i(8),i(3),i(576),i(74),i(577),i(7),i(5),i(11),i(73)],void 0===(r=function(t,e,i,n,r,a,s,l,c,u,d){return r.extend({template:e.template(a),innerTemplateModal:e.template(l),templateModal:e.template(s),initialize:function(t){this.config=t.config,r.prototype.initialize.apply(this,arguments)},createModal:function(e){var r=this.formatAndSortAttributeTypesByLabel(e),a=o,s=null;t("#attribute-create-button").on("click",function(){s?s.open():(s=new n.BootstrapModal({title:i("pim_enrich.entity.attribute.property.type.choose"),subtitle:i("pim_enrich.entity.attribute.module.create.button"),content:this.innerTemplateModal({attributeTypes:r,iconsMap:a.attribute_icons,generateRoute:function(t,e){return c.generate(t,e)}}),okText:"",template:this.templateModal})).open(),s.$el.on("click",".attribute-choice",function(){s.close(),s.$el.remove(),d.redirect(t(this).attr("data-route"),{trigger:!0})}),s.$el.on("click",".cancel",()=>{s.close(),s.$el.remove()})}.bind(this))},render:function(){return u.getFetcher("attribute-type").fetchAll().then(function(t){this.$el.html(this.template({buttonTitle:i(this.config.buttonTitle)})),this.createModal(t)}.bind(this)),this},formatAndSortAttributeTypesByLabel:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({code:n,label:i("pim_enrich.entity.attribute.property.type."+t[n])});return e.sort(function(t,e){return t.label.localeCompare(e.label)}),e}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(3),i(101),i(6)],void 0===(r=function(t,e,i){return t.extend({grid:null,initialize:function(e){this.config=e.config,t.prototype.initialize.apply(this,arguments)},configure:function(){var n=this.config.metadata||{};n[this.config.localeKey||"localeCode"]=i.get("catalogLocale"),this.grid=new e(this.config.alias,n),t.prototype.configure.apply(this,arguments)},render:function(){return this.$el.empty().append(this.grid.render().$el),this}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(3),i(578),i(7),i(199),i(14)],void 0===(r=function(t,e,i,n,r,o,a,s){return n.extend({template:e.template(r),dialog:null,initialize:function(t){this.config=t.config,n.prototype.initialize.apply(this,arguments)},render:function(){return this.$el.html(this.template({title:i(this.config.title),iconName:this.config.iconName,url:this.config.url?o.generate(this.config.url):""})),this.config.modalForm?(this.$el.on("click",function(){s.build(this.config.modalForm).then(function(t){t.open()})}.bind(this)),this):(this.dialog=new a("#create-button-extension"),this)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(3),i(582)],void 0===(r=function(t,e,i,n){return i.extend({className:"AknSecondaryActions AknDropdown AknButtonList-item secondary-actions",template:t.template(n),render:function(){this.$el.empty(),t.isEmpty(this.extensions)||(this.$el.html(this.template({titleLabel:e("pim_datagrid.actions.other")})),this.renderExtensions())}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(3),i(7),i(583)],void 0===(r=function(t,e,i,n,r){return i.extend({template:t.template(r),initialize:function(t){this.config=t.config||{},i.prototype.initialize.apply(this,arguments)},render:function(){return this.$el.html(this.template({buttonClass:this.config.buttonClass,buttonLabel:e(this.config.buttonLabel),title:e(this.config.title),message:e(this.config.message),url:n.generate(this.config.url),redirectUrl:n.generate(this.config.redirectUrl),errorMessage:e(this.config.errorMessage),successMessage:e(this.config.successMessage),subTitle:e(this.config.subTitle)})),this.renderExtensions(),this}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(584),i(12),i(9),i(2)],void 0===(r=function(t,e,i,n){return t.extend({confirmModal(t,r){this.save().done(()=>{t.close(),t.remove(),r.resolve(),e.notify("success",n(this.config.successMessage)),i.trigger("datagrid:doRefresh:"+this.config.gridName)})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(8),i(7),i(3),i(6),i(10),i(2),i(5),i(28),i(585)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c,u){return r.extend({options:{},template:e.template(u),events:{"change input":"updateModel"},updateModel(){var t=this.getFormModel(),e=this.$("input").select2("val");t.set("type",e)},fetchGroupTypes(t,e){var i=l.getFetcher("group-type"),n=this.getFormData().type;i.fetchAll().then(t=>{var i=this.parseResults(t).results,r=n||i[0].id;this.getFormModel().set("type",r),e(i[0])})},parseResults(t){var i=o.get("catalogLocale"),n={results:[]};return e.reject(t,{is_variant:!this.options.config.include_variant}).forEach(t=>{var e=t.code,r=t.labels;n.results.push({id:e,text:a.getLabel(r,i,e)})}),n},render(){if(!this.configured)return this;var t=this.getFormData(),e=o.get("catalogLocale");this.$el.html(this.template({label:s("pim_common.type"),type:t.type,required:s("pim_common.required_label"),isEditable:this.options.config.editable}));var i={initSelection:this.fetchGroupTypes.bind(this),allowClear:!1,ajax:{url:n.generate("pim_enrich_grouptype_rest_index"),results:this.parseResults.bind(this),quietMillis:250,cache:!0,data:t=>({search:t,options:{limit:20,locale:e}})}};c.init(this.$("input"),i).select2("val",[]),this.delegateEvents()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(8),i(7),i(3),i(6),i(10),i(2),i(586),i(63)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c){return r.extend({options:{},template:e.template(l),events:{"change select":"updateModel"},configure(){var t=this.options.config.type;return new c({urls:{list:this.options.config.url}}).search({jobType:t}).then(t=>{this.jobs=t,r.prototype.configure.apply(this,arguments)})},updateModel(e){var i=this.$(e.target),n=t(":selected",i).closest("optgroup");this.getFormModel().set({alias:i.val(),connector:n.attr("label")})},render(){if(!this.configured)return this;var t=this.getRoot().validationErrors||[],e=this.options.config.identifier||"alias";this.$el.html(this.template({label:s(this.options.config.label),jobs:this.jobs,required:s("pim_common.required_label"),selectedJobType:this.getFormData().alias,errors:t.filter(t=>t.path===e),__:s})),this.$el.find(".job-input").select2(),this.delegateEvents()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(8),i(3),i(587),i(588),i(5),i(73),i(14),i(26),i(74)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c,u,d){return r.extend({template:e.template(o),modalTemplate:e.template(d),modalContentTemplate:e.template(a),events:{"click .create-product-button":"openModal"},initialize(t){this.config=t.config,this.modal=null,r.prototype.initialize.apply(this,arguments)},closeModal(){this.modal&&(this.modal.close(),this.modal.$el.off())},getAllowedChoices:t=>Object.values(t).filter(t=>u.isGranted(t.aclResourceId)),openModal(){this.modal&&this.closeModal();var t=this.config,e=t.choices,r=t.modalTitle,o=t.subTitle,a=this.getAllowedChoices(e);if(1===a.length){var s=a[0];return this.openFormModal(null,s.form)}var l=[];return Object.keys(a).forEach(t=>{l[t]=a[t],l[t].title=i(l[t].title)}),this.modal=new n.BootstrapModal({title:i(r),subtitle:i(o),okText:"",template:this.modalTemplate,content:this.modalContentTemplate({choices:l})}).open(),this.modal.$el.on("click",".cancel",this.closeModal.bind(this)),this.modal.$el.on("click",".product-choice",this.openFormModal.bind(this)),this.modal},shutdown:function(){this.modal&&this.modal.$el.off(),r.prototype.shutdown.apply(this,arguments)},openFormModal(e,i){var n=i||t(e.currentTarget).attr("data-form");return c.build(n).then(t=>{this.closeModal(),t.open()})},render(){var t=this.config,e=t.choices,n=t.buttonTitle;return 0===this.getAllowedChoices(e).length?void this.$el.hide():void this.$el.html(this.template({buttonTitle:i(n)}))}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(3),i(589)],void 0===(r=function(t,e,i){return e.extend({className:"AknHeader",template:t.template(i),render:function(){return this.$el.empty().append(this.template()),e.prototype.render.apply(this,arguments)},renderExtension:function(i){(t.isEmpty(i.options.config)||i.options.config.to||!t.isFunction(i.hasChildren)||i.hasChildren())&&e.prototype.renderExtension.apply(this,arguments)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(3),i(11),i(7),i(590),i(9)],void 0===(r=function(t,e,i,n,r,o,a){return i.extend({template:t.template(o),events:{click:"redirect"},active:!1,items:[],className:"AknHeader-menuItemContainer",initialize:function(t){this.config=t.config,this.items=[],a.on("pim_menu:highlight:tab",this.highlight,this),a.on("pim_menu:redirect:tab",this.redirect,this),i.prototype.initialize.apply(this,arguments)},configure:function(){this.listenTo(this.getRoot(),"pim_menu:register_item",this.registerItem),i.prototype.configure.apply(this,arguments)},render:function(){return this.$el.empty(),this.config.to||this.hasChildren()?(this.$el.append(this.template({active:this.active,title:this.getLabel(),url:r.generateHash(this.getRoute(),this.getRouteParams()),iconModifier:this.config.iconModifier})),i.prototype.render.apply(this,arguments)):this},redirect:function(e){t.has(e,"extension")||(e.stopPropagation(),e.preventDefault()),e.metaKey||e.ctrlKey||t.has(e,"extension")&&e.extension!==this.code||void 0===this.getRoute()||n.redirectToRoute(this.getRoute(),this.getRouteParams())},getRoute:function(){return void 0===this.config.to?t.first(t.sortBy(this.items,"position")).route:this.config.to},getRouteParams:function(){return void 0===this.config.to?t.first(t.sortBy(this.items,"position")).routeParams:"undefined"===this.config.routeParams?{}:this.config.routeParams},getLabel:function(){return e(this.config.title)},highlight:function(t){this.active=t.extension===this.code,this.render()},registerItem:function(t){t.target===this.code&&this.items.push(t)},hasChildren:function(){return 0<this.items.length}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(3),i(11),i(7),i(591),i(9)],void 0===(r=function(t,e,i,n,r,o,a){return i.extend({template:t.template(o),events:{"click .navigation-item":"redirect"},active:!1,initialize:function(t){this.config=t.config,a.on("pim_menu:highlight:item",this.highlight,this),a.on("pim_menu:redirect:item",this.redirect,this),i.prototype.initialize.apply(this,arguments)},configure:function(){this.trigger("pim_menu:column:register_navigation_item",{route:this.getRoute(),label:this.getLabel(),position:this.position,routeParams:this.getRouteParams()}),i.prototype.configure.apply(this,arguments)},render:function(){return this.$el.empty().append(this.template({title:this.getLabel(),url:r.generateHash(this.getRoute(),this.getRouteParams()),active:this.active})),this.delegateEvents(),i.prototype.render.apply(this,arguments)},redirect:function(e){t.has(e,"extension")||(e.stopPropagation(),e.preventDefault()),e.metaKey||e.ctrlKey||t.has(e,"extension")&&e.extension!==this.code||n.redirectToRoute(this.getRoute(),this.getRouteParams())},getRoute:function(){return this.config.to},getRouteParams:function(){return"undefined"===this.config.routeParams?{}:this.config.routeParams},getLabel:function(){return e(this.config.title)},highlight:function(t){this.active=t.extension===this.code,this.render()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(3),i(194),i(592)],void 0===(r=function(t,e,i,n,r){return i.extend({analyticsUrl:"pim_analytics_data_collect",className:"AknHeader-menuItemContainer",template:t.template(r),render:function(){return this.getUrl().then(t=>{this.$el.empty().append(this.template({helper:e("pim_menu.tab.help.helper"),title:e("pim_menu.tab.help.title"),url:t}))}),i.prototype.render.apply(this,arguments)},getUrl(){return n.collect(this.analyticsUrl).then(t=>{var e=t.pim_version;return`${t.pim_edition}${e}`})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(3),i(593)],void 0===(r=function(t,e,i,n){return i.extend({className:"AknColumn-block",template:t.template(n),initialize:function(t){this.config=t.config,i.prototype.initialize.apply(this,arguments)},configure:function(){this.onExtensions("pim_menu:column:register_navigation_item",function(t){this.trigger("pim_menu:column:register_navigation_item",t)}),i.prototype.configure.apply(this,arguments)},render:function(){this.$el.empty().append(this.template({title:e(this.config.title)})),i.prototype.render.apply(this,arguments)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(3),i(11),i(6),i(353),i(48),i(594)],void 0===(r=function(t,e,i,n,r,o,a,s){return i.extend({className:"AknTitleContainer-userMenu",template:t.template(s),events:{"click .logout":"logout","click .user-account":"userAccount"},initialize:function(t){this.config=t.config,i.prototype.initialize.apply(this,arguments)},render:function(){this.$el.html(this.template({firstName:r.get("first_name"),lastName:r.get("last_name"),avatar:this.getAvatar(),logoutLabel:e(this.config.logout),userAccountLabel:e(this.config.userAccount)}));var t=new o({imgUrl:"bundles/pimimportexport/images/loading.gif",loadingText:e("pim_common.loading"),noNotificationsMessage:e("pim_notification.no_notifications"),markAsReadMessage:e("pim_notification.mark_all_as_read")});return t.setElement(this.$(".notification")).render(),t.refresh(),i.prototype.render.apply(this,arguments)},logout:function(){window.location=n.generate("pim_user_logout_redirect")},userAccount:function(){n.redirectToRoute("pim_user_edit",{identifier:r.get("meta").id})},getAvatar:function(){var t=r.get("avatar").filePath;return null===t||void 0===t?null:a.getMediaShowUrl(r.get("avatar").filePath,"thumbnail_small")}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(3),i(11),i(595)],void 0===(r=function(t,e,i,n){return e.extend({className:"AknHeader-menuItemContainer",template:t.template(n),events:{click:"backHome"},render:function(){return this.$el.html(this.template()),e.prototype.render.apply(this,arguments)},backHome:function(){t.isUndefined(this.options.config.to)?i.redirectToRoute("oro_default"):i.redirectToRoute(this.options.config.to)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(579),i(11),i(9)],void 0===(r=function(t,e,i,n){return e.extend({active:!1,initialize:function(){n.on("pim_menu:highlight:tab",this.highlight,this),e.prototype.initialize.apply(this,arguments)},render:function(){return this.active?e.prototype.render.apply(this,arguments):this.$el.empty()},highlight:function(t){this.active=t.extension===this.getTab(),this.render()},getTab:function(){return this.config.tab},redirect:function(t){i.redirectToRoute(t.currentTarget.dataset.tab)},registerNavigationItem:function(t){e.prototype.registerNavigationItem.apply(this,arguments),this.getRoot().trigger("pim_menu:register_item",{target:this.getTab(),route:t.route,position:t.position,routeParams:t.routeParams})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(34),i(88),i(115),i(64),i(596)],void 0===(r=function(t,e,i,n,r,o,a){return i.extend({events:{"change input":function(t){this.errors=[],this.updateModel(this.getFieldValue(t.target)),this.getRoot().render()}},template:e.template(a),modelDateFormat:"yyyy-MM-dd",renderInput:function(t){var i=r.format(this.getModelValue(),this.modelDateFormat,o.get("date").format);return this.template(e.extend(t,{value:i,readOnly:this.readOnly}))},postRender:function(){n.init(this.$(".date-wrapper"),{format:o.get("date").format,defaultFormat:o.get("date").defaultFormat,language:o.get("language")}).on("changeDate",function(){this.errors=[],this.updateModel(this.getFieldValue(this.$("input")[0])),this.$(".date-wrapper").datetimepicker("destroy"),this.getRoot().render()}.bind(this))},getFieldValue:function(e){var i=o.get("date").format,n=t(e).val();return r.format(n,i,this.modelDateFormat)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(34),i(599)],void 0===(r=function(t,e,i,n){return i.extend({template:e.template(n),events:{"keyup textarea":function(t){this.errors=[],this.updateModel(this.getFieldValue(t.target))}},renderInput:function(t){return this.template(e.extend(t,{value:this.getModelValue()}))},getFieldValue:function(e){return t(e).val()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(102),i(118)],void 0===(r=((t,e)=>t.extend({updateModel(i){e.writeValue.call(this,t,i)},getModelValue(){return e.readValue.call(this,t)}})).apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(116),i(118)],void 0===(r=((t,e)=>t.extend({updateModel(i){e.writeValue.call(this,t,i)},getModelValue(){return e.readValue.call(this,t)}})).apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(103),i(118)],void 0===(r=((t,e)=>t.extend({updateModel(i){e.writeValue.call(this,t,i)},getModelValue(){return e.readValue.call(this,t)}})).apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(600),i(118)],void 0===(r=((t,e)=>t.extend({updateModel(i){e.writeValue.call(this,t,i)},getModelValue(){return e.readValue.call(this,t)}})).apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(41),i(0),i(608),i(58)],void 0===(r=function(t,e,i){return t.extend({fieldTemplate:e.template(i),events:{'change .field-input input[type="checkbox"]':"updateModel"},renderInput:function(t){return this.fieldTemplate(t)},postRender:function(){this.$(".switch").bootstrapSwitch()},updateModel:function(){var t=this.$('.field-input:first input[type="checkbox"]').prop("checked");this.setCurrentValue(t)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(41),i(0),i(609),i(88),i(64)],void 0===(r=function(t,e,i,n,r,o){return e.extend({fieldTemplate:i.template(n),events:{'change .field-input:first input[type="text"]':"updateModel",'click .field-input:first input[type="text"]':"click"},datetimepickerOptions:{format:o.get("date").format,defaultFormat:o.get("date").defaultFormat,language:o.get("language")},renderInput:function(t){return this.fieldTemplate(t)},click:function(e){var i=t(e.currentTarget).parent(),n=this.$(".datetimepicker");r.init(n,this.datetimepickerOptions),i.datetimepicker("show"),n.on("changeDate",function(t){this.setCurrentValue(this.$(t.target).find('input[type="text"]').val())}.bind(this))},updateModel:function(){var t=this.$('.field-input:first input[type="text"]').val();t=""===t?this.attribute.empty_value:t,this.setCurrentValue(t)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(41),i(0),i(7),i(66),i(610),i(19),i(9),i(12),i(48),i(143)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c){return e.extend({fieldTemplate:i.template(o),events:{'change .edit .field-input:first input[type="file"]':"updateModel","click  .clear-field":"clearField","click  .open-media":"previewImage"},uploadContext:{},renderInput:function(t){return this.fieldTemplate(t)},getTemplateContext:function(){return e.prototype.getTemplateContext.apply(this,arguments).then(function(t){return t.inUpload=!this.isReady(),t.mediaUrlGenerator=c,t}.bind(this))},renderCopyInput:function(e){return this.getTemplateContext().then(function(i){var n=t.extend(!0,{},i);return n.value=e,n.context.locale=e.locale,n.context.scope=e.scope,n.editMode="view",n.mediaUrlGenerator=c,this.renderInput(n)}.bind(this))},updateModel:function(){this.isReady()||a.alert(i.__("pim_enrich.entity.product.flash.update.already_in_upload",{locale:this.context.locale,scope:this.context.scope}));var e=this.$('.edit .field-input:first input[type="file"]').get(0);if(e&&0!==e.files.length){var r=new FormData;r.append("file",e.files[0]),this.setReady(!1),this.uploadContext={locale:this.context.locale,scope:this.context.scope},t.ajax({url:n.generate("pim_enrich_media_rest_post"),type:"POST",data:r,contentType:!1,cache:!1,processData:!1,xhr:function(){var e=t.ajaxSettings.xhr();return e.upload&&e.upload.addEventListener("progress",this.handleProcess.bind(this),!1),e}.bind(this)}).done(function(t){this.setUploadContextValue(t),this.render()}.bind(this)).fail(function(t){var e=t.responseJSON&&t.responseJSON.message?t.responseJSON.message:i.__("pim_enrich.entity.product.flash.update.file_upload");l.enqueueMessage("error",e)}).always(function(){this.$("> .akeneo-media-uploader-field .progress").css({opacity:0}),this.setReady(!0),this.uploadContext={}}.bind(this))}},clearField:function(){this.setCurrentValue({filePath:null,originalFilename:null}),this.render()},handleProcess:function(t){this.uploadContext.locale===this.context.locale&&this.uploadContext.scope===this.context.scope&&(this.$("> .akeneo-media-uploader-field .progress").css({opacity:1}),this.$("> .akeneo-media-uploader-field .progress .bar").css({width:t.loaded/t.total*100+"%"}))},previewImage:function(){var e=c.getMediaShowUrl(this.getCurrentValue().data.filePath,"preview");e&&t.slimbox(e,"",{overlayOpacity:.3})},setUploadContextValue:function(t){r.getValue(this.model.get("values"),this.attribute,this.uploadContext.locale,this.uploadContext.scope).data=t,s.trigger("pim_enrich:form:entity:update_state")}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(41),i(0),i(2),i(5),i(611),i(28)],void 0===(r=function(t,e,i,n,r,o,a){return e.extend({fieldTemplate:i.template(o),events:{"change .field-input:first .data, .field-input:first .unit":"updateModel"},renderInput:function(e){var r=t(this.fieldTemplate(i.extend({},e,{__:n})));return a.init(r.find(".unit")),r},getTemplateContext:function(){return t.when(e.prototype.getTemplateContext.apply(this,arguments),r.getFetcher("measure").fetchAll()).then(function(t,e){return t.measures=e,t})},setFocus:function(){this.$(".data:first").focus()},updateModel:function(){var t=this.$(".field-input:first .data").val(),e=this.$(".field-input:first .unit").select2("val");this.setCurrentValue({unit:""===e?this.attribute.default_metric_unit:e,amount:""===t?null:t})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(41),i(0),i(612)],void 0===(r=function(t,e,i){return t.extend({fieldTemplate:e.template(i),events:{'change .field-input:first input[type="text"]':"updateModel"},renderInput:function(t){return this.fieldTemplate(t)},updateModel:function(){var t=this.$('.field-input:first input[type="text"]').val();""===t&&(t=this.attribute.empty_value),this.setCurrentValue(t)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(41),i(0),i(5),i(613)],void 0===(r=function(t,e,i,n,r){return e.extend({fieldTemplate:i.template(r),events:{'change .field-input:first input[type="text"]':"updateModel"},renderInput:function(t){return void 0===t.value?null:(t.value.data=i.sortBy(t.value.data,"currency"),this.fieldTemplate(t))},updateModel:function(){var e=[],n=this.$(".field-input:first .price-input input");i.each(n,function(i){var n=t(i),r=n.val();e.push({amount:""===r?null:r,currency:n.data("currency")})}.bind(this)),this.setCurrentValue(i.sortBy(e,"currency"))},getTemplateContext:function(){return t.when(e.prototype.getTemplateContext.apply(this,arguments),n.getFetcher("currency").fetchAll()).then(function(t,e){return t.currencies=e,t})},setFocus:function(){this.$('input[type="text"]:first').focus()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(41),i(0),i(614)],void 0===(r=function(t,e,i){return t.extend({fieldTemplate:e.template(i),events:{'change .field-input:first input[type="text"]':"updateModel"},renderInput:function(t){return this.fieldTemplate(t)},updateModel:function(){var t=this.$('.field-input:first input[type="text"]').val();t=""===t?this.attribute.empty_value:t,this.setCurrentValue(t)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(41),i(0),i(216)],void 0===(r=function(t,e,i){return t.extend({fieldTemplate:e.template(i),events:{"change .field-input:first textarea":"updateModel"},renderInput:function(t){return this.fieldTemplate(t)},updateModel:function(){var t=this.$(".field-input:first textarea:first").val();t=""===t?this.attribute.empty_value:t,this.setCurrentValue(t)},setFocus:function(){this.$(".field-input:first textarea").focus()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(41),i(0),i(216),i(197)],void 0===(r=function(t,e,i,n){return e.extend({fieldTemplate:i.template(n),events:{"change .field-input:first textarea:first":"updateModel","click .note-insert":"moveModalBackdrop"},renderInput:function(t){return this.fieldTemplate(t)},postRender:function(){this.$("textarea").summernote({disableResizeEditor:!0,height:200,iconPrefix:"icon-",toolbar:[["font",["bold","italic","underline","clear"]],["para",["ul","ol"]],["insert",["link"]],["view",["codeview"]]],callbacks:{}}).on("summernote.blur",this.updateModel.bind(this)).on("summernote.keyup",this.removeEmptyTags.bind(this)),this.$(".note-codable").on("blur",function(){this.removeEmptyTags(),this.updateModel()}.bind(this))},removeEmptyTags:function(){var e=this.$(".field-input:first textarea:first"),i=t.parseHTML(e.code());0===t(i).text().length&&e.code("")},updateModel:function(){var t=this.$(".field-input:first textarea:first").code();t=""===t?this.attribute.empty_value:t,this.setCurrentValue(t)},setFocus:function(){this.$(".field-input:first .note-editable").trigger("focus")},moveModalBackdrop:function(){t(".modal-backdrop").prependTo(".AknFullPage")}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(145),i(5),i(96),i(144)],void 0===(r=function(t,e,i,n,r,o){return i.extend({lineView:o,render:function(){return this.hasRightToAdd()?i.prototype.render.apply(this,arguments):this},onGetQuery:function(t){return n.getFetcher("attribute").search({identifiers:this.getParent().getOtherAttributes().join(","),search:t.term}).then(this.prepareChoices).then(function(e){t.callback({results:e,more:!1})})},prepareChoices:function(t){return e.chain(t).map(function(t){return r.formatOne(t)}).value()},hasRightToAdd:function(){return this.getParent().hasRightToAdd()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(3),i(615),i(5),i(10),i(11),i(6)],void 0===(r=function(t,e,i,n,r,o,a,s,l){return n.extend({template:e.template(r),config:{},locales:[],id:"locale-switcher",className:"AknDropdown AknColumn-block locale-switcher",events:{"click [data-locale]":"changeLocale"},initialize(t){return this.config=t.config,n.prototype.initialize.apply(this,arguments)},configure(){return t.when(this.fetchLocales().then(t=>this.locales=t),n.prototype.configure.apply(this,arguments))},render(){var t=l.get("catalogLocale"),n=e.find(this.locales,{code:t});void 0===n&&(n=e.first(this.locales)),this.$el.empty().append(this.template({localeLabel:i("pim_enrich.entity.locale.uppercase_label"),locales:this.locales,currentLocale:n,i18n:a,getDisplayName:this.getDisplayName}))},fetchLocales:()=>o.getFetcher("locale").fetchActivated(),getDisplayName:t=>t.language,changeLocale(t){var e=this.config.localeParamName,i=this.$(t.currentTarget).attr("data-locale");s.redirectToRoute(this.config.routeName,{[e]:i})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(3),i(616),i(211)],void 0===(r=function(t,e,i,n,r,o){return n.extend({template:e.template(r),className:"AknDropdown AknColumn-block category-switcher",events:{click:"toggleThirdColumn"},isOpen:!1,categoryLabel:null,treeLabel:null,outsideEventListener:null,configure:function(){return this.listenTo(this.getRoot(),"pim_enrich:form:category_updated",this.updateValue),this.listenTo(this.getRoot(),"grid:third_column:toggle",this.updateHighlight),n.prototype.configure.apply(this,arguments)},render(){null===this.treeLabel||""===this.treeLabel.trim()||(this.$el.html(this.template({label:i("pim_enrich.entity.category.uppercase_label"),isOpen:this.isOpen,categoryLabel:this.categoryLabel,treeLabel:this.treeLabel})),this.renderExtensions())},shutdown(){return o.destroy(),n.prototype.shutdown.apply(this,arguments)},toggleThirdColumn(){o.set({maxWidth:500,minWidth:300,container:".AknDefault-thirdColumn",storageKey:"category-switcher"}),this.getRoot().trigger("grid:third_column:toggle"),this.isOpen||(this.outsideEventListener=this.outsideClickListener.bind(this),document.addEventListener("mousedown",this.outsideEventListener)),this.isOpen=!this.isOpen,this.render()},outsideClickListener(e){var i=0<t(".AknDefault-thirdColumnContainer--open").length,n=0<t(e.target).closest(".AknFilterBox-addFilterButton").length;i&&n&&(o.destroy(),this.toggleThirdColumn(),document.removeEventListener("mousedown",this.outsideEventListener))},updateValue(t){this.categoryLabel=t.categoryLabel,this.treeLabel=t.treeLabel,this.render()},updateHighlight(){this.isHighlited=!this.isHighlited,this.render()}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(8),i(3),i(617)],void 0===(r=function(t,e,i,n,r,o){return r.extend({template:e.template(o),className:"AknDefault-bottomPanel AknDefault-bottomPanel--hidden AknMassActions mass-actions",collection:null,count:0,events:{"click .select-all":"selectAll","click .select-none":"selectNone","click .select-visible":"selectVisible","click .select-button":"toggleButton"},initialize:function(t){this.config=t.config,r.prototype.initialize.apply(this,arguments)},configure(){var t=t=>{null===this.collection&&this.listenTo(t,"backgrid:selected",this.select.bind(this)),this.collection=t,this.updateView()};this.listenTo(this.getRoot(),"grid_load:start",t),this.listenTo(this.getRoot(),"grid_load:complete",t),r.prototype.configure.apply(this,arguments)},render(){this.$el.html(this.template({selectedProductsLabel:i(this.config.label),select:i("pim_datagrid.select.title"),selectAll:i("pim_common.all"),selectVisible:i("pim_datagrid.select.all_visible"),selectNone:i("pim_common.none")})),this.updateView(),r.prototype.render.apply(this,arguments)},select(t,e){this.count=e?Math.min(this.count+1,this.collection.state.totalRecords):Math.max(this.count-1,0),this.updateView()},selectAll(){this.count=this.collection.state.totalRecords,this.collection.trigger("backgrid:selectAll"),this.updateView()},selectVisible(){this.collection.trigger("backgrid:selectAllVisible"),this.updateView()},selectNone(){this.count=0,this.collection.trigger("backgrid:selectNone"),this.updateView()},toggleButton(){this.count===this.collection.state.totalRecords?this.selectNone():this.selectAll()},updateView(){0<this.count?(this.$el.removeClass("AknDefault-bottomPanel--hidden"),this.count>=this.collection.state.totalRecords?this.$el.find(".AknSelectButton").removeClass("AknSelectButton--partial").addClass("AknSelectButton--selected"):this.$el.find(".AknSelectButton").removeClass("AknSelectButton--selected").addClass("AknSelectButton--partial")):(this.$el.addClass("AknDefault-bottomPanel--hidden"),this.$el.find(".AknSelectButton").removeClass("AknSelectButton--selected").removeClass("AknSelectButton--partial")),this.$el.find(".count").text(this.count)}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(1),i(14),i(3),i(187)],void 0===(r=function(t,e,i,n,r){return n.extend({config:{alias:"product-grid",categoryTreeName:"pim_enrich_product_grid_category_tree"},id:"tree",className:"filter-item",attributes:{"data-name":"category","data-type":"tree","data-relatedentity":"product"},initialize(t){return this.config=Object.assign(this.config,t.config||{}),n.prototype.initialize.apply(this,arguments)},configure(){return this.listenTo(this.getRoot(),"datagrid:getParams",this.setupCategoryTree),n.prototype.configure.apply(this,arguments)},setupCategoryTree(t){var e=new r(t,this.config.alias,this.config.categoryTreeName,this.$el,t=>{this.valueUpdated(t)});return this.listenTo(e,"update",function(t){this.valueUpdated(t)}),this.listenTo(e,"update_label",function(t){this.valueUpdated(t)}),e},valueUpdated(t){this.getRoot().trigger("pim_enrich:form:category_updated",{categoryLabel:this.getCategoryLabel(t.value.categoryId),treeLabel:this.getTreeLabel()})},getCategoryLabel(t){return this.trimCount(e("#node_"+t+" > a:first").text().trim())},getTreeLabel(){return this.trimCount(e("#tree_toolbar .select2-chosen").text().trim())},trimCount:t=>t.replace(/(.*) \(\d+\)/,(t,e)=>e)})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(2),i(1),i(3),i(618)],void 0===(r=function(t,e,i,n,r){return n.extend({className:"AknDefault-thirdColumnButton",template:t.template(r),events:{click:"toggleThirdColumn"},render(){this.$el.append(this.template({label:e("pim_common.done")}))},toggleThirdColumn(){this.getRoot().trigger("grid:third_column:toggle")}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(1),i(14),i(3)],void 0===(r=function(t,e,i,n){return n.extend({className:"view-selector",config:{gridName:"product-grid"},initialize(t){return this.config=Object.assign(this.config,t.config||{}),n.prototype.initialize.apply(this,arguments)},render(){i.getFormMeta("pim-grid-view-selector").then(i.buildForm).then(t=>t.configure(this.config.gridName).then(()=>{t.setElement(".view-selector").render()}))}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(8),i(3),i(624),i(215),i(623),i(46),i(190),i(12)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c,u){return r.extend({template:e.template(o),templateModalContent:e.template(a),templateInput:e.template(s),tagName:"span",className:"create-button",events:{"click .create":"promptCreateView"},render:function(){return"view"===this.getRoot().currentViewType?(this.$el.html(this.template({label:i("pim_datagrid.view_selector.create_view")})),this.$('[data-toggle="tooltip"]').tooltip(),this):(this.$el.html(""),this)},promptCreateView:function(){this.getRoot().trigger("grid:view-selector:close-selector");var t=new n.BootstrapModal({subtitle:i("pim_datagrid.view_selector.view"),title:i("pim_common.create"),picture:"illustrations/Views.svg",okText:i("pim_common.save"),okCloses:!1,content:this.templateModalContent({fields:this.templateInput({placeholder:i("pim_datagrid.view_selector.placeholder"),label:i("pim_datagrid.view_selector.choose_label")})})});t.open();var e=t.$el.find(".ok").addClass("AknButton--disabled");t.on("ok",this.saveView.bind(this,t)),t.on("cancel",function(){t.remove()}.bind(this)),t.$('input[name="new-view-label"]').on("input",function(t){t.target.value.length?e.removeClass("AknButton--disabled"):e.addClass("AknButton--disabled")}),t.$('input[name="new-view-label"]').on("keypress",function(t){13===(t.keyCode||t.which)&&t.target.value.length&&e.trigger("click")})},saveView:function(i){if(!t(".modal .ok").hasClass("AknButton--disabled")){var n=l.get(this.getRoot().gridAlias,["filters","columns"]),r={filters:n.filters,columns:n.columns,label:i.$('input[name="new-view-label"]').val()};c.save(r,this.getRoot().gridAlias).done(function(t){this.getRoot().trigger("grid:view-selector:view-created",t.id),i.close(),i.remove()}.bind(this)).fail(function(t){e.each(t.responseJSON,function(t){u.notify("error",t)})})}}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(3),i(625),i(46),i(19),i(7),i(6),i(190),i(12)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c,u){return n.extend({template:e.template(r),tagName:"span",className:"save-button",events:{"click .save":"saveView"},configure:function(){return this.listenTo(this.getRoot(),"grid:view-selector:state-changed",this.onDatagridStateChange),n.prototype.configure.apply(this,arguments)},render:function(){return"view"!==this.getRoot().currentViewType||l.get("meta").id!==this.getRoot().currentView.owner_id?void this.$el.html(""):(this.$el.html(this.template({dirty:this.dirty,label:i("pim_datagrid.view_selector.save_changes")})),void this.$('[data-toggle="tooltip"]').tooltip())},onDatagridStateChange:function(t){var i=this.getRoot().initialView;if(null!==i&&0!==i.id){var n=i.filters!==t.filters,r=!e.isEqual(i.columns,t.columns.split(","));this.dirty=n||r,this.render()}},saveView:function(){var i=o.get(this.getRoot().gridAlias,["filters","columns"]),n=t.extend(!0,{},this.getRoot().currentView);n.filters=i.filters,n.columns=i.columns,c.save(n,this.getRoot().gridAlias).done(function(t){this.getRoot().trigger("grid:view-selector:view-saved",t.id)}.bind(this)).fail(function(t){e.each(t.responseJSON,function(t){u.notify("error",t)})})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(1),i(0),i(2),i(3),i(626),i(19),i(6),i(327),i(12)],void 0===(r=function(t,e,i,n,r,o,a,s,l){return n.extend({template:e.template(r),tagName:"span",className:"remove-button",events:{"click .remove":"promptDeletion"},render:function(){return"view"!==this.getRoot().currentViewType||0===this.getRoot().currentView.id||a.get("meta").id!==this.getRoot().currentView.owner_id?(this.$el.html(""),this):(this.$el.html(this.template({label:i("pim_datagrid.view_selector.remove")})),this.$('[data-toggle="tooltip"]').tooltip(),this)},promptDeletion:function(t){t.stopPropagation(),o.confirm(i("pim_datagrid.view_selector.confirmation.remove"),i("pim_common.delete"),function(){this.removeView(this.getRoot().currentView)}.bind(this))},removeView:function(t){s.remove(t).done(function(){this.getRoot().trigger("grid:view-selector:view-removed")}.bind(this)).fail(function(t){l.notify("error",t.responseJSON)})}})}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n,r;n=[i(0),i(1),i(11),i(110),i(87),i(46),i(31),i(3),i(6),i(5),i(277),i(20)],void 0===(r=function(t,e,i,n,r,o,a,s,l,c,u,d){return s.extend({config:{},loadingMask:null,initialize(t){return this.config=t.config,this.loadingMask=new d,s.prototype.initialize.apply(this,arguments)},getStoredDisplayType(){return localStorage.getItem(`display-selector:${this.config.gridName}`)},getDefaultView(){return c.getFetcher("datagrid-view").defaultUserView(this.config.gridName).then(t=>t.view)},getDefaultColumns(){return c.getFetcher("datagrid-view").defaultColumns(this.config.gridName)},loadDataGrid(i){if("string"!=typeof i&&null!==i){var r=this.config.gridName,a=l.get("catalogLocale"),s=o.get(r,["view","filters","columns"]);s.columns&&(i.metadata.state.parameters=t.extend({},i.metadata.state.parameters,{view:{columns:s.columns,id:s.view}})),i.metadata=this.applyDisplayType(i.metadata),e(`#grid-${r}`).data({metadata:i.metadata,data:JSON.parse(i.data)});var c=decodeURI(i.metadata.options.url).split("?")[0],d=e.param({dataLocale:a});i.metadata.options.url=`${c}?${d}`,n([u]),this.loadingMask.hide()}},applyDisplayType(t){var i=this.getStoredDisplayType(),n=Object.assign({},t),r=(n.options.displayTypes||{})[i];return"default"===i||void 0===r?t:(n.options.manageColumns=r.manageColumns,n.options.rowView=r.rowView,e("#product-grid").addClass(`AknGrid--${i}`),n)},getInitialParams(){var t=l.get("catalogLocale"),e={dataLocale:t,alias:this.config.gridName};return e.params={dataLocale:t},e},applyColumns(e,i){i=t.clone(i);var n=this.config.gridName;return t.isArray(e)&&(e=e.join()),i[`${n}[_parameters][view][columns]`]=e,o.set(n,{columns:e}),i},applyView(e,i){i=t.clone(i);var n=this.config.gridName;return i[`${n}[_parameters][view][id]`]=e,o.set(n,{view:e}),i},applyFilters(e,i){i=t.clone(i);var n=this.config.gridName,a=r.prototype.decodeStateData(e),s={};t.isEmpty(a.filters)||(s={state:{filters:t.omit(a.filters,"scope")}});var l=new r(null,s);for(var c in l.processFiltersParams(i,a,`${n}[_filter]`),a.sorters)i[`${n}[_sort_by][${c}]`]=1===parseInt(a.sorters[c])?"DESC":"ASC";return a.pageSize&&(i[`${n}[_pager][_per_page]`]=25),a.currentPage&&(i[`${n}[_pager][_page]`]=a.currentPage),o.set(n,{filters:e}),i},setDatagridState(t,n){var r=this.config,a=r.gridName,s=r.datagridLoadUrl,l=this.getInitialParams();o.get(a,["view"])||o.refreshFiltersFromUrl(a);var c=o.get(a,["view","filters","columns"]);return!n||"0"!==c.view&&null!==c.view?(c.view&&(l=this.applyView(c.view,l)),c.filters&&(l=this.applyFilters(c.filters,l)),l=this.applyColumns(c.columns||t,l)):(l=this.applyView(n.id,l),l=this.applyFilters(n.filters,l),l=this.applyColumns(n.columns,l)),this.getRoot().trigger("datagrid:getParams",l),e.get(i.generate(s,l),this.loadDataGrid.bind(this))},render(){this.$el.empty().append(this.loadingMask.$el),this.loadingMask.render().show(),e.when(this.getDefaultColumns(),this.getDefaultView()).then((t,e)=>this.setDatagridState(t,e))}})}.apply(e,n))||(t.exports=r)},function(t,e){t.exports='<div data-drop-zone="content"></div>\n'},function(t,e){t.exports='<div class="grid-drop" data-type="datagrid"></div>\n'},function(t,e){t.exports='<div class="tabsection-title"><%- __(sectionTitle) %></div>\n<div data-drop-zone="afterTitle"></div>\n<div class="tabsection-content">\n    <div class="AknFormContainer AknFormContainer--withPadding AknFormContainer--large" data-drop-zone="<%- dropZone %>">\n\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="tabsections" data-drop-zone="accordion"></div>\n'},function(t,e){t.exports='<div class="AknFilterBox AknFilterBox--search" data-drop-zone="filters"></div>\n<div class="AknGridToolbar" data-drop-zone="toolbar"></div>\n'},function(t,e){t.exports='<textarea\n    id="pim_enrich_form_<%- fieldId %>"\n    class="AknTextareaField AknTextareaField--monospaced"\n    name="<%- fieldName %>"\n    <% if (readOnly) { %>readonly disabled<% } %>\n><%- value %></textarea>\n'},function(t,e){t.exports='<div class="AknFullPage-ok" data-drop-zone="buttons"></div>\n<div class="AknFullPage-state" data-drop-zone="state"></div>\n<div data-drop-zone="content"></div>\n'},function(t,e){t.exports='<div class="AknColumn-part AknColumn-part--small" data-drop-zone="view-selector"></div>\n<div class="AknColumn-part" data-drop-zone="column-context-switcher"></div>\n<div class="AknColumn-part AknColumn-part--filter" data-drop-zone="manage-filters-button"></div>\n<div data-drop-zone="filters"></div>\n'},function(t,e){t.exports='<div id="product-grid" data-drop-zone="grid">\n    <div class="AknFilterBox" data-drop-zone="filters"></div>\n    <div class="AknGridToolbar" data-drop-zone="toolbar"></div>\n    <div id="grid-<%- gridName %>" data-type="datagrid"></div>\n</div>\n'},function(t,e){t.exports='<span class="flag-language">\n    <i class="flag flag-<%- country %>"></i>\n    <% if (displayLanguage) { %><span class="language"><%- language %></span><% } %>\n</span>\n'},function(t,e){t.exports='<label class="control-label required"><%- field %></label>\n<div class="controls">\n    <input type="text" name="filter-operator" value="<%- operator %>"/>\n    <input\n        class="select2"\n        name="filter-value"\n        type="hidden"\n        value="<%- value ? value : \'\' %>"\n    />\n    <% if (removable) { %><i class="remove icon-trash"></i><% } %>\n</div>\n'},function(t,e){t.exports='<div class="AknCatalogVolume-axis">\n    <div class="AknCatalogVolume-icon AknCatalogVolume-icon--<%- icon %> <%- (true === hasWarning) ? \'AknCatalogVolume-icon--warning\': \'\' %>"></div>\n    <div class="AknCatalogVolume-title">\n        <%- title %>\n        <div class="AknCatalogVolume-value" data-field="<%- name %>">\n            <%- value.toLocaleString(userLocale, { useGrouping: true }) %>\n        </div>\n        <% if (true === hasWarning) { %>\n            <div class="AknCatalogVolume-warning">\n                <%- warningText %>\n            </div>\n        <% } %>\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="AknCatalogVolume-axis">\n    <div class="AknCatalogVolume-icon AknCatalogVolume-icon--<%- icon %> <%- (true === hasWarning) ? \'AknCatalogVolume-icon--warning\': \'\' %>"></div>\n    <div class="AknCatalogVolume-title">\n        <%- title %>\n        <div class="AknCatalogVolume-value" data-field="<%- name %>">\n            <span><%- meanLabel %> <div><%- value.average.toLocaleString(userLocale, { useGrouping: true }) %></div></span>\n            <span><%- maxLabel %> <div><%- value.max.toLocaleString(userLocale, { useGrouping: true }) %></div></span>\n        </div>\n\n        <% if (true === hasWarning) { %>\n            <div class="AknCatalogVolume-warning">\n                <%- warningText %>\n            </div>\n        <% } %>\n    </div>\n</div>\n'},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}],[629]);
//# sourceMappingURL=main.min.js.map